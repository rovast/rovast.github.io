{"meta":{"title":"rovast","subtitle":"rovast's blog","description":null,"author":"John Doe","url":"https://rovast.github.io"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2021-03-20T09:12:44.324Z","updated":"2021-03-20T09:12:44.324Z","comments":false,"path":"/404.html","permalink":"https://rovast.github.io//404.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2021-03-20T09:12:44.368Z","updated":"2021-03-20T09:12:44.368Z","comments":false,"path":"about/index.html","permalink":"https://rovast.github.io/about/index.html","excerpt":"","text":"åç«¯é‡Œæœ€æ‡‚å‰ç«¯çš„ï¼Œå‰ç«¯é‡Œæœ€æ‡‚åç«¯çš„ï¼Œæ¶æ„ä¸­æœ€æ‡‚ä¸šåŠ¡çš„ï¼Œä¸šåŠ¡é‡Œæœ€æ‡‚æ¶æ„çš„ã€‚ æ–‡èƒ½å¹å¤§é“ç†ï¼Œæ­¦èƒ½æ’¸ä»£ç ã€‚ å•¥éƒ½æ‡‚ï¼Œå•¥éƒ½ä¸æ‡‚ã€‚ ğŸº è¿½æ±‚é«˜æ•ˆç®€æ´çš„ç ”å‘å“²å­¦ã€‚"},{"title":"ä¹¦å•","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":false,"path":"books/index.html","permalink":"https://rovast.github.io/books/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":false,"path":"categories/index.html","permalink":"https://rovast.github.io/categories/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":false,"path":"repository/index.html","permalink":"https://rovast.github.io/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":false,"path":"tags/index.html","permalink":"https://rovast.github.io/tags/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":true,"path":"links/index.html","permalink":"https://rovast.github.io/links/index.html","excerpt":"","text":""},{"title":"","date":"2021-03-20T09:12:44.376Z","updated":"2021-03-20T09:12:44.376Z","comments":true,"path":"downloads/code/test.js","permalink":"https://rovast.github.io/downloads/code/test.js","excerpt":"","text":"sdad"}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2021-03-20T09:12:44.344Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2021/03/20/hello-world/","link":"","permalink":"https://rovast.github.io/2021/03/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"ã€è½¬ã€‘npx ä½¿ç”¨æ•™ç¨‹","slug":"use-npx","date":"2021-03-18T02:32:46.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2021/03/18/use-npx/","link":"","permalink":"https://rovast.github.io/2021/03/18/use-npx/","excerpt":"","text":"åŸæ–‡ https://www.ruanyifeng.com/blog/2019/02/npx.html npm ä»5.2ç‰ˆå¼€å§‹ï¼Œå¢åŠ äº† npx å‘½ä»¤ã€‚å®ƒæœ‰å¾ˆå¤šç”¨å¤„ï¼Œæœ¬æ–‡ä»‹ç»è¯¥å‘½ä»¤çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ã€‚ Node è‡ªå¸¦ npm æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ npx å‘½ä»¤ã€‚ä¸‡ä¸€ä¸èƒ½ç”¨ï¼Œå°±è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ã€‚ 1$ npm install -g npx è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—npx æƒ³è¦è§£å†³çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œé¡¹ç›®å†…éƒ¨å®‰è£…äº†æµ‹è¯•å·¥å…· Mochaã€‚ 1$ npm install -D mocha ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨ Mocha ï¼Œåªèƒ½åœ¨é¡¹ç›®è„šæœ¬å’Œ package.json çš„scriptså­—æ®µé‡Œé¢ï¼Œ å¦‚æœæƒ³åœ¨å‘½ä»¤è¡Œä¸‹è°ƒç”¨ï¼Œå¿…é¡»åƒä¸‹é¢è¿™æ ·ã€‚ 12# é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ$ node-modules/.bin/mocha --version npx å°±æ˜¯æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œåªè¦åƒä¸‹é¢è¿™æ ·è°ƒç”¨å°±è¡Œäº†ã€‚ 1$ npx mocha --version npx çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ°node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚ ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚ 12# ç­‰åŒäº ls$ npx ls æ³¨æ„ï¼ŒBash å†…ç½®çš„å‘½ä»¤ä¸åœ¨$PATHé‡Œé¢ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ã€‚æ¯”å¦‚ï¼Œcdæ˜¯ Bash å‘½ä»¤ï¼Œå› æ­¤å°±ä¸èƒ½ç”¨npx cdã€‚ é¿å…å…¨å±€å®‰è£…æ¨¡å—é™¤äº†è°ƒç”¨é¡¹ç›®å†…éƒ¨æ¨¡å—ï¼Œnpx è¿˜èƒ½é¿å…å…¨å±€å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œcreate-react-appè¿™ä¸ªæ¨¡å—æ˜¯å…¨å±€å®‰è£…ï¼Œnpx å¯ä»¥è¿è¡Œå®ƒï¼Œè€Œä¸”ä¸è¿›è¡Œå…¨å±€å®‰è£…ã€‚ 1$ npx create-react-app my-react-app ä¸Šé¢ä»£ç è¿è¡Œæ—¶ï¼Œnpx å°†create-react-appä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤ã€‚æ‰€ä»¥ï¼Œä»¥åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šé‡æ–°ä¸‹è½½create-react-appã€‚ ä¸‹è½½å…¨å±€æ¨¡å—æ—¶ï¼Œnpx å…è®¸æŒ‡å®šç‰ˆæœ¬ã€‚ 1$ npx uglify-js@3.1.0 main.js -o ./dist/main.js ä¸Šé¢ä»£ç æŒ‡å®šä½¿ç”¨ 3.1.0 ç‰ˆæœ¬çš„uglify-jså‹ç¼©è„šæœ¬ã€‚ æ³¨æ„ï¼Œåªè¦ npx åé¢çš„æ¨¡å—æ— æ³•åœ¨æœ¬åœ°å‘ç°ï¼Œå°±ä¼šä¸‹è½½åŒåæ¨¡å—ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°æ²¡æœ‰å®‰è£…http-serveræ¨¡å—ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½è¯¥æ¨¡å—ï¼Œåœ¨å½“å‰ç›®å½•å¯åŠ¨ä¸€ä¸ª Web æœåŠ¡ã€‚ 1$ npx http-server --no-install å‚æ•°å’Œ--ignore-existing å‚æ•°å¦‚æœæƒ³è®© npx å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—ï¼Œä¸ä¸‹è½½è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--no-installå‚æ•°ã€‚å¦‚æœæœ¬åœ°ä¸å­˜åœ¨è¯¥æ¨¡å—ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 1$ npx --no-install http-server åè¿‡æ¥ï¼Œå¦‚æœå¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--ignore-existingå‚æ•°ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°å·²ç»å…¨å±€å®‰è£…äº†create-react-appï¼Œä½†è¿˜æ˜¯æƒ³ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå°±ç”¨è¿™ä¸ªå‚æ•°ã€‚ 1$ npx --ignore-existing create-react-app my-react-app ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ nodeåˆ©ç”¨ npx å¯ä»¥ä¸‹è½½æ¨¡å—è¿™ä¸ªç‰¹ç‚¹ï¼Œå¯ä»¥æŒ‡å®šæŸä¸ªç‰ˆæœ¬çš„ Node è¿è¡Œè„šæœ¬ã€‚å®ƒçš„çªé—¨å°±æ˜¯ä½¿ç”¨ npm çš„ node æ¨¡å—ã€‚ 12$ npx node@0.12.8 -vv0.12.8 ä¸Šé¢å‘½ä»¤ä¼šä½¿ç”¨ 0.12.8 ç‰ˆæœ¬çš„ Node æ‰§è¡Œè„šæœ¬ã€‚åŸç†æ˜¯ä» npm ä¸‹è½½è¿™ä¸ªç‰ˆæœ¬çš„ nodeï¼Œä½¿ç”¨åå†åˆ æ‰ã€‚ æŸäº›åœºæ™¯ä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ‡æ¢ Node ç‰ˆæœ¬ï¼Œè¦æ¯” nvm é‚£æ ·çš„ç‰ˆæœ¬ç®¡ç†å™¨æ–¹ä¾¿ä¸€äº›ã€‚ -p å‚æ•°-på‚æ•°ç”¨äºæŒ‡å®š npx æ‰€è¦å®‰è£…çš„æ¨¡å—ï¼Œæ‰€ä»¥ä¸Šä¸€èŠ‚çš„å‘½ä»¤å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ 12$ npx -p node@0.12.8 node -v v0.12.8 ä¸Šé¢å‘½ä»¤å…ˆæŒ‡å®šå®‰è£…`node@0.12.8ï¼Œç„¶åå†æ‰§è¡Œnode -v`å‘½ä»¤ã€‚ -på‚æ•°å¯¹äºéœ€è¦å®‰è£…å¤šä¸ªæ¨¡å—çš„åœºæ™¯å¾ˆæœ‰ç”¨ã€‚ 1$ npx -p lolcatjs -p cowsay [command] -c å‚æ•°å¦‚æœ npx å®‰è£…å¤šä¸ªæ¨¡å—ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æ‰§è¡Œçš„å‘½ä»¤ä¹‹ä¸­ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå¯æ‰§è¡Œé¡¹ä¼šä½¿ç”¨ npx å®‰è£…çš„æ¨¡å—ï¼Œåé¢çš„å¯æ‰§è¡Œé¡¹è¿˜æ˜¯ä¼šäº¤ç»™ Shell è§£é‡Šã€‚ 12$ npx -p lolcatjs -p cowsay 'cowsay hello | lolcatjs'# æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œcowsay hello | lolcatjsæ‰§è¡Œæ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯ç¬¬ä¸€é¡¹cowsayç”± npx è§£é‡Šï¼Œè€Œç¬¬äºŒé¡¹å‘½ä»¤localcatjsç”± Shell è§£é‡Šï¼Œä½†æ˜¯lolcatjså¹¶æ²¡æœ‰å…¨å±€å®‰è£…ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚ -cå‚æ•°å¯ä»¥å°†æ‰€æœ‰å‘½ä»¤éƒ½ç”¨ npx è§£é‡Šã€‚æœ‰äº†å®ƒï¼Œä¸‹é¢ä»£ç å°±å¯ä»¥æ­£å¸¸æ‰§è¡Œäº†ã€‚ 1$ npx -p lolcatjs -p cowsay -c 'cowsay hello | lolcatjs' -cå‚æ•°çš„å¦ä¸€ä¸ªä½œç”¨ï¼Œæ˜¯å°†ç¯å¢ƒå˜é‡å¸¦å…¥æ‰€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œnpm æä¾›å½“å‰é¡¹ç›®çš„ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ã€‚ 1$ npm run env | grep npm_ -cå‚æ•°å¯ä»¥æŠŠè¿™äº› npm çš„ç¯å¢ƒå˜é‡å¸¦å…¥ npx å‘½ä»¤ã€‚ 1$ npx -c 'echo \"$npm_package_name\"' ä¸Šé¢ä»£ç ä¼šè¾“å‡ºå½“å‰é¡¹ç›®çš„é¡¹ç›®åã€‚ æ‰§è¡Œ GitHub æºç npx è¿˜å¯ä»¥æ‰§è¡Œ GitHub ä¸Šé¢çš„æ¨¡å—æºç ã€‚ 12345# æ‰§è¡Œ Gist ä»£ç $ npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32# æ‰§è¡Œä»“åº“ä»£ç $ npx github:piuccio/cowsay hello æ³¨æ„ï¼Œè¿œç¨‹ä»£ç å¿…é¡»æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå³å¿…é¡»åŒ…å«package.jsonå’Œå…¥å£è„šæœ¬ã€‚ å‚è€ƒé“¾æ¥ npx Speed Up Your npm Workflow With npx Introducing npx: an npm package runner ï¼ˆå®Œï¼‰","categories":[],"tags":[]},{"title":"Linuxå®¢æˆ·ç«¯è®¾ç½® socks5+kcptun","slug":"server-set-proxy-use-socks5","date":"2021-03-13T15:08:40.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2021/03/13/server-set-proxy-use-socks5/","link":"","permalink":"https://rovast.github.io/2021/03/13/server-set-proxy-use-socks5/","excerpt":"","text":"ä¹‹å‰æ›´å¤šä½¿ç”¨ Linux æœåŠ¡å™¨ä½œä¸ºæœåŠ¡å™¨æ¥æä¾›ä»£ç†æœåŠ¡ï¼Œè¿™é‡Œä½¿ç”¨ Linux æœºå™¨ä½œä¸ºå®¢æˆ·ç«¯ï¼Œé“¾æ¥è¿œç«¯ä»£ç†æœåŠ¡å™¨ï¼Œä½¿ç”¨çº¯ç»ˆç«¯æ¥è®¾ç½®ä»£ç†ï¼ŒåŠ é€Ÿè®¿é—®ã€‚ åŒæ—¶ï¼Œå‚è€ƒ ã€Špm2 ç®€æ˜ä½¿ç”¨æ•™ç¨‹ã€‹æ¥é…åˆè¿›è¡Œå®ˆæŠ¤è¿›ç¨‹ä½¿ç”¨ å®‰è½¯ä»¶12345678# shadowsockspip3 install shadowsocks# kcptunwget https://github.com/xtaci/kcptun/releases/download/v20210103/kcptun-linux-amd64-20210103.tar.gz# cowï¼Œç”¨äºè½¬æ¢ socks5 åè®®è‡³ http å’Œ httpswget https://github.com/cyfdecyf/cow/releases/download/0.9.8/cow-linux64-0.9.8.gz é…ç½®æ–‡ä»¶ kcptun.json 1234567891011121314151617181920212223&#123; \"localaddr\": \":1080\", \"remoteaddr\": \"REMOTE_SERVER:29900\", \"key\": \"111111\", \"crypt\": \"aes\", \"mode\": \"fast\", \"conn\": 1, \"autoexpire\": 60, \"mtu\": 1350, \"sndwnd\": 512, \"rcvwnd\": 512, \"datashard\": 70, \"parityshard\": 3, \"dscp\": 46, \"nocomp\": false, \"acknodelay\": false, \"nodelay\": 0, \"interval\": 40, \"resend\": 0, \"nc\": 0, \"sockbuf\": 4194304, \"keepalive\": 10&#125; ss.json 123456789&#123; \"server\":\"127.0.0.1\", \"server_port\":1080, \"local_address\": \"127.0.0.1\", \"local_port\":1087, \"password\":\"9SehN7C3GQ9h9Cyt\", \"timeout\":300, \"method\":\"chacha20\"&#125; ~/.cow/rc 12listen = http://127.0.0.1:4411proxy = socks5://127.0.0.1:1087 å¯åŠ¨12345678# socks5 åè®®è½¬ä¸º http å’Œ https/home/rovast/applications/cow-linux64-0.9.8# å¼€å¯ kcptun/home/rovast/applications/kcptun/client_linux_amd64 -c /home/rovast/applications/kcptun/kcptun.json# å¼€å¯ ss/usr/bin/ss-local -c /home/rovast/applications/shadowsocks/ss.json é™„å½• https://github.com/xtaci/kcptun","categories":[],"tags":[]},{"title":"pm2 ç®€æ˜ä½¿ç”¨æ•™ç¨‹","slug":"pm2-usage","date":"2021-03-13T15:04:30.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2021/03/13/pm2-usage/","link":"","permalink":"https://rovast.github.io/2021/03/13/pm2-usage/","excerpt":"","text":"å®‰è£…npm install pm2@latest -g ä¹¦å†™é…ç½®æ–‡ä»¶ä½¿ç”¨é…ç½®æ–‡ä»¶æ¥å¯åŠ¨ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç† ~/.config/pm2/ecosystem.config.yaml 123456789101112131415161718192021222324252627282930313233343536373839404142apps: - script : /home/luohao/applications/code-server-3.9.1-linux-amd64/bin/code-server interpreter: none max_memory_restart: 500M name : 'code-server' instances : 1 exec_mode : fork env: http_proxy : http://127.0.0.1:4411 https_proxy: http://127.0.0.1:4411 - script : /home/luohao/applications/cow-linux64-0.9.8 interpreter: none name : 'cow' instances : 1 exec_mode : fork env: version: 0.9.8 - script : /home/luohao/applications/kcptun/client_linux_amd64 -c /home/luohao/applications/kcptun/kcptun.json interpreter: none name : 'kcptun-client' instances : 1 exec_mode : fork - script : /usr/bin/ss-local -c /home/luohao/applications/shadowsocks/ss.json interpreter: none name : 'shadowsocks-client' instances : 1 exec_mode : fork - script : /home/luohao/.local/bin/projector run Goland interpreter: none name : 'Goland-server' instances : 1 exec_mode : fork - script : /home/luohao/.local/bin/projector run Webstorm interpreter: none name : 'Webstorm-server' instances : 1 exec_mode : fork - script : /home/luohao/.local/bin/projector run Clion interpreter: none name : 'Clion-server' instances : 1 exec_mode : fork interpreter è®¾ç½®ä¸º noneï¼Œç”¨é»˜è®¤è¡Œä¸ºå¯åŠ¨äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä»¥ä¸Šæ˜¯æœåŠ¡å™¨è®¾ç½®å®¢æˆ·ç«¯ä»£ç†çš„è„šæœ¬ï¼Œä¾›å‚è€ƒ å¯åŠ¨1pm2 start ~/.config/pm2/ecosystem.config.yaml å¸¸ç”¨çš„æ“ä½œè¿˜æœ‰ä¸‹é¢çš„ç³»åˆ—æ“ä½œï¼Œå¯ä»¥åœ¨åé¢åŠ ä¸Š jobId(é€šè¿‡ pm2 listæŸ¥çœ‹)ï¼Œæˆ–è€…åŠ ä¸Š echosystem æ–‡ä»¶script123456789pm2 delete JOBID_OR_FILEpm2 stop JOBID_OR_FILEpm2 reload JOBID_OR_FILEpm2 restart JOBID_OR_FILEpm2 descibe JOBID_OR_FILE# ç›‘æ§ç±»pm2 monitpm2 list ç›‘æ§https://app.pm2.io/ è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨1234567pm2 startup# è¾“å…¥å®Œ ä¹‹åæœ‰å¦‚ä¸‹æç¤º# sudo env PATH=$PATH:/home/luohao/.nvm/versions/node/v15.11.0/bin /home/luohao/.nvm/versions/node/v15.11.0/lib/node_modules/pm2/bin/pm2 startup systemd -u luohao --hp /home/luohao# æ›´æ”¹å®Œé…ç½®åæ›´æ–°æœ€æ–°é…ç½®pm2 save","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"ã€è½¬ã€‘äººäººéƒ½æœ‰è®¤çŸ¥éšœ","slug":"renrendouyourenzhizhangai","date":"2021-02-20T05:16:50.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2021/02/20/renrendouyourenzhizhangai/","link":"","permalink":"https://rovast.github.io/2021/02/20/renrendouyourenzhizhangai/","excerpt":"","text":"åŸæ–‡é“¾æ¥ï¼šhttps://mp.weixin.qq.com/s/eO7mVliAl8CwYnGV1FwtJg åŸæ–‡æ ‡é¢˜ï¼šã€Šäººäººéƒ½æœ‰è®¤çŸ¥éšœã€‹ åŸæ–‡å…¬ä¼—å·ï¼šcaozçš„æ¢¦å‘“ ä»¥å‰è®°å¾—çœ‹è¿‡è¿™ä¹ˆä¸€ä¸ªæ®µå­ï¼Œå½“ç„¶æˆ‘æ˜¯æ²¡åŠæ³•æ±‚è¯çœŸä¼ªçš„ï¼Œè¯´å¤§æ¸…åæœŸæœ‰ä¸ªçš‡ä¸Šï¼Œæœ‰ä¸€å¤©è·Ÿå¤§è‡£èŠå¤©ï¼Œé—®å¤§è‡£ï¼Œä½ æ—©ä¸Šä¸Šæœä¹‹å‰åƒçš„ä»€ä¹ˆå•Šï¼Œå¤§è‡£å¦‚å®å›å¤ï¼Œæ—©ä¸Šåƒäº†ä¿©é¸¡å­ï¼ˆä¹Ÿå°±æ˜¯é¸¡è›‹ï¼‰ï¼Œçš‡ä¸Šå°±å¾ˆæƒŠè®¶ï¼Œè¿™ä¹ˆå¥¢ä¾ˆå•Šï¼Œä½ çš„ä¿¸ç¦„å¤ŸèŠ±ä¹ˆï¼Œä¸ºä»€ä¹ˆçš‡ä¸Šå¾ˆæƒŠè®¶å‘¢ï¼Œå› ä¸ºå†…åŠ¡åºœçš„å¤ªç›‘è·Ÿçš‡ä¸ŠæŠ¥è´¦ä¸€ä¸ªé¸¡è›‹è¦å¥½å‡ ä¸¤é“¶å­ï¼Œè€Œå®é™…ä¸Šä¸€ä¸ªé¸¡è›‹ä¹Ÿå°±å‡ æ–‡é’±ã€‚å¤§è‡£å¿ƒçŸ¥è‚šæ˜ä½†ä¹Ÿä¸ä¾¿ç‚¹ç ´ï¼Œå°±è¯´æˆ‘ä»¬åƒçš„æ˜¯å¯»å¸¸é¸¡è›‹ï¼Œæ¯”ä¸ä¸Šçš‡å®¶ç‰¹ä¾›çš„é«˜çº§ï¼Œæ‰€ä»¥æ²¡é‚£ä¹ˆè´µã€‚ æ•…äº‹çœŸå‡ä¸çŸ¥ï¼Œä½†æˆ‘è§‰å¾—è¿™æ¯”å„ç§æ¸…å®«æˆåè€ŒçœŸå®ä¸€äº›ï¼Œå…¶å®è¿™ç§æƒ…å†µå¹¶ä¸ç½•è§ï¼Œæ­£å¦‚æ™‹æƒ å¸é‚£å¥æµä¼ åƒå¤çš„è¯ï¼Œä½•ä¸é£Ÿè‚‰ç³œã€‚ç”Ÿåœ¨æ·±å®«å¤§é™¢ï¼Œå¸ç‹äººå®¶ï¼Œä¸çŸ¥æŸ´ç±³æ²¹ç›ï¼Œæ˜¯å¾ˆå¯»å¸¸çš„ï¼Œä¸€ä¸ªå¤ªç›‘å°±èƒ½è’™è”½åœ£å¬ã€‚å…¶å®å½“ä»Šç¤¾ä¼šï¼Œå¯¹äºå¯Œè£•çš„å¹´è½»ä¸€ä»£æˆ–è€…å¯Œè£•å›½å®¶çš„å›½æ°‘ï¼Œå»ç†è§£æŒ£æ‰åœ¨æ¸©é¥±çº¿çš„æ—¶ä»£æˆ–è€…è´«å›°å›½å®¶çš„äººæ°‘ç”Ÿæ´»ï¼Œä½•ä¸é£Ÿè‚‰ç³œè¿™ç§è®¤çŸ¥è¿˜çœŸä¸æ˜¯æ®µå­ï¼Œä¸€ç›´ä¸€ç›´ä¸€ç›´éƒ½æœ‰ï¼Œåªæ˜¯æ¢ä¸ªè¯´æ³•è€Œå·²ã€‚åŒ…æ‹¬ç°åœ¨å¾ˆå¤šå¹´è½»äººå¼€å§‹æ€€å¿µå‡ åå¹´å‰æ‰€è°“æ²¡æœ‰å†…å·çš„å¹´ä»£ï¼ŒçœŸæ˜¯éƒ½æ²¡æŒ¨é¥¿è¿‡ã€‚ ç±»ä¼¼çš„æ•…äº‹è¿˜æœ‰ï¼Œè¯´è¾›äº¥é©å‘½åï¼Œæ——äººè´µæ—æ²¡è½äº†ï¼Œéœ€è¦å‡ºæ¥è‡ªå·±è®¨ç”Ÿè®¡ï¼Œæœ‰ä¸ªè´µæ—é—å°‘ä¹Ÿå‡ºæ¥è‡ªå·±æƒ³åŠæ³•èµšé’±å…»æ´»è‡ªå·±ï¼Œèµ°åœ¨è¡—ä¸Šé¥¿äº†ï¼ŒèŠ±å‡ ä¸ªé’±ä¹°äº†è¡—è¾¹ç°çƒ¤çš„çƒ§é¥¼ï¼Œä¸€åƒä¹‹ä¸‹å¤§æƒŠï¼ŒåŸæ¥æ–°å‡ºç‚‰çš„çƒ§é¥¼è¿™ä¹ˆè„†è¿™ä¹ˆå¥½åƒï¼Œä»¥å‰éƒ½æ˜¯è®©ä»†äººå‡ºå»ä¹°ï¼Œæ¯æ¬¡åƒåˆ°çš„éƒ½æ˜¯å†·å†°å†°ç¡¬æ¢†æ¢†çš„ã€‚æ·±å®«å¤§é™¢è¯´èµ·æ¥è¦å•¥æœ‰å•¥ï¼Œåƒç©¿ä¸æ„ï¼Œä½†æ°æ°è¿œç¦»äº†çƒŸç«æ°”ã€‚ä¸€äº›å¯»å¸¸ç™¾å§“å”¾æ‰‹å¯å¾—çš„ä¸œè¥¿ï¼Œä»–ä»¬åè€Œæ˜¯éš¾ä»¥ç†è§£ã€‚ è´µæ—ä¸æ‡‚ç™¾å§“ï¼Œå½“ç„¶ç™¾å§“ä¹Ÿä¸æ‡‚è´µæ—ï¼Œè¿™æ‰æœ‰ç›¸å£°é‡Œæåˆ°çš„å•å‰§å”±è¯ï¼Œâ€ä¸œå®«çš„å¨˜å¨˜çƒ™å¤§é¥¼ï¼Œè¥¿å®«çš„å¨˜å¨˜å·å¤§è‘±ã€‚â€ æ—§ç¤¾ä¼šæ™®é€šç™¾å§“å¯¹å¯Œè´µäººå®¶çš„æƒ³è±¡ï¼Œä¹Ÿå°±å±€é™äºæ­¤äº†ã€‚ è¯´çš„è¿™äº›ï¼Œå…¶å®ä¸åŒé˜¶å±‚ï¼Œä¸åŒç¤¾ä¼šåœ°ä½ï¼Œä¸åŒåœ°åŸŸï¼Œä¹ƒè‡³ä¸åŒè¡Œä¸šçš„äººï¼Œå¯¹å½¼æ­¤çš„è®¤çŸ¥éƒ½ä¼šæœ‰å¾ˆå¤§çš„è¯¯åŒºï¼Œä¸åŒåœ°åŸŸä¹Ÿæ˜¯ï¼Œä¸€ä¸ªåœ°åŒºçº¦å®šä¿—æˆçš„ä¸œè¥¿ï¼Œåœ¨å¦ä¸€ä¸ªåœ°åŒºå¯èƒ½å°±æ˜¯é—»æ‰€æœªé—»ã€‚ ç»å¸¸æœ‰ä¸€ç§è§‚ç‚¹ï¼Œè®¤ä¸ºé«˜è®¤çŸ¥ç¢¾å‹ä½è®¤çŸ¥ï¼Œè¯´ä½ å¦‚æœè¾¾åˆ°æŸä¸ªé˜¶å±‚ï¼ŒæŒæ¡æŸä¸ªè®¤çŸ¥ï¼Œå°±å¯ä»¥ç¢¾å‹é‚£äº›é˜¶å±‚ä¹‹ä¸‹çš„äººï¼Œå¯ä»¥ä»»æ„æ”¶å‰²æˆ–è€…åˆ©ç”¨ä»–ä»¬ã€‚ ä½†æˆ‘å‘ç°ï¼Œå…¶å®å¹¶ä¸æ˜¯ï¼Œé«˜å­¦å†ï¼Œé«˜æ™ºå•†äººç¾¤è¢«ä½å­¦å†ï¼Œä½èƒŒæ™¯äººç¾¤è¯ˆéª—æ”¶å‰²çš„æ¡ˆä¾‹ä¹Ÿå¾ˆå¤šã€‚æœ€è¿‘çˆ†å‡ºæ¥çš„é˜¿é‡Œå¥³å‘˜å·¥è¢«è¯ˆéª—çš„æ–°é—»ï¼Œå…¶å®çœŸçš„ä¸æ˜¯å­¤ä¾‹ã€‚å¾ˆå¤šäººè®¤ä¸ºè¿™äº›äººè®¤çŸ¥ä¸å¤Ÿï¼Œä½†æ‰ªå¿ƒè‡ªé—®ï¼Œæˆ‘ä»¬è‡ªå·±åˆé«˜æ˜åˆ°å“ªé‡Œå»ï¼Œåœ¨æŠ•èµ„é¢†åŸŸæˆ‘çŠ¯è¿‡çš„é”™è¯¯ä¹Ÿæ•°ä¸èƒœæ•°ï¼Œè®¤çŸ¥ä¸è¶³äº¤è¿‡çš„å­¦è´¹ç®—ä¸‹æ¥ä¹Ÿæ˜¯æŒºå¤§çš„æ•°å­—äº†ã€‚ ç°åœ¨ä¸šå†…éƒ½çŸ¥é“ï¼Œæ‰€è°“ä¸‹æ²‰å¸‚åœºä»·å€¼å·¨å¤§ï¼Œæˆ‘åœ¨æ˜Ÿçƒé‡Œè¯´è¿‡ï¼Œå¯¹å¦‚ä½•æŒ–æ˜ä¸‹æ²‰å¸‚åœºï¼Œæˆ‘æ˜¯æ²¡ä»»ä½•æ„ŸçŸ¥çš„ã€‚å› ä¸ºæˆ‘ä»å°å°±æ²¡åœ¨å†œæ‘ä½è¿‡ä¸€å¤©ï¼Œè™½ç„¶å°æ—¶å€™å®¶é‡Œä¹Ÿå¾ˆç©·ï¼Œä½†å±äºåŸå¸‚å¹³æ°‘ï¼Œæ‰€ä»¥å¯¹æ‰€è°“ä¹¡æ‘ç”Ÿæ´»ï¼Œä¹¡æ‘äººé™…ï¼Œä¹¡æ‘çš„è¿‡å¹´æ°”æ°›ï¼Œå°±å®Œå…¨æ— æ„Ÿï¼Œæˆ‘çœ‹åˆ°æœ‰è¯»è€…è¯´ï¼Œç°åœ¨å¹´å‘³è¶Šæ¥è¶Šæ·¡ï¼Œåªæœ‰å°æ—¶å€™ä¹¡ä¸‹è¿‡å¹´é‚£æ‰å«è¿‡å¹´ï¼Œè¿™è¯æˆ‘å°±ä¸çˆ±å¬ï¼Œæˆ‘åŸé‡Œé•¿å¤§çš„å°±ä¸é…è¿‡å¹´æ˜¯æ€ä¹ˆçš„ã€‚ å¦å¤–ï¼Œæˆ‘è¿˜è¯´è¿‡ä¸€ç‚¹ï¼Œæˆ‘æ²¡æœ‰æ•…ä¹¡çš„æ¦‚å¿µï¼Œæˆ‘è™½ç„¶æ˜¯å¤©æ´¥å‡ºç”Ÿçš„ï¼Œä½†æ˜¯éšç€çˆ¶äº²å·¥ä½œå•ä½è°ƒåŠ¨ï¼Œ6å²ä¹‹å‰åœ¨å±±ä¸œå¾·å·ï¼Œæ˜¯å‡ºæ‰’é¸¡çš„å¾·å·ï¼Œä¸æ˜¯å‡ºç‰›ä»”çš„å¾·å·ã€‚é‚£ä¹ˆ6å²ä¹‹å‰æ˜¯æ²¡ä»»ä½•å°è±¡çš„ï¼Œ6å²åçˆ¶æ¯è¿å›å¤©æ´¥ï¼Œäº‹ä¸šå•ä½ï¼Œå±äºæ°´åˆ©éƒ¨ä¸‹çš„å‹˜æµ‹è®¾è®¡é™¢ï¼Œå½“æ—¶è¿˜å«æ°´ç”µéƒ¨ï¼Œé‚£ä¹ˆä½çš„å°åŒºæ˜¯å•ä½å®¶å±åŒºï¼Œæ•´ä¸ªè®¾è®¡é™¢çš„äººåˆ†åˆ«æ¥è‡ªå±±ä¸œå¾·å·å’Œæ²³å—ä¸‰é—¨å³¡ï¼Œæ¢å¥è¯è¯´ï¼Œå®¶å±é™¢é‡Œå°±æ²¡æœ‰æœ¬åœŸçš„å¤©æ´¥äººã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å®¶ç¥–ç±ä¹Ÿä¸æ˜¯å¤©æ´¥ï¼Œæ˜¯æ²³åŒ—ï¼Œè§£æ”¾å‰æˆ‘çˆ·çˆ·è¿å±…åˆ°å¤©æ´¥çš„ï¼Œå¯æ˜¯æ²³åŒ—è€å®¶æˆ‘ä¹Ÿä¸€æ¬¡éƒ½æ²¡å»è¿‡ã€‚æ‰€ä»¥ä¸å¥½æ„æ€ï¼Œæˆ‘å°æ—¶å€™åœ¨å¤©æ´¥çš„æ—¶å€™ï¼Œå°±æ²¡è§‰å¾—è‡ªå·±æ˜¯å¤©æ´¥äººï¼Œå¤©æ´¥äººä¹Ÿæ²¡æ‹¿æˆ‘å½“æœ¬åœ°äººï¼Œä½†æˆ‘ä¹Ÿæ²¡è§‰å¾—è‡ªå·±æ˜¯æ²³åŒ—äººï¼Œæ˜¯å±±ä¸œäººã€‚æ‰€ä»¥æ‰€è°“å¶è½å½’æ ¹ï¼Œè£å½’æ•…é‡Œï¼Œå¾ˆæƒ­æ„§ï¼Œæˆ‘ä¹Ÿæ˜¯å®Œå…¨æ²¡æ„Ÿè§‰çš„ã€‚ æ²¡æœ‰æ•…åœŸæ¦‚å¿µï¼Œä¹Ÿæ²¡æœ‰ä¹¡æ‘ç”Ÿæ´»ç»å†ï¼ŒåŸé‡Œäº²æˆšå…³ç³»ä¹Ÿæ²¡é‚£ä¹ˆæ·±åšï¼Œå¯¹å¾ˆå¤šè¿™æ–¹é¢çš„æ„ŸçŸ¥åŸºæœ¬æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘çŸ¥é“å¾ˆå¤šäººä¼šç”¨è¿™æ ·çš„è®¤çŸ¥æ„Ÿæ¥åšè¥é”€ï¼Œåšå¸‚åœºè¿è¥ï¼Œåšä½æˆæœ¬è·å®¢ï¼Œä½†è¿™ç§æˆ‘å°±ä¸ä¼šç¢°ï¼Œå› ä¸ºæˆ‘çš„è®¤çŸ¥è·Ÿä¸ä¸Šã€‚ ä»¥å‰è‰æ ¹åˆ›ä¸šè€…ï¼Œå¾ˆå¤šæ˜¯æœ¬è‰²çš„è®¤çŸ¥æ„Ÿï¼Œæ¯”å¦‚æå…´å¹³ï¼Œåšçš„éå¸¸æˆåŠŸï¼›åæ¥ç²¾è‹±ä»¬åšä¸‹æ²‰ï¼Œé æ•°æ®åé¦ˆè¿­ä»£ï¼Œæˆ‘æ˜¯å¾ˆä½©æœå¼ ä¸€é¸£å’Œé»„å³¥è¿™ç§ï¼Œæˆ‘æ˜¯åšä¸æ¥ã€‚ä½†ç¡®å®ï¼Œè·¨è¶Šé˜¶å±‚ï¼Œè·¨è¶Šç¾¤ä½“çš„è®¤çŸ¥ï¼Œæ˜¯äº§ç”Ÿå¾ˆå¤šå•†ä¸šæœºä¼šï¼Œä»¥åŠä¸ªäººä»·å€¼å¢é•¿çš„æ‰€åœ¨ã€‚ è¿™å¥è¯æˆ‘åŠ ç²—ä¸€ä¸‹ï¼Œå¸Œæœ›è¯»è€…ä»”ç»†æƒ³æƒ³ã€‚ æ¯”å¦‚è¯´ï¼Œä¸ºä»€ä¹ˆæˆ‘å¸¸è¯´ï¼ŒæŠ€æœ¯äººå‘˜æ‡‚ä¸€ç‚¹å•†ä¸šï¼Œä¼šéå¸¸æœ‰ä»·å€¼ï¼Œçœ‹çœ‹ä¸­å›½å’Œç¾å›½çš„ç¦å¸ƒæ–¯æ¦œå•ï¼Œå¤šå°‘å¤§ä½¬æ˜¯ç¨‹åºå‘˜å‡ºèº«ã€‚æ‡‚è‰æ ¹çš„ç²¾è‹±ï¼Œå’Œæ‡‚ç²¾è‹±çš„è‰æ ¹ï¼Œä¹Ÿéƒ½æ˜¯éå¸¸å®¹æ˜“åˆ›å»ºå•†ä¸šå¥‡è¿¹çš„äººã€‚ æ¯”å¦‚è¯´ï¼Œå‡ºæµ·ä¼ä¸šï¼Œèƒ½å¤Ÿç†è§£æµ·å¤–å¸‚åœºï¼Œå¹¶æŒæ¡ä¸­å›½ç ”å‘èµ„æºçš„äººï¼Œå°±ä¼šéå¸¸æœ‰ä¼˜åŠ¿ã€‚ è·¨è¶Šä¸åŒæ—ç¾¤ï¼Œä¸åŒé˜¶å±‚çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ï¼ŒAç¾¤ä½“ä¸­éå¸¸æ¸´æœ›çš„è¯‰æ±‚ï¼Œè®¤ä¸ºéå¸¸éš¾ä»¥å®ç°çš„äº‹æƒ…ï¼Œåœ¨Bç¾¤ä½“é‡Œå…¶å®æ˜¯éå¸¸ç®€å•ï¼Œå®¹æ˜“è·å–çš„èµ„æºï¼Œä½†Bç¾¤ä½“å¹¶ä¸çŸ¥é“Aç¾¤ä½“å­˜åœ¨è¿™æ ·çš„è¯‰æ±‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªäººï¼Œæ¯”å¦‚ä»–æ˜¯Aç¾¤ä½“çš„äººï¼Œçªç„¶æœ‰æœºä¼šæ¥è§¦äº†Bç¾¤ä½“ï¼ŒæŒæ¡äº†Bç¾¤ä½“çš„è®¤çŸ¥ï¼Œå‘ç°å­˜åœ¨éå¸¸ç®€å•ï¼Œå®¹æ˜“è·å–è¿™æ ·çš„èµ„æºï¼Œä»–æ‹¿åˆ°èµ„æºè½¬è¿‡å¤´æ¥ï¼Œå›åˆ°Aç¾¤ä½“è´©å”®ï¼Œè¿™å°±æ˜¯å¾ˆå¤šå•†ä¸šæˆåŠŸæ¡ˆä¾‹çš„æœ¬è´¨é€»è¾‘ã€‚ æˆ‘çœ‹åˆ°åŒ…æ‹¬ç”Ÿè´¢æœ‰æœ¯ï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±æ˜Ÿçƒé‡Œå¾ˆå¤šè¯»è€…åˆ†äº«çš„èµšé’±æ¡ˆä¾‹ï¼Œç›¸å½“é«˜çš„æ¯”ä¾‹éƒ½å¯ä»¥ç”¨è¿™ä¸ªé€»è¾‘æ¥å¥—ç”¨ï¼Œå‡ ä¹éƒ½èƒ½ç¬¦åˆã€‚ å¾ˆå¤šè‰æ ¹åˆ›ä¸šè€…å°æœ‰æˆå°±åï¼Œéƒ½æ„¿æ„èŠ±é’±è¯»ä¸ªembaï¼Œè¯•å›¾è®©è‡ªå·±èå…¥å¦ä¸€ä¸ªé˜¶å±‚ï¼Œä¹Ÿæ˜¯å­˜åœ¨è¿™æ ·çš„ä¸€ç§ç†å¿µã€‚ ä½†è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæœ€è¿‘æˆ‘å‘ç°å¾ˆå¤šåˆ›ä¸šè€…ï¼Œæˆ–è€…ä¸€äº›è¿˜ä¸é”™çš„è‰æ ¹åˆ›ä¸šè€…ï¼Œå­˜åœ¨è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œä»–ä»¬è„±èƒäºAç¾¤ä½“ï¼Œå¼€å§‹æ¥è§¦Bç¾¤ä½“ï¼Œé Bç¾¤ä½“çš„è®¤çŸ¥ï¼Œè½¬è¿‡å¤´æ¥ï¼Œåœ¨Aç¾¤ä½“è§£å†³äº†ä¸€äº›å…³é”®è¯‰æ±‚ï¼Œå®ç°äº†å¾ˆå¥½çš„å•†ä¸šè½¬åŒ–ï¼Œè¿™ä¸æŒºæˆåŠŸçš„ä¹ˆï¼Œç„¶åä»–ä»¬å°±å¼€å§‹è§‰å¾—ï¼ŒAç¾¤ä½“å¤ªlowäº†ï¼Œä»€ä¹ˆéƒ½ä¸æ‡‚ï¼Œè‡ªå·±è¦æ€æ ·ï¼Œè„±èƒæ¢éª¨ï¼Œæˆä¸ºBç¾¤ä½“ä¸­çš„ä¸€å‘˜ï¼Œä½†æ˜¯è¿™é‡Œé—®é¢˜æ¥äº†ï¼Œå½»åº•è„±ç¦»äº†Aç¾¤ä½“åï¼Œä»–ä»¬å…¶å®å°±å¤±å»äº†è‡ªå·±çš„ä»·å€¼äº†ã€‚ è¿™å°±æ˜¯ä»Šå¤©è¦è¯´çš„ä¸»é¢˜ï¼Œèƒ½å¤Ÿçºµæ¨ªè·¨è¶Šé˜¶å±‚ï¼Œè·¨è¶Šæ—ç¾¤çš„è®¤çŸ¥ï¼Œå……åˆ†åˆ©ç”¨èµ·æ¥ï¼Œå¯ä»¥å…·æœ‰æå¤§çš„å•†ä¸šä»·å€¼ï¼Œä½†å¦‚æœä½ å½»åº•æ”¾å¼ƒäº†æŸä¸ªç¾¤ä½“å’Œé˜¶å±‚çš„è®¤çŸ¥ï¼Œä½ ä»¥ä¸ºä½ è„±èƒæ¢éª¨ï¼Œå…¶å®ä½ æ˜¯è‡ªåºŸæ­¦åŠŸã€‚ä½ è¯´å¢è¿›è®¤çŸ¥ï¼Œå­¦ä¹ æ›´å¤šéš¾é“æœ‰é”™ä¹ˆï¼Ÿå½“ç„¶æ²¡é”™ã€‚ä½†ç©¶ç«Ÿä»€ä¹ˆæ‰æ˜¯ä½ çš„ä»·å€¼ï¼Œæ—¢æ‡‚Aï¼Œåˆæ‡‚Bæ‰æ˜¯ä½ çš„ä»·å€¼ã€‚æ”¾å¼ƒAï¼Œè¿½æ±‚Bï¼Œä½ ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚ åº•å±‚é€†è¢­çš„äººï¼Œå¾€å¾€ä¼šå¿½è§†åº•å±‚è®¤çŸ¥çš„ä»·å€¼ï¼Œå½“ä½ è„±ç¦»äº†æ‰€è°“ä½çº§è¶£å‘³çš„æ—¶å€™ï¼Œä½ å¯èƒ½å·²ç»å¤±å»äº†å¾ˆé‡è¦çš„ä»·å€¼èµ„æºã€‚è€Œè¿™æ ·çš„äººï¼Œè¿˜çœŸæŒºå¤šçš„ã€‚ ç±»ä¼¼çš„æ¡ˆä¾‹è¿˜æœ‰å¾ˆå¤šï¼Œä¸­å›½æ”¹é©å¼€æ”¾ï¼Œç¬¬ä¸€æ‰¹ççœ¼çœ‹ä¸–ç•Œçš„äººï¼Œæ—¢æ‡‚ä¸­å›½ï¼Œåˆæ‡‚è¥¿æ–¹ï¼Œå°±å¾ˆå®¹æ˜“æŠ“ä½æ—¶ä»£çš„æœºé‡ï¼ŒæŠ“ä½å¾ˆå¤šç¨€ç¼ºçš„æœºä¼šï¼Œæˆå°±ä¸€ç•ªäº‹ä¸šï¼Œè¿™äº›äººæ…¢æ…¢æˆä¸ºä¸­å¹´äººï¼Œè§‰å¾—è‡ªå·±å­©å­æ—©ç‚¹æ¥å—è¥¿æ–¹æ•™è‚²ï¼Œä¸æ˜¯æ¯”è‡ªå·±æ›´æœ‰ä¼˜åŠ¿ä¹ˆï¼Ÿç»“æœé—®é¢˜æ¥äº†ï¼Œä¸‹ä¸€ä»£äººç¡®å®å¾ˆæ‡‚è¥¿æ–¹ï¼Œä½†ä¸æ‡‚ä¸­å›½ï¼Œåè€Œå¤±å»äº†ç‹¬ç‰¹çš„ä»·å€¼ã€‚ è®¤çŸ¥éšœæ— å¤„ä¸åœ¨ï¼Œæ‰€è°“é«˜é˜¶äººå£«ï¼Œå…¶å®ä¹Ÿå­˜åœ¨å¾ˆå¤šè®¤çŸ¥éšœï¼Œå°±å¥½æ¯”è¯´ï¼Œä¸€è·¯å¼€æŒ‚çš„å­¦éœ¸æ˜¯æ•™ä¸äº†å­¦æ¸£çš„ï¼Œå› ä¸ºä»–ä»¬æ— æ³•ç†è§£å­¦æ¸£çš„å›°å¢ƒå’Œè‹¦æ¼ï¼Œåè€Œæ˜¯ä»å­¦æ¸£é€†è¢­è¯šå­¦éœ¸çš„ï¼Œæ‹¥æœ‰è·¨è¶Šé˜¶å±‚çš„æ€ç»´ï¼Œæ‰èƒ½æ›´æœ‰é’ˆå¯¹æ€§çš„è¾…å¯¼å­¦æ¸£ã€‚å°±å¥½æ¯”è¯´ï¼Œçº¯ç²¹å¤§å…¬å¸æˆé•¿èµ·æ¥çš„æŠ€æœ¯é«˜æ‰‹å¾ˆéš¾å»æ—©æœŸåˆ›ä¸šå…¬å¸å¸¦å›¢é˜Ÿï¼Œå› ä¸ºä»–ä»¬å¾ˆéš¾ç†è§£èµ„æºæä¸ºè‹›åˆ»ï¼ŒäººåŠ›æä¸ºå¹³åº¸çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•åšå¥½äº§å“ï¼Œä½†åè€Œæ˜¯é‚£äº›ä»å·¨å¤´è‰åˆ›æ—©æœŸå°±åŠ å…¥ï¼Œä¸€è·¯æˆé•¿çš„é«˜æ‰‹ï¼Œæ›´èƒ½ç†è§£ä»åˆ›ä¸šåˆ°æˆé•¿ä¸ºå·¨å¤´çš„æŒ‘æˆ˜ï¼Œè¿™äº›éƒ½å¯ä»¥è®¤ä¸ºæ˜¯è·¨è¶Šé˜¶å±‚çš„è®¤çŸ¥ï¼Œå…·æœ‰ç‹¬ç‰¹çš„ä»·å€¼ã€‚ ä½†åˆ‡è®°ï¼ŒåŒæ—¶æ‹¥æœ‰å¤šä¸ªé˜¶å±‚çš„è®¤çŸ¥æ‰æ˜¯ä½ çš„ä»·å€¼æ‰€åœ¨ï¼Œä¸è¦é¡¾æ­¤å¤±å½¼ï¼Œä¸ºäº†è¿½æ±‚æ‰€è°“é˜¶å±‚ä¸Šå‡ï¼Œé˜¶å±‚èå…¥ï¼Œè½»æ˜“æ”¾å¼ƒæ›¾ç»çš„è®¤çŸ¥èƒ½åŠ›ã€‚æœ€è¿‘å‘ç°æœ‰ä¸å°‘åˆ›ä¸šè€…ï¼Œåœ¨åšè¿™æ ·è‡ªåºŸæ­¦åŠŸçš„äº‹æƒ…ï¼Œé‚æœ‰æ„Ÿæ…¨æˆæ­¤æ–‡ã€‚ ä¸€å®šè¦æ‰¾åˆ°è‡ªå·±çš„ç‹¬ç‰¹ä»·å€¼ï¼Œæ— è®ºé¢å¯¹ä»€ä¹ˆé˜¶å±‚ï¼Œä»€ä¹ˆæ ·çš„äººï¼Œä½ æ€»ä¼šåœ¨æŸä¸ªç»†åˆ†é¢†åŸŸçš„è®¤çŸ¥å…·æœ‰ä¼˜åŠ¿ï¼Œä½ æ‰¾åˆ°è¿™ä¸ªç‚¹ï¼Œç„¶åå†é€šè¿‡å­¦ä¹ å’Œé¢†æ‚Ÿå¯¹æ–¹é˜¶å±‚çš„è®¤çŸ¥ï¼Œä»ä¸­æŒ–æ˜åŒ¹é…çš„éœ€æ±‚ç‚¹ï¼Œå°±æ˜¯ä½ çš„ç‹¬ç‰¹ä»·å€¼ã€‚ æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒï¼Œå¹´ç»ˆå…è´¹ç¦åˆ©è¯¾ï¼Œå¤ç›˜äººç”Ÿå…³é”®å†³ç­–ï¼Œæœ‰æ•ˆæœŸåªå‰©ä¸åˆ°10å¤©ï¼Œæœ€åæé†’ï¼Œ3æœˆ1æ—¥å‡Œæ™¨å‡†æ—¶ä¸‹æ¶ã€‚ æ‡’å¾—å‘é“¾æ¥äº†ï¼Œæ˜Ÿçƒç”¨æˆ·å»çœ‹ç½®é¡¶å¸–ï¼Œå…¶ä»–è¯»è€…å¿½ç•¥å³å¯ã€‚","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://rovast.github.io/categories/éšæƒ³/"}],"tags":[]},{"title":"ç†è§£ shell è„šæœ¬ä¸­çš„å¸¸è§ç”¨æ³•2>&1","slug":"understanding-shell-script-idiom-redirect","date":"2021-02-08T09:39:02.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2021/02/08/understanding-shell-script-idiom-redirect/","link":"","permalink":"https://rovast.github.io/2021/02/08/understanding-shell-script-idiom-redirect/","excerpt":"","text":"åŸæ–‡ï¼šhttps://www.brianstorti.com/understanding-shell-script-idiom-redirect/ åœ¨æˆ‘ä»¬æ¥è§¦çš„ shell è„šæœ¬ä¸­ï¼Œå¯¹ 2&gt;&amp;1 ä¸€å®šä¸é™Œç”Ÿï¼Œæ¯”å¦‚ ls foo &gt; /dev/null 2&gt;&amp;1ã€‚ æœ¬æ–‡å°±æ¥è§£é‡Šä¸‹ 2&gt;&amp;1 ç©¶ç«Ÿåšäº†ä»€ä¹ˆï¼Œå¹¶ä¸”æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ã€‚ ä¸€ã€I/O é‡å®šå‘ç®€ä»‹ã€Œé‡å®šå‘ã€æ˜¯è®¡ç®—æœºç”¨æ¥æŠŠå‘½ä»¤çš„è¾“å‡ºä»ä¸€ä¸ªåœ°æ–¹ï¼Œè¾“å‡ºåˆ°å¦ä¸€ä¸ªåœ°æ–¹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ cat æŒ‡ä»¤å¯ä»¥æŠŠä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹æ‰“å°åˆ°ç»ˆç«¯ï¼š 1234$ cat foo.txtfoobarbaz ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¾“å‡ºé‡å®šå‘åˆ°å¦å¤–åœ°æ–¹ã€‚æ­¤ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¾“å‡ºé‡å®šå‘åˆ° output.txt ä¸­ï¼š 123456$ cat foo.txt &gt; output.txt$ cat output.txtfoobarbaz æ³¨æ„ï¼Œåœ¨æ‰§è¡Œç¬¬ä¸€è¡Œå‘½ä»¤ cat foo.txt &gt; output.txt æ—¶ï¼Œæˆ‘ä»¬åœ¨å±å¹•ä¸Šçœ‹ä¸åˆ°ä»»ä½•è¾“å‡ºã€‚æˆ‘ä»¬æŠŠåŸæ¥åº”è¯¥æ‰“å°åˆ°å±å¹•çš„å†…å®¹ï¼Œé‡å®šå‘åˆ° output.txt äº†ï¼Œæ‰€ä»¥å±å¹•ä¸Šä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºäº†ã€‚ è¿™é‡Œï¼Œã€Œæœ¬æ¥åº”è¯¥æ‰“å°åˆ°å±å¹•çš„å†…å®¹ã€ï¼Œå°±æ˜¯æ ‡å‡†è¾“å‡ºï¼Œå³ stdout(standard output)ã€‚ é™¤äº†æ ‡å‡†è¾“å‡ºå¯ä»¥æ¥æ”¶ç¨‹åºçš„è¾“å‡ºä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥ï¼Œå« æ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œå³ stderr(standard error)ã€‚stderr ç”¨æ¥æ¥æ”¶ç¨‹åºçš„é”™è¯¯æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ cat äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼š 12$ cat nop.txt &gt; output.txtcat: nop.txt: No such file or directory æˆ‘ä»¬çœ‹åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬è¦æ±‚ç¨‹åºæŠŠè¾“å‡ºé‡å®šå‘åˆ° output.txtï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯åœ¨å±å¹•ä¸Šçœ‹åˆ°äº†é”™è¯¯æ¶ˆæ¯è¾“å‡ºã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªæ˜¯é‡å®šå‘äº† standard outputï¼Œè€Œä¸æ˜¯ standard errorã€‚ äºŒã€æ–‡ä»¶æè¿°ç¬¦(fd)ç®€ä»‹æ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼‰ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œç”¨æ¥ä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ã€‚æ¯”å¦‚å½“å‰æˆ‘ä»¬æœ‰ 100 å„æ‰“å¼€çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±æœ‰ 100 ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ å”¯ä¸€éœ€è¦è¡¥å……çš„æ˜¯ï¼Œåœ¨ Unix ç³»ç»Ÿä¸­ï¼Œã€Œä¸€åˆ‡çš†æ–‡ä»¶ã€ã€‚ åŒæ—¶æˆ‘ä»¬è¿˜åº”è¯¥çŸ¥é“ï¼Œå¯¹äºæ ‡å‡†è¾“å‡º(stdout)å’Œæ ‡å‡†é”™è¯¯è¾“å‡º(stderr)ï¼Œä¹Ÿæœ‰å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦ã€‚æˆ‘ä»¬ä½¿ç”¨ 1 å’Œ 2 æ¥åˆ†åˆ«è¡¨ç¤º stdout å’Œ stderr æ‰€åœ¨çš„ä½ç½®ã€‚ ä¸‰ã€èåˆä¸Šè¿°çŸ¥è¯†å›åˆ°æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æœ‰å¦å¤–ä¸€ç§å†™æ³• 12345# å†™æ³•ä¸€$ cat foo.txt &gt; output.txt# ç­‰ä»·å†™æ³•äºŒ$ cat foo.txt 1&gt; output.txt è¿™é‡Œçš„ 1 å°±æ˜¯ç”¨æ¥ä»£è¡¨ stdout çš„æ–‡ä»¶æè¿°ç¬¦ã€‚è¯­æ³•æ˜¯ [FILE_DESCRIPTOR]&gt;ã€‚æˆ‘ä»¬çœ‹åˆ°æŠŠ 1 çœç•¥çš„å†™æ³• &gt;åªæ˜¯ 1&gt; çš„å¿«æ·å†™æ³•è€Œå·²ã€‚ å¯¹äºé‡å®šå‘åˆ° stderr çš„åœºæ™¯ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å³è¾¹çš„æ–‡ä»¶å‰é¢åŠ ä¸Šæ–‡ä»¶æè¿°ç¬¦å³å¯ 1234$ cat nop.txt 2&gt; error.txt$ cat error.txtcat: nop.txt: No such file or directory ä½ çœ‹ï¼Œè¿™æ ·å°±ç”Ÿæ•ˆäº†ã€‚è¿™ä¼šå„¿ï¼Œä½ å¤§æ¦‚çŸ¥é“ 2&gt;&amp;1 æ˜¯æ€æ ·å·¥ä½œçš„ï¼Œè®©æˆ‘ä»¬æ¥æ€»ç»“æ€»ç»“ã€‚ æˆ‘ä»¬ä½¿ç”¨ &amp;1 æ¥è¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦1(stdout)çš„åœ°å€ã€‚å½“ä½ ä½¿ç”¨ 2&gt;&amp;1 æ—¶ï¼Œå…¶å®å°±æ˜¯åœ¨è¯´ï¼šæŠŠ stderr çš„è¾“å‡ºé‡å®šå‘åˆ° stdout çš„åœ°æ–¹ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠç¨‹åºçš„æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºéƒ½è¾“å‡ºåˆ°åŒä¸€ä¸ªåœ°æ–¹äº†ã€‚ 1234567891011$ cat foo.txt &gt; output.txt 2&gt;&amp;1$ cat output.txtfoobarbaz$ cat nop.txt &gt; output.txt 2&gt;&amp;1$ cat output.txtcat: nop.txt: No such file or directory å››ã€æ€»ç»“ ç¨‹åºå¯ä»¥æŠŠè¾“å‡ºå‘é€åˆ°ä¸¤ä¸ªåœ°æ–¹ï¼šæ ‡å‡†è¾“å‡º(stdoutï¼Œstandard output)å’Œæ ‡å‡†é”™è¯¯è¾“å‡º(stderrï¼Œstandard error)ã€‚ ä½ å¯ä»¥æŠŠè¾“å‡ºé‡å®šå‘åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼ˆæ¯”å¦‚æ–‡ä»¶ï¼‰ æ–‡ä»¶æè¿°ç¬¦1å’Œ2 å¯ä»¥åˆ†åˆ«ç”¨æ¥è¡¨ç¤º stdout å’Œ stderr command &gt; output æ˜¯ command 1&gt; output çš„ç¼©å†™ å¯ä»¥ä½¿ç”¨ &amp;[FILE_DESCRIPTOR] æ¥å¼•ç”¨æ–‡ä»¶æè¿°ç¬¦çš„å€¼ï¼ˆæˆ–è€…å«æŒ‡å‘æ–‡ä»¶æè¿°ç¬¦çš„åœ°å€ï¼‰ ä½¿ç”¨ 2&gt;&amp;1 æ¥é‡å®šå‘ stderr çš„è¾“å‡ºè‡³ stdout çš„åœ°æ–¹ï¼ˆä½ å¯ä»¥ç”¨ 1&gt;&amp;2 æ¥è¿›è¡Œåå‘æ“ä½œï¼‰ å¦ï¼Œåœ¨ Linux ç³»ç»Ÿä¸­ 0ã€1ã€2 åˆ†åˆ«è¡¨ç¤ºä¸åŒçš„è®¾å¤‡ç±»å‹ï¼Œå…¶ä¸­ 0 æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ŒæŒ‡é”®ç›˜1 æ ‡å‡†æ­£ç¡®è¾“å‡ºè®¾å¤‡2 æ ‡å‡†é”™è¯¯è¾“å‡ºè®¾å¤‡","categories":[],"tags":[]},{"title":"MacOSéå®‰å…¨æ¨¡å¼æ‰“å¼€Chrome","slug":"cors-on-mac","date":"2021-02-01T08:02:18.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2021/02/01/cors-on-mac/","link":"","permalink":"https://rovast.github.io/2021/02/01/cors-on-mac/","excerpt":"","text":"ä½¿ç”¨å…è®¸è·¨åŸŸï¼ˆä¸å®‰å…¨ï¼‰æ¨¡å¼æ‰“å¼€ï¼Œä¾¿äºè°ƒè¯•ï¼Œè®¾å®šä¸€ä¸ª Alias å³å¯ 1alias openChromeNoCORS=\"open -na Google\\ Chrome --args --user-data-dir=/tmp/temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials\"","categories":[],"tags":[]},{"title":"Antv G2 ä¿®æ”¹ Brush é»˜è®¤è¡Œä¸ºä¸ºè¿”å›æ—¶é—´æˆ³èŒƒå›´","slug":"ant-g2-brush-timerange","date":"2021-01-29T09:12:46.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2021/01/29/ant-g2-brush-timerange/","link":"","permalink":"https://rovast.github.io/2021/01/29/ant-g2-brush-timerange/","excerpt":"","text":"G2 brush æ—¶é—´è½´ï¼Œè€Œä¸æ˜¯ç­›é€‰æ•°æ®ç‚¹ä¸€ã€èƒŒæ™¯ç›®å‰ G2 ä½¿ç”¨ brush-x ç­›é€‰åçš„æ˜¯å¯¹åº”çš„ç‚¹ï¼Œè€Œä¸æ˜¯ X è½´çš„æ—¶é—´èŒƒå›´ã€‚åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœºæ™¯å¦‚ä¸‹ é¼ æ ‡ç­›é€‰ä¸€ä¸ªåŒºåŸŸ è·å–è¿™ä¸ªåŒºåŸŸçš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ ä»¥ç¬¬2æ­¥è·å–åˆ°çš„æ—¶é—´èŒƒå›´ä½œä¸ºç»“æœæ¥é‡æ–°è·å–æ•°æ® äºŒã€æ ¸å¿ƒä»£ç ä¸€è§ˆ2.1 æ³¨å†Œ Action src/index.tsï¼Œä¸­æšä¸¾å‡ºäº†å¯ä»¥ä½¿ç”¨çš„ Action 123registerAction('brush', DataRangeFilter);registerAction('brush-x', DataRangeFilter, &#123; dims: ['x'] &#125;);registerAction('brush-y', DataRangeFilter, &#123; dims: ['y'] &#125;); 2.2 filter å¤„ç†é€»è¾‘ çœ‹ä¸‹ filter æµç¨‹src/interaction/action/data/range-filter.ts è·å–åˆ°ç”¨æˆ·å½“å‰é€‰æ‹©çš„è§†è§‰ç‚¹ è½¬æ¢è§†è§‰ç‚¹ï¼Œè·å–åˆ°å®é™…é€‰æ‹©çš„ min value å’Œ max valueï¼Œå¹¶ä¸”ç”Ÿæˆ filter æ ¹æ® filter è¿›è¡Œæ•°æ®ç­›é€‰ 123456789101112131415161718192021222324252627public filter() &#123; let startPoint; let currentPoint; // ... codes // è¿›è¡Œä¸€äº›åˆ—å¤„ç†ï¼Œå¾—åˆ° startPoint å’Œ currentPoint çš„å€¼ const view = this.context.view; // è·å–åˆ°å½’ä¸€åŒ–åæ ‡ const coord = view.getCoordinate(); const normalCurrent = coord.invert(currentPoint); const normalStart = coord.invert(startPoint); // è®¾ç½® x æ–¹å‘çš„ filter if (this.hasDim('x')) &#123; const xScale = view.getXScale(); // filter å…¶å®å°±æ˜¯ä¸€ä¸ªå‡½æ•° (value: any, datum: Datum, idx?: number) =&gt; boolean; const filter = getFilter(xScale, 'x', normalCurrent, normalStart); // æ ¸å¿ƒï¼æ ¹æ® filter è¿›è¡Œç­›é€‰ this.filterView(view, xScale.field, filter); &#125; // è®¾ç½® y æ–¹å‘çš„ filter // ... codes this.reRender(view);&#125; çœ‹ä¸‹å¦‚ä½•è·å–åˆ° min value å’Œ max value src/interaction/action/data/range-filter.ts è·å–åˆ°çš„ minValue å’Œ maxValue å–æ•´åå°±æ˜¯æ—¶é—´æˆ³äº† 123456789101112131415161718192021222324252627282930313233343536function getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition &#123; let min = Math.min(point1[dim], point2[dim]); let max = Math.max(point1[dim], point2[dim]); const [rangeMin, rangeMax] = scale.range; // çº¦æŸå€¼åœ¨ scale çš„ range ä¹‹é—´ if (min &lt; rangeMin) &#123; min = rangeMin; &#125; if (max &gt; rangeMax) &#123; max = rangeMax; &#125; // èŒƒå›´å¤§äºæ•´ä¸ª view çš„èŒƒå›´ï¼Œåˆ™è¿”å› null if (min === rangeMax &amp;&amp; max === rangeMax) &#123; return null; &#125; const minValue = scale.invert(min); const maxValue = scale.invert(max); /** * è¿™é‡Œè·å–åˆ°çš„ minValue å’Œ maxValueï¼Œå°±æ˜¯å¯¹åº”çš„ x è½´é€‰æ‹©çš„æ—¶é—´èŒƒå›´ * ç±»ä¼¼ minValue 1611724258188.5186 Wed Jan 27 2021 13:10:58 GMT+0800 * maxValue 1611724586405.7407 Wed Jan 27 2021 13:16:26 GMT+0800 */ if (scale.isCategory) &#123; const minIndex = scale.values.indexOf(minValue); const maxIndex = scale.values.indexOf(maxValue); const arr = scale.values.slice(minIndex, maxIndex + 1); return (value) =&gt; &#123; return arr.includes(value); &#125;; &#125; else &#123; return (value) =&gt; &#123; return value &gt;= minValue &amp;&amp; value &lt;= maxValue; &#125;; &#125;&#125; æˆ‘ä»¬å¯ä»¥åœ¨ç”¨æˆ·å®šä¹‰çš„ action ä¸Šä¸‹æ–‡é‡Œæ‹¿åˆ°å¯¹åº”çš„ rangefilter å®ä¾‹ 1ctx.actions.find(v =&gt; v.name === 'brush-x') ä½†åŒæ—¶æˆ‘ä»¬ä¹Ÿçœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦çš„ minValue å’Œ maxValue éƒ½æ˜¯ä½œä¸ºä¸´æ—¶è®¡ç®—çš„äº§ç‰©ï¼Œå¹¶æ²¡æœ‰æŒ‚åœ¨å¯¹è±¡å®ä¾‹ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸‰æ¡è·¯ è·å–åˆ° ctx åï¼Œè‡ªå·±é‡æ–°è®¡ç®— ä¿®æ”¹æºç ï¼ŒæŠŠè¿™ä¸ªä¸´æ—¶çŠ¶æ€æŒ‚åœ¨å¯¹è±¡ä¸Šã€‚ä¸è¿‡éœ€è¦é‡æ–°å‘åŒ…ï¼Œæˆ–è€…æŠŠä»£ç çº³å…¥ç‰ˆæœ¬åº“ï¼Ÿä¾µå…¥æ€§å¼ºï¼Œä¸ä¾¿äºåæœŸå‡çº§ï¼Œè¿˜æ˜¯ç®—äº†å§ å†å»çœ‹çœ‹å…¶ä»–æ–¹æ¡ˆå§ ä¸éœ€è¦åœ¨é€‰æ‹©ä¸Šæµªè´¹å¤ªå¤šæ—¶é—´ï¼Œå¹²å°±å®Œäº†ã€‚æˆ‘ä»¬å…ˆé€‰æ‹©æ–¹æ¡ˆä¸€ï¼Œè¦æ˜¯åé¢æœ‰æ›´å¥½çš„ï¼Œå†æ›´æ¢å˜›ã€‚ 2.3 æ ¹æ®è·å–åˆ°çš„ ctx æ¥è®¡ç®— Min å’Œ Max 123456789101112131415161718192021222324252627282930313233343536/** * 1ã€è·å–åˆ°å¯è§†åŒºåŸŸ view çš„å®½åº¦ * 2ã€è·å–åˆ°å¯è§†åŒºåŸŸçš„æ—¶é—´æˆ³åˆ†å¸ƒ * 3ã€ç®—å‡º brush çš„èµ·å§‹ç‚¹ * * @param ctx */export function getBrushedTimeRange(ctx) &#123; // action æœ¬èº«å®ä¾‹ const self = ctx.actions.find(v =&gt; v.name === 'brush-x') const view = self.context.view // è·å–åˆ°ä¸¤ä¸ªé€‰æ‹©çš„ç‚¹ const startPoint = self.startPoint const currentPoint = ctx.getCurrentPoint() // ç”»å¸ƒä¸¤ä¾§çš„ padding const paddingLeft = view.padding[3] // è·å–ä¸»ä½“çš„å®é™…å®½åº¦ const totalWith = view.width - view.padding[1] - view.padding[3] // è·å–é€‰æ‹©ç‚¹çš„å¼€å§‹ç»“æŸåæ ‡ const startX = startPoint.x - paddingLeft const endX = currentPoint.x - paddingLeft // range èŒƒå›´çš„æ‰ä¼šè½ç‚¹ const timestampsCount = (view.getXScale().max - view.getXScale().min) / (view.getXScale().range[1] - view.getXScale().range[0]) // è·å–åˆ°æ¯ä¸€ä¸ªæ—¶é—´å ç”¨çš„å®½åº¦ const perTimestampWidth = timestampsCount / totalWith // å¼€å§‹éœ€è¦è¡¥å¿çš„æ—¶é—´èŒƒå›´ const startXTimestamp = view.getXScale().min - view.getXScale().range[0] * totalWith * perTimestampWidth const startTime = startXTimestamp + startX * perTimestampWidth const endTime = startXTimestamp + endX * perTimestampWidth return startTime &lt; endTime ? [startTime, endTime] : [endTime, startTime]&#125; åœ¨brushå›è°ƒçš„åœ°æ–¹ï¼Œæ‰§è¡Œä¸‹é¢çš„åŠ¨ä½œå³å¯ï¼Œç€é‡å…³æ³¨ callback åœ°æ–¹ 1234567891011121314151617181920212223242526272829303132333435registerInteraction('brushX', &#123; showEnable: [ &#123; trigger: 'plot:mouseenter', action: 'cursor:crosshair' &#125;, &#123; trigger: 'plot:mouseleave', action: 'cursor:default' &#125; ], start: [ &#123; trigger: 'mousedown', action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'] &#125; ], processing: [ &#123; trigger: 'mousemove', action: ['x-rect-mask:resize'] &#125; ], end: [ &#123; trigger: 'mouseup', action: ['brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'], callback: ctx =&gt; &#123; // é‡ç‚¹å†è¿™é‡Œ const [startTime, endTime] = getBrushedTimeRange(ctx) this.$emit('on-brushed', [startTime, endTime]) this.resetBrushAction = ctx.actions.find(v =&gt; v.name === 'brush-x') &#125; &#125; ], rollback: [ &#123; trigger: 'dblclick', action: ['brush-x:reset', 'reset-button:hide'] &#125;, &#123; trigger: 'reset-button:click', action: ['brush-x:reset', 'reset-button:hide'] &#125; ]&#125;) ä¸‰ã€è¸©å‘æ–¹æ¡ˆ3.1 ç›´æ¥ä½¿ç”¨ brush-filter å¯¼è‡´çš„ scalex ä¸Šä¸‹æ–‡ä¼ é€’ä¸ä¸€è‡´é—®é¢˜123456789101112131415161718192021222324252627282930313233/** * hack åŸæ¥çš„ getFilter() æ–¹æ³•ï¼Œç›´æ¥è¿”å›æˆ‘ä»¬éœ€è¦çš„æ•°æ® * * @param scale Scale * @param dim * @param point1 Point * @param point2 * @returns &#123;null|&#123;minValue, maxValue&#125;&#125; */function hackGetFilterReturnMinMax(scale, dim, point1, point2) &#123; let min = Math.min(point1[dim], point2[dim]) let max = Math.max(point1[dim], point2[dim]) const [rangeMin, rangeMax] = scale.range // çº¦æŸå€¼åœ¨ scale çš„ range ä¹‹é—´ if (min &lt; rangeMin) &#123; min = rangeMin &#125; if (max &gt; rangeMax) &#123; max = rangeMax &#125; // èŒƒå›´å¤§äºæ•´ä¸ª view çš„èŒƒå›´ï¼Œåˆ™è¿”å› null if (min === rangeMax &amp;&amp; max === rangeMax) &#123; return null &#125; const minValue = scale.invert(min) const maxValue = scale.invert(max) // console.log('start', minValue, 'end', maxValue) return &#123; minValue, maxValue &#125;&#125; 3.2 åŒºåˆ† view çš„å‡ ä¸ªè§†è§’ å››ã€ä¸€äº›é“¾æ¥4.1 tooltip è”åŠ¨https://antv-g2.gitee.io/zh/examples/interaction/others#views-tooltip","categories":[],"tags":[]},{"title":"SkyWalking PHP å†…æ ¸ä»£ç å‰–æ","slug":"skywalking-php-kernel-flow","date":"2021-01-29T09:04:15.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2021/01/29/skywalking-php-kernel-flow/","link":"","permalink":"https://rovast.github.io/2021/01/29/skywalking-php-kernel-flow/","excerpt":"","text":"ä¸€ã€æ€»ä½“æµç¨‹PHP é‡è¦å‡ ä¸ªç”Ÿå‘½å‘¨æœŸè¯´æ˜ï¼Œå…ˆåé¡ºåºä¸º PHP_MIã€PHP_RIã€PHP_EXECUTEã€PHP_RSã€PHP_MSï¼Œæ¯ä¸ªæ¨¡å—çš„ä½œç”¨å¦‚ä¸‹ PHP_MIï¼Œæ¨¡å—åˆå§‹åŒ–é˜¶æ®µï¼Œä¸»è¦è¿›è¡Œ PHP æ¡†æ¶ã€Zend å¼•æ“çš„åˆå§‹åŒ–å·¥ä½œã€‚é‡è¦çš„å‡ ä¸ªå·¥ä½œå¦‚ä¸‹ï¼š å…¨å±€çŠ¶æ€ä¿¡æ¯çš„åˆå§‹åŒ–ï¼Œå¦‚ SGã€CGã€EGç­‰ å¯åŠ¨ Zend å¼•æ“ï¼Œå†…å­˜æ± å¯åŠ¨ã€æ³¨å†Œè™šæ‹Ÿæœºçš„å„é¡¹æ‰§è¡Œå¥æŸ„ è§£æ php.ini é…ç½®æ–‡ä»¶ æ³¨å†Œæ‹“å±•ï¼ŒåŒ…æ‹¬é™æ€ç¼–è¯‘æ‹“å±•å’ŒåŠ¨æ€ç¼–è¯‘æ‹“å±• å›è°ƒæ‹“å±•å®šä¹‰çš„ MI å‡½æ•°ï¼Œå³ PHP_MINIT_FUNCTION PHP_RIï¼Œè¯·æ±‚åˆå§‹åŒ–é˜¶æ®µï¼ŒCLI æ¨¡å¼ä¸‹ï¼Œè¯¥å‡½æ•°æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ˜¯ php-fpm æ¨¡å¼ä¸‹ï¼Œä¼šåœ¨ PHP_RI å’Œ PHP_RS ä¹‹é—´å¾ªç¯ã€‚è¯¥é˜¶æ®µéœ€è¦å…³æ³¨çš„æœ‰å¦‚ä¸‹äº‹å®œï¼š æ¿€æ´» zend å¼•æ“ï¼ŒåŒ…æ‹¬ï¼šé‡ç½®åƒåœ¾å›æ”¶å™¨ã€åˆå§‹åŒ–ç¼–è¯‘å™¨ã€åˆå§‹åŒ–æ‰§è¡Œå™¨ã€åˆå§‹åŒ–è¯æ³•æ‰«æå™¨ å›è°ƒå„æ‹“å±•å®šä¹‰çš„ RI å‡½æ•°ï¼Œå³ PHP_RINIT_FUNCTION PHP_EXECUTEï¼Œè„šæœ¬æ‰§è¡Œé˜¶æ®µã€‚é€šè¿‡æ‹¦æˆª zend å¼•æ“çš„ execute å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·ç”¨æˆ·æ‰§è¡Œçš„æ¯ä¸€æ¡è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤é˜¶æ®µï¼Œè¿›è¡Œ MySQLã€Redisã€CURLç­‰ä»£ç çš„æ•è·ï¼Œä»è€Œç”Ÿæˆå¯¹åº”çš„ spanï¼Œè¿›è€Œæ„å»º traceã€‚ PHP_RSï¼Œè¯·æ±‚å…³é—­é˜¶æ®µã€‚è¯¥é˜¶æ®µä¸»è¦è¿›è¡Œè¯·æ±‚èµ„æºçš„é‡Šæ”¾åŠ¨ä½œï¼ŒåŒæ—¶è¿™ä¸ªæ˜¯ fpm è¯·æ±‚çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤é˜¶æ®µï¼ŒæŠŠæœ¬æ¬¡è¯·æ±‚è·å–çš„ segment ä¿¡æ¯ä¸ŠæŠ¥è‡³ sidecar PHP_MSï¼Œæ¨¡å—å…³é—­é˜¶æ®µã€‚å„é¡¹èµ„æºçš„é‡Šæ”¾ SkyWalking PHP å†…æ ¸çš„ä¸»è¦å¤„ç†æµç¨‹æ•´ç†å¦‚ä¸‹ï¼š äºŒã€PHP_MI é˜¶æ®µï¼Œè‡ªå®šä¹‰å‡½æ•°æ‰§è¡Œå™¨æ›¿æ¢Zendå†…æ ¸æ‰§è¡Œå™¨ è¯¥é˜¶æ®µçš„å…¥å£å‡½æ•° PHP_MINIT_FUNCTION (skywalking) 2.1 ä»£ç å‘½åçº¦å®šè¯¥é˜¶æ®µä¸»è¦æ˜¯è¿›è¡Œ Zend æ‰§è¡Œå™¨çš„ assign åŠ¨ä½œï¼Œå˜é‡çš„å‘½åæœ‰å¦‚ä¸‹è§„åˆ™ï¼š ori_ æ‰“å¤´çš„ï¼Œæ˜¯ Zend å¼•æ“çš„åŸå‡½æ•°ï¼Œè¿™é‡Œåšå¤‡ä»½ï¼Œä¾¿äº hack åï¼Œæ¢å¤åŸæ¥çš„æ‰§è¡Œ zend_ æ‰“å¤´çš„ï¼Œå°±æ˜¯ Zend å¼•æ“çš„å†…ç½®å‡½æ•° sky_ æ‰“å¤´çš„ï¼Œæ˜¯æˆ‘ä»¬è®¡åˆ’åœ¨å¯¹åº”é˜¶æ®µè¿›è¡Œçš„è‡ªå®šä¹‰åŠ¨ä½œã€‚ä¸€èˆ¬åœ¨è‡ªå®šä¹‰åŠ¨ä½œçš„æœ€åï¼Œéƒ½ä¼šä½¿ç”¨ ori_ æ¥äº¤è¿˜å‡½æ•°æ§åˆ¶æƒï¼Œæ¢å¤åŸæ¥æ­£å¸¸æµç¨‹å‡½æ•°çš„æ‰§è¡ŒåŠ¨ä½œ éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š 12345678910111213PHP_MINIT_FUNCTION (skywalking) &#123; // ..... // ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ‰§è¡Œå™¨(phpè„šæœ¬å®šä¹‰çš„ç±»ã€å‡½æ•°) ori_execute_ex = zend_execute_ex; zend_execute_ex = sky_execute_ex; // å†…éƒ¨å‡½æ•°æ‰§è¡Œå™¨(cè¯­è¨€å®šä¹‰çš„ç±»ã€å‡½æ•°) ori_execute_internal = zend_execute_internal; zend_execute_internal = sky_execute_internal; // ......&#125; 2.2 æ‹¦æˆªçš„å‡½æ•°åˆ†ç±»å’Œæ„ä¹‰å…¶æ‹¦æˆªçš„å‡½æ•°ä¸»è¦åˆ†ä¸‰ç±»ï¼š zend_execute_exï¼Œæ‹¦æˆªç”¨æˆ·æ€å‡½æ•°ï¼Œå³æˆ‘ä»¬å¹³æ—¶å†™çš„ .php æ–‡ä»¶é‡Œé¢çš„ä»£ç ã€‚è¿™é‡Œå¯ä»¥æ•è·åˆ° class name ç±»åã€function name å‡½æ•°å zend_execute_internalï¼Œæ‹¦æˆª PHP å†…ç½®çš„å‡½æ•°å’Œç±»ç­‰ï¼Œæ¯”å¦‚ PDOã€mysqli ç­‰ CURLç›¸å…³çš„å‡½æ•°å¥æŸ„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ•è·å‡½æ•°çš„ä¸Šä¸‹æ¸¸ http è°ƒç”¨ä¿¡æ¯ã€‚å…¶æ‹¦æˆªçš„å‡½æ•°åŒ…æ‹¬ï¼šcurl_execã€curl_setoptã€curl_setopt_arrayã€curl_close ä¸‰ã€PHP_RI é˜¶æ®µï¼Œè¯·æ±‚åˆå§‹åŒ–ï¼Œæ³¨å†Œ sky-agentï¼Œæ„é€ åŸå§‹ segmentå…¥å£å‡½æ•° PHP_RINIT_FUNCTION(skywalking) 3.1 ä¸»è¦æµç¨‹PHP_RI é˜¶æ®µåœ¨æ¯ä¸€ä¸ª fpm è¯·æ±‚æ—¶éƒ½ä¼šè§¦å‘ä¸€æ¬¡ï¼Œåœ¨æ­¤é˜¶æ®µï¼Œä¸»è¦è¿›è¡Œä»¥ä¸‹ä¸¤ä»¶äº‹ static int sky_register()ï¼Œé€šè¿‡ unix sock é€šä¿¡ï¼Œæ³¨å†Œ agentï¼ŒåŒæ—¶æ ¹æ®è¿”å›çš„æ¡æ‰‹ä¿¡æ¯æ¥ç¡®å®š appã€serviceã€instanceä¿¡æ¯ static void request_init() ï¼Œæ„é€  segement ä¿¡æ¯ï¼Œè¿™é‡ŒåŒ…å«äº†ä»¥ä¸‹é‡è¦ä¿¡æ¯ ç”Ÿæˆ traceId æ ¹æ® header çš„ sw8 å­—æ®µæ¥è§£æä¸Šæ¸¸ä¿¡æ¯ï¼Œè¿›è€Œæ„é€  span ä¿¡å¿ƒï¼Œrefs ä¿¡æ¯ 3.2 traceId ç”Ÿæˆè§„åˆ™ï¼Œä¸‰æ®µæ ¼å¼ instance.pid.secondå…¶æ ¸å¿ƒä»£ç å¦‚ä¸‹ 12345678910111213static void generate_context() &#123; int sys_pid = getpid(); long second = get_second(); second = second * 10000 + sky_increment_id; //åˆ›å»ºtraceidçš„å› å­ char *makeTraceId; makeTraceId = (char *) emalloc(sizeof(char) * 180); //åˆ†é…traceIdæ‰€éœ€è¦çš„å†…å­˜ bzero(makeTraceId, sizeof(char) * 180); sprintf(makeTraceId, \"%d.%d.%ld\", application_instance, sys_pid, second); // .....&#125; å…¶ä¸­ sky_increment_id æ˜¯ 0~9999ã€‚MSP å¹³å°ä¸­æ˜¾ç¤ºçš„ TraceId ä¿¡æ¯ï¼Œç±»ä¼¼å¦‚ä¸‹ï¼š æˆ‘ä»¬æ¥ç®€çŸ­åˆ†æä¸‹ï¼ŒæŒ‰ç‚¹ã€Œ.ã€åˆ†å‰² 1ã€‚å› ä¸ºåœ¨ sky_register é˜¶æ®µï¼Œapplication_instance å›ºå®šä¸º 1 393ï¼Œå³ pid 16109522148050 è¿™ä¸ªå°±æ˜¯æ—¶é—´æˆ³ + sky_increment_id æ„æˆçš„äº† 3.3 header é‡Œçš„ HTTP_SW8 æ•°æ®å«ä¹‰123456789101112131415161718192021static void generate_context() &#123; // ....... // è·å– header HTTP_SW8 ä¿¡æ¯ sw = zend_hash_str_find(Z_ARRVAL_P(carrier), \"HTTP_SW8\", sizeof(\"HTTP_SW8\") - 1); //$SERVER['HTTP_SW8']; // ....... // æŒ‰ä¸­æ¨ªçº¿ï¼ˆ-ï¼‰åˆ†å‰²ä¸º sw8_N æ•°ç»„ php_explode(zend_string_init(ZEND_STRL(\"-\"), 0), Z_STR_P(sw), &amp;temp, 10); // ...... // å¯¹åˆ†å‰²åçš„æ•°ç»„ï¼Œè¿›è¡Œè§£ç ï¼Œå…¶ index ä¸º 1,2,4,5,6,7 zval_b64_decode(&amp;sw8_1decode, Z_STRVAL_P(sw8_1)); zval_b64_decode(&amp;sw8_2decode, Z_STRVAL_P(sw8_2)); zval_b64_decode(&amp;sw8_4decode, Z_STRVAL_P(sw8_4)); zval_b64_decode(&amp;sw8_5decode, Z_STRVAL_P(sw8_5)); zval_b64_decode(&amp;sw8_6decode, Z_STRVAL_P(sw8_6)); zval_b64_decode(&amp;sw8_7decode, Z_STRVAL_P(sw8_7)); // .......&#125; æˆ‘ä»¬å»ç½‘å…³æ—¥å¿—é‡Œï¼Œå–ä¸€ä¸ªæ ·æœ¬åˆ†æï¼Œå¾—åˆ°çš„åŸå§‹ header ä¿¡æ¯å¦‚ä¸‹ 11-QzBBODNDMzEtMTYxMDk1MzUyODM0MC0xMTc3OTctQS0xMjcw-QzBBODNDMzEtMTYxMDk1MzUyODM0MC0xMTc3OTctQS0xMjcw-1-xxxxxxxxxxxx-YjcyOWU0MzUtNjA5Zi00YzMwLWI4MjctNjZmMmUyYWZjNmM2-xxxxxxxxxx==-xxxxx.service æˆ‘ä»¬æŒ‰ä¸­æ¨ªçº¿(-)åˆ†å‰²ï¼Œå¾—åˆ° 123456781QzBBODNDMzEtMTYxMDk1MzUyODM0MC0xMTc3OTctQS0xMjcw // Trace Id base64QzBBODNDMzEtMTYxMDk1MzUyODM0MC0xMTc3OTctQS0xMjcw // Parent trace segment Id1 // Parent span Idxxxxxxxxxxxx // Parent serviceYjcyOWU0MzUtNjA5Zi00YzMwLWI4MjctNjZmMmUyYWZjNmM2 // Parent service instancexxxxxxxxxx== // Parent endpointxxxxx.service // Target address used at client side of this request æˆ‘ä»¬å¯¹å…¶ä¸­ 1,2,4,5,6,7 è¿›è¡Œ base64 è§£ç ï¼Œå¾—åˆ° 123456781C0A83C31-1610953528340-117797-A-1270 // Trace Id base64C0A83C31-1610953528340-117797-A-1270 // Parent trace segment Id1 // Parent span Idxxxxxxxxxxxxx // Parent serviceb729e435-609f-4c30-b827-66f2e2afc6c6 // Parent service instancexxxxxxxxxxxxxxxxxxxxxxxxx // Parent endpointxxxxxxxxxx.service // Target address used at client side of this request 3.4 RI å‘¨æœŸä¸»è¦æµç¨‹å¦‚ä¸‹ å››ã€PHP_EXECUTE é˜¶æ®µï¼Œæ‹¦æˆªä»£ç æ‰§è¡Œè¯­å¥ï¼Œåˆ†æåæ¢å¤æ‰§è¡Œ åœ¨ MI é˜¶æ®µï¼Œæˆ‘ä»¬æ›¿æ¢äº† zend å¼•æ“çš„å‡½æ•°æ‰§è¡ŒæŒ‡å‘ï¼Œæ‰€ä»¥æ‰€æœ‰è¯­å¥çš„æ‰§è¡Œä¼šè¢«æˆ‘ä»¬æ¥ç®¡ã€‚æˆ‘ä»¬åœ¨æ‰§è¡Œå®Œè‡ªå·±éœ€è¦çš„åŠ¨ä½œåï¼Œè¿˜åŸåŸæ¥çš„æ‰§è¡Œå³å¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ¥ç®¡çš„å‡½æ•°ä¼šè¢«å¤šæ¬¡è§¦å‘ï¼Œæ¯æ‰§è¡Œä¸€æ¡ oplineï¼Œå°±ä¼šè¢«è§¦å‘ä¸€æ¬¡(å­˜ç–‘ï¼Œå¾…æŒ‡æ­£)ã€‚ 4.1 ZEND_API void sky_execute_ex(zend_execute_data *execute_data)æ ¸å¿ƒçš„æµç¨‹å¦‚ä¸‹ è·å–å½“å‰ä»£ç æ‰§è¡Œçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šç±»åã€å‡½æ•°å å¯¹ç±»åå’Œå‡½æ•°åè¿›è¡Œåˆ¤æ–­ï¼Œçœ‹æ˜¯å¦éœ€è¦æ‹¦æˆªã€‚ç›®å‰æ‹¦æˆªçš„æ˜¯ Predis SDK å¦‚æœéœ€è¦æ‹¦æˆªï¼Œæ ¹æ®æ‹¦æˆªä¿¡æ¯æ„é€  span æŠŠæ„é€ å¥½çš„ span æ’å…¥åˆ°å½“å‰ segment çš„ spans æ•°ç»„é‡Œ æ¢å¤å‡½æ•°åŸæ¥çš„æ‰§è¡Œï¼Œè°ƒç”¨ ori_ å³å¯ 4.2 ZEND_API void sky_execute_internal(zend_execute_data execute_data, zval return_value)å…¶æ ¸å¿ƒæµç¨‹å’Œä¸Šé¢ 4.1 åˆ†æçš„ç±»ä¼¼ï¼Œå…¶ä¸åŒå°±åœ¨äºè¿™é‡Œæ‹¦æˆªçš„æ˜¯ PHP å†…ç½®çš„ä¸€äº›ç±»ï¼Œå³ç¼–è¯‘æ—¶å°±å®‰è£…çš„ç±»ã€‚æµç¨‹ä¸»è¦åŒ…æ‹¬ è·å–ç±»åå’Œå‡½æ•°å æ ¹æ®ç±»ååˆ¤æ–­æ˜¯å¦éœ€è¦æ‹¦æˆªï¼Œç›®å‰éœ€è¦æ‹¦æˆªï¼šPDOã€PDOStatementã€mysqliã€Yar_Clientã€Reidsã€Memecached æ„é€  spanï¼Œæ’å…¥åˆ°å½“å‰ segment çš„ spans æ•°ç»„é‡Œ æ¢å¤å‡½æ•°æ‰§è¡Œ 4.3 CURL HOOKè¿™é‡Œä¸»è¦æ˜¯è°ƒç”¨é“¾çš„ä¼ é€’ï¼Œå¦‚æœå‘ç°æœ‰ curl è¯·æ±‚ï¼Œåˆ™æ ¹æ®è§„åˆ™ç”Ÿæˆå½“å‰çš„ sw8 ä¿¡æ¯ï¼Œå¡åˆ° http header çš„ sw8 å­—æ®µé‡Œï¼Œä¼ é€’ç»™ä¸‹æ¸¸ã€‚ æ›´å¤šçš„æµç¨‹ï¼Œä»¥åè¡¥å……ã€‚ äº”ã€PHP_RS è¯·æ±‚ç»“æŸé˜¶æ®µï¼Œå‘é€ segment ä¿¡æ¯è‡³ sidecarPHP_RS é˜¶æ®µä¸»è¦åšä¸¤ä»¶äº‹å„¿ï¼š é€šè¿‡ unix sock å‘é€æœ¬è¯·æ±‚æ„å»ºçš„ segment ä¿¡æ¯è‡³ sidecar é‡Šæ”¾å½“å‰è¯·æ±‚é‡Œçš„å…¨å±€çŠ¶æ€å­˜å‚¨ã€‚ç”±äºå…¶ä»–çš„ intã€charã€boolean ç±»å‹çš„ä¸æ¶‰åŠåˆ°å†…å­˜ç®¡ç†ï¼Œæ‰€ä»¥å°±æ˜¯å››ä¸ª zval çš„é‡Šæ”¾ 1234567891011ZEND_BEGIN_MODULE_GLOBALS(skywalking) char *sock_path; char *app_code; //app_name eg:skywalking.app_code = MyProjectName char *app_code_env_key; //app_name ç¯å¢ƒå˜é‡åœ°å€ï¼šç¯å¢ƒå˜é‡-&gt;é»˜è®¤KEYï¼šAPM_APP_CODE zend_bool enable; zval UpstreamSegment; //å…¨å±€ä¸ŠæŠ¥æ•°æ®æ®µ zval context; zval curl_header; //curl headeræ•°æ® zval curl_header_send; //è®°å½•å½“å‰Rå‘¨æœŸ æ˜¯å¦å·²ç»sendè¿‡curl_header int version;ZEND_END_MODULE_GLOBALS(skywalking) å…­ã€PHP_MS æ¨¡å—ç»“æŸé˜¶æ®µè¿™ä¸ªé˜¶æ®µæ²¡å•¥å¥½è¯´çš„ï¼Œæ²¡å•¥ç‰¹æ®Šæ“ä½œ ä¸ƒã€å…¨æ™¯ï¼Œæ•´ä¸ªå¤§è„‘å›¾","categories":[],"tags":[]},{"title":"åœ¨ Mac ä¸Šä½¿ç”¨ Clion è°ƒè¯• PHP æºç ","slug":"debug-php-src-on-mac","date":"2020-12-27T03:39:39.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2020/12/27/debug-php-src-on-mac/","link":"","permalink":"https://rovast.github.io/2020/12/27/debug-php-src-on-mac/","excerpt":"","text":"å‚è€ƒ https://www.jianshu.com/p/f6af567b25a7 ä¸€ã€ç¼–è¯‘å®‰è£… debug ç‰ˆæœ¬çš„ PHP configure php 123456./configure --enable-fpm --enable-debug --with-openssl=/usr/local/Cellar/openssl@1.1/1.1.1i/ \\--enable-bcmath --with-curl --enable-exif --with-mysqli --with-pdo-mysql \\--enable-zip --with-zlib=/usr/local/Cellar/zlib/1.2.11/ --enable-intl --enable-pcntl --enable-mbstring --enable-soap \\--with-icu-dir=/usr/local/Cellar/icu4c/67.1 \\--with-iconv=/usr/local/Cellar/libiconv/1.16 \\--with-libxml-dir=/usr/local/Cellar/libxml2/2.9.10_2 ä¿®æ”¹ makefile æŸ¥æ‰¾å…³é”®å­— EXTRA_LIBS = æˆ‘çš„åœ¨ line 108ï¼Œåˆ é™¤æ‰€æœ‰çš„ -liconvï¼Œæœ«å°¾åŠ ä¸Š /usr/local/opt/libiconv/lib/libiconv.dylib12345# ä¿®æ”¹å‰EXTRA_LIBS = -lcrypto -lssl -lcrypto -lz -lresolv -lstdc++ -liconv -liconv -lz -lcrypto -lssl -lcrypto -lm -lxml2 -lz -liconv -lm -lcurl -lxml2 -lz -liconv -lm -licui18n -licuuc -licudata -licuio -lxml2 -lz -liconv -lm -lxml2 -lz -liconv -lm -lxml2 -lz -liconv -lm -lxml2 -lz -liconv -lm -lxml2 -lz -liconv -lm# ä¿®æ”¹åEXTRA_LIBS = -lcrypto -lssl -lcrypto -lz -lresolv -lstdc++ -lz -lcrypto -lssl -lcrypto -lm -lxml2 -lz -lm -lcurl -lxml2 -lz -lm -licui18n -licuuc -licudata -licuio -lxml2 -lz -lm -lxml2 -lz -lm -lxml2 -lz -lm -lxml2 -lz -lm -lxml2 -lz -lm /usr/local/opt/libiconv/lib/libiconv.dylib make 1make sudo make install 1sudo make install äºŒã€è®¾å®šä¸€äº›ç›®å½•çš„æƒé™ï¼Œä¸ç„¶ Clion ä¸èƒ½æ­£å¸¸è°ƒè¯•1sudo chown -R rovast:wheel /usr/local/lib/php/ makefile1234567891011121314151617181920cmake_minimum_required(VERSION 3.13)project(php_7_2_27)set(CMAKE_CXX_STANDARD 14)set(PHP_SOURCE /Users/rovast/Software/tmp/php-7.2.27)include_directories($&#123;PHP_SOURCE&#125;/main)include_directories($&#123;PHP_SOURCE&#125;/Zend)include_directories($&#123;PHP_SOURCE&#125;/sapi)include_directories($&#123;PHP_SOURCE&#125;/pear)include_directories($&#123;PHP_SOURCE&#125;/TSRM)include_directories($&#123;PHP_SOURCE&#125;)add_custom_target(makefile COMMAND make &amp;&amp; make install WORKING_DIRECTORY $&#123;PROJECT_SOURCE_DIR&#125;) debug on ubuntu12sudo apt install libxml2-dev./configure --enable-debug --enable-fpm","categories":[],"tags":[]},{"title":"grafana iframe æ¥å…¥å¤‡å¿˜å½•","slug":"grafana-iframe","date":"2020-12-23T02:46:30.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2020/12/23/grafana-iframe/","link":"","permalink":"https://rovast.github.io/2020/12/23/grafana-iframe/","excerpt":"","text":"iframe å¼•å…¥éƒ¨åˆ†é…ç½®ä¿®æ”¹åæ‰èƒ½è¿›è¡Œ iframe åµŒå…¥ï¼Œé»˜è®¤æ˜¯ä¸æ”¯æŒçš„ 123allow_embedding: true # é»˜è®¤æ˜¯ falseï¼Œ ä¸ºäº†é˜²æ­¢ Clickjackingï¼Œå¦‚æœä¸è®¾ç½®ï¼Œæµè§ˆå™¨ä¼šæ‹’ç»æ˜¾ç¤º iframecookie_samesite: none # å¦‚æœä¸è®¾ç½®ï¼Œæ— æ³•ä½¿ç”¨ç™»å½•åŠŸèƒ½cookie_secure: true # if you're using https and let us know how that works out. é…ç½®è¯´æ˜ https://grafana.com/docs/grafana/latest/administration/configuration/ 1234567891011121314cookie_secureSet to true if you host Grafana behind HTTPS. Default is false.cookie_samesiteSets the SameSite cookie attribute and prevents the browser from sending this cookie along with cross-site requests. The main goal is to mitigate the risk of cross-origin information leakage. This setting also provides some protection against cross-site request forgery attacks (CSRF), read more about SameSite here. Valid values are lax, strict, none, and disabled. Default is lax. Using value disabled does not add any SameSite attribute to cookies.allow_embeddingWhen false, the HTTP header X-Frame-Options: deny will be set in Grafana HTTP responses which will instruct browsers to not allow rendering Grafana in a &lt;frame&gt;, &lt;iframe&gt;, &lt;embed&gt; or &lt;object&gt;. The main goal is to mitigate the risk of Clickjacking. Default is false. å…ç™»é™†è®¿é—® dashboardç»“è®ºæš‚æ—¶ä¸æ”¯æŒè®¾å®šæŒ‡å®šçš„ dashboard ä¸º publicï¼Œå³ï¼šå…è®¤è¯è®¿é—®ã€‚å¦‚æœå¼€å¯äº†åªè¯»æƒé™ï¼Œåˆ™æ‰€æœ‰äººçš†å¯ä»¥è®¿é—® ç›¸å…³è°ƒç ”1ã€ã€ŠMaking selected dashboards publicã€‹ There is no way to do this and there is a big reason why.If you make one dashboard public you will have to make your data source public(ie anyone can query against it).So any possible query for that data source can be issued not just the queries used in the dashboard you made public. æ ¹æ®åˆæ­¥çš„è°ƒç ”ï¼Œå¾—åˆ°çš„ç­”å¤æ˜¯ä¸èƒ½æŒ‡å®š dashboard å¼€æ”¾ public æƒé™ã€‚åŒæ—¶ï¼Œå®˜æ–¹çš„ issue é‡Œä¹Ÿæœ‰å…³äºæ­¤é—®é¢˜çš„å›å¤ 2ã€ã€Š[FeatureRequest] Dashboards: Add real time share instead of snapshotã€‹ ç›®å‰ä¾æ—§æ˜¯å¤„äº Open çŠ¶æ€ã€‚ æŠ˜è¡·æ–¹æ¡ˆã€ŠHow to make one live dashboard publicã€‹","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"makefile ç®€æ˜æ•™ç¨‹","slug":"makefile-tutorials","date":"2020-11-28T21:39:18.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2020/11/28/makefile-tutorials/","link":"","permalink":"https://rovast.github.io/2020/11/28/makefile-tutorials/","excerpt":"","text":"Makefile ç®€æ˜æ•™ç¨‹ è‹±æ–‡åŸæ–‡åœ°å€ï¼šhttps://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/ Makefiles æ˜¯ç»„ç»‡ä»£ç ç¼–è¯‘çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡è¿™ç¯‡ç®€æ˜æ•™ç¨‹ï¼Œè™½ç„¶ä½ ä¸èƒ½å®Œæ•´å­¦ä¼š make æŒ‡ä»¤ï¼Œä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨ makefile æ¥ç»„ç»‡å°åˆ°ä¸­å‹çš„é¡¹ç›®å•¦ã€‚ ä¸€ä¸ª ç®€å•çš„ä¾‹å­æˆ‘ä»¬æ¥ä»ä¸‹é¢çš„ä¸‰ä¸ªæ–‡ä»¶å¼€å§‹å§ï¼šhellomake.cï¼Œhellofunc.cï¼Œhellomake.hã€‚è¿™æ˜¯ä¸€ä¸ªç»å…¸ C è¯­è¨€ç¨‹åºï¼Œä»£ç æ ¹æ®åŠŸèƒ½ç»„ç»‡åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ã€‚ hellomake.c 12345678#include &lt;hellomake.h&gt;int main() &#123; // è°ƒç”¨å¦ä¸€ä¸ªæ–‡ä»¶é‡Œçš„å‡½æ•° myPrintHelloMake(); return (0);&#125; hellofunc.c 12345678#include &lt;stdio.h&gt;#include &lt;hellomake.h&gt;void myPrintHelloMake() &#123; printf(\"Hello makefiles!\\n\"); return;&#125; hellomake.h 12/* example include file */void myPrintHelloMake(void); ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„æŒ‡ä»¤æ¥ç¼–è¯‘ä»£ç ï¼š 1gcc -o hellomake hellomake.c hellofunc.c -I. æˆ‘ä»¬æ¥è¯´æ˜ä¸‹è¿™ä¸ªæŒ‡ä»¤ï¼š æˆ‘ä»¬ç¼–è¯‘ä¸¤ä¸ª .c æ–‡ä»¶ å‘½åäº†ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸º hellomake -I. å‘Šè¯‰ gcc åœ¨å½“å‰ç›®å½•ä¸­å¯»æ‰¾ hellomake.h å¦‚æœæ²¡æœ‰ä½¿ç”¨ makefileï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å¼€å‘çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸Šè¾“å…¥ å‘ä¸Šæ–¹å‘é”® æ¥å¿«é€Ÿæ˜¾ç¤ºä¸Šæ¬¡çš„æŒ‡ä»¤ï¼ˆå°¤å…¶æ˜¯ä½ æœ‰å¤šä¸ª .c æ–‡ä»¶éœ€è¦ç¼–è¯‘çš„æ—¶å€™ï¼‰ã€‚ ç„¶è€Œï¼Œé€šè¿‡ä¸Šé¢çš„ç›´æ¥è¾“å…¥ç¼–è¯‘æŒ‡ä»¤çš„æ–¹å¼å­˜åœ¨ä¸¤ä¸ªå¼Šç«¯ï¼š å¼Šç«¯ä¸€ï¼šä¸æ–¹ä¾¿å‘€ï¼å½“ä½ æ¢äº†ç”µè„‘ä¹‹åï¼Œä½ è¦é‡æ–°å†è¾“å…¥ä¸Šé¢çš„æŒ‡ä»¤ã€‚ å¼Šç«¯äºŒï¼šç¼–è¯‘æ•ˆç‡ä½ä¸‹ï¼å³ä½¿ä½ åªæ˜¯ä¿®æ”¹äº†é¡¹ç›®ä¸­çš„ä¸€ä¸ª .c æ–‡ä»¶ï¼Œæ¯æ¬¡ç¼–è¯‘æ—¶ï¼Œè¿˜æ˜¯éœ€è¦ç¼–è¯‘æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè¿™æ— ç–‘æ˜¯æ•ˆç‡ä½ä¸‹ï¼Œæµªè´¹æ—¶é—´ã€‚ æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œè¯·å‡ºæœ¬æ–‡çš„ä¸»è§’ â€”â€” makefileã€‚ Makefile112hellomake: hellomake.c hellofunc.c gcc -o hellomake hellomake.c hellofunc.c -I. æŠŠä¸Šè¿°çš„å†…å®¹ï¼Œæ”¾å…¥åˆ° Makefile æˆ–è€… makefile æ–‡ä»¶ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥ make å‘½ä»¤ï¼Œå°±èƒ½å¤Ÿç›´æ¥æ‰§è¡Œç¼–è¯‘äº†ã€‚æœ‰ä»¥ä¸‹å‡ ç‚¹æˆ‘ä»¬éœ€è¦å…³æ³¨ä¸‹ï¼š å¦‚æœ make åé¢æ²¡æœ‰è·Ÿä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆä»–å°±ä¼šæ‰§è¡Œ makefile çš„ç¬¬ä¸€æ¡è§„åˆ™ã€‚ æŠŠå‘½ä»¤ä¾èµ–çš„æ–‡ä»¶æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ : åé¢ï¼Œè¿™æ · make å°±èƒ½çŸ¥é“ï¼Œå½“ä¾èµ–æ–‡ä»¶å˜åŒ–æ—¶ï¼Œ hellomake è§„åˆ™éœ€è¦é‡æ–°æ‰§è¡Œã€‚ æ³¨æ„ï¼Œç¬¬äºŒè¡Œ gcc å‰é¢ï¼Œæ˜¯ä¸€ä¸ª tab åˆ¶è¡¨ç¬¦ï¼ä¸è¦ä½¿ç”¨ç©ºæ ¼ï¼ é€šè¿‡è¿™æ ·ç®€å•çš„ Makefileï¼Œæˆ‘ä»¬å·²ç»è§£å†³äº†å¼Šç«¯ä¸€çš„é—®é¢˜ï¼Œå³ï¼šæˆ‘ä»¬ä¸éœ€è¦æ¯æ¬¡éƒ½è¾“å…¥ç¼–è¯‘æŒ‡ä»¤äº†ã€‚ ç„¶è€Œï¼Œç°åœ¨è¿˜ä¸å¤Ÿé«˜æ•ˆï¼Œå³ä½¿åªä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿˜æ˜¯éœ€è¦å…¨é‡ç¼–è¯‘ï¼ˆå³ç¼–è¯‘æ‰€æœ‰çš„æºæ–‡ä»¶ï¼‰ã€‚ä¸ºäº†ä½¿ç¼–è¯‘æ›´åŠ é«˜æ•ˆï¼Œè®©æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚ Makefile212345CC=gccCFLAGS=-I.hellomake: hellomake.o hellofunc.o $(CC) -o hellomake hellomake.o hellofunc.o æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå¸¸é‡ CCã€ CFLAGSï¼Œè¿™ä¸¤ä¸ªå¸¸é‡å‘Šè¯‰ make æ€ä¹ˆå»ç¼–è¯‘ hellomake.c å’Œ hellofunc.cã€‚å…¶ä¸­ CC å‘Šè¯‰ make ä½¿ç”¨å“ªä¸ª C ç¼–è¯‘å™¨ï¼ŒCFLAGS è¯´æ˜äº†ç¼–è¯‘æŒ‡ä»¤çš„å‚æ•°åˆ—è¡¨ã€‚é€šè¿‡æŠŠ hellomake.o å’Œ hellofunc.o æ”¾åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼Œ make æŒ‡ä»¤å°±çŸ¥é“æ¯æ¬¡éœ€è¦åˆ†åˆ«ç¼–è¯‘ .c æ–‡ä»¶ï¼Œç„¶åå†æŠŠä»–ä»¬ç¼–è¯‘ä¸ºå¯è¡Œæ€§æ–‡ä»¶ hellomakeã€‚ ç»ˆç«¯æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š 12345âœ makefile-tourial git:(master) âœ— makegcc -I. -c -o hellomake.o hellomake.cgcc -I. -c -o hellofunc.o hellofunc.cgcc -o hellomake hellomake.o hellofunc.oâœ makefile-tourial git:(master) âœ— è¿™ç§å½¢å¼çš„ makefile å¯¹å°å‹çš„é¡¹ç›®è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚ç„¶è€Œï¼Œè¿˜æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ä¾èµ–æ–‡ä»¶çš„æ›´æ–°ã€‚è®¾æƒ³ä¸‹ï¼Œå³ä½¿ä½ ä¿®æ”¹äº†hellomake.h æ–‡ä»¶ï¼Œmake æŒ‡ä»¤ä¸ä¼šé‡æ–°ç¼–è¯‘æ–‡ä»¶ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ make ä¸€ä»¶äº‹æƒ…ï¼šå³.c æ–‡ä»¶å’Œ .h æ–‡ä»¶é—´çš„ä¾èµ–å…³ç³»ã€‚å¥½ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚ Makefile3123456789CC=gccCFLAGS=-I.DEPS = hellomake.h%.o: %.c $(DEPS) $(CC) -c -o $@ $&lt; $(CFLAGS)hellomake: hellomake.o hellofunc.o $(CC) -o hellomake hellomake.o hellofunc.o ç›¸è¾ƒäºä¸Šä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬å…ˆæ˜¯å¢åŠ äº†ä¸€ä¸ª DEPSï¼šè¿™é‡Œåˆ—å‡ºäº† .c æ–‡ä»¶æ‰€ä¾èµ–çš„ .h æ–‡ä»¶é›†åˆã€‚ æ¥ç€ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªäº†è§„åˆ™ %.o: %.c $(DEPS)ï¼šå®ƒè¯´æ˜äº† .o æ–‡ä»¶æ˜¯å–å†³äº .c æ–‡ä»¶å’Œ DEPS é‡Œçš„ .h æ–‡ä»¶ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹è§„åˆ™ $(CC) -c -o $@ $&lt; $(CFLAGS)ï¼Œæ„æ€æ˜¯è¯´ï¼Œä¸ºäº†ç”Ÿæˆè¿™äº› .o æ–‡ä»¶ï¼Œmake æŒ‡ä»¤ä½¿ç”¨äº† CC å®šä¹‰çš„ç¼–è¯‘å™¨æ¥ç¼–è¯‘ .c æ–‡ä»¶ï¼š -c è¯´æ˜äº†æ˜¯ä¸ºäº†ç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼ˆobject filesï¼‰ $@ ä»£è¡¨ : å·¦è¾¹çš„å†…å®¹ï¼Œå³ï¼š%.o $&lt; æ˜¯ä¾èµ–åˆ—è¡¨é‡Œçš„ç¬¬ä¸€é¡¹ï¼Œå³ï¼š%.c CFLAGS å’Œä¹‹å‰çš„è¯´æ˜ä¸€æ ·ï¼Œå°±æ˜¯ç¼–è¯‘çš„æŒ‡ä»¤å‚æ•°äº†(flagï¼‰ æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š 12345âœ makefile-tourial git:(master) âœ— makegcc -c -o hellomake.o hellomake.c -I.gcc -c -o hellofunc.o hellofunc.c -I.gcc -o hellomake hellomake.o hellofunc.oâœ makefile-tourial git:(master) âœ— æœ€åï¼Œæˆ‘ä»¬å†æ¥åšä¸‹ç®€åŒ–ï¼Œä½¿ç¼–è¯‘æ›´å…·é€šç”¨æ€§ã€‚æˆ‘ä»¬ä½¿ç”¨ $@ å’Œ $^ æ¥åˆ†åˆ«è¡¨ç¤º : çš„å·¦ä¾§å’Œå³ä¾§ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œæ‰€æœ‰ include æ–‡ä»¶ä¼šä½œä¸º DEPS çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€æœ‰ç›®æ ‡æ–‡ä»¶ï¼ˆobject filesï¼‰ä¼šä½œä¸º OBJ çš„ä¸€éƒ¨åˆ†ã€‚ Makefile412345678910CC=gccCFLAGS=-I.DEPS = hellomake.hOBJ = hellomake.o hellofunc.o%.o: %.c $(DEPS) $(CC) -c -o $@ $&lt; $(CFLAGS) hellomake: $(OBJ) $(CC) -o $@ $^ $(CFLAGS) æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š 1234âœ makefile-tourial git:(master) âœ— makegcc -c -o hellomake.o hellomake.c -I.gcc -c -o hellofunc.o hellofunc.c -I.gcc -o hellomake hellomake.o hellofunc.o -I. è®©æˆ‘ä»¬æ¥è¿›ä¸€æ­¥æ€è€ƒä¸‹ï¼š æˆ‘ä»¬èƒ½ä¸èƒ½æŠŠ .h çš„æ–‡ä»¶éƒ½æ”¾åˆ°ä¸€ä¸ªä¸“é—¨çš„ inlcude ç›®å½•ï¼ŒæŠŠ .c æ–‡ä»¶éƒ½æ”¾åˆ°ä¸€ä¸ªä¸“é—¨çš„ srcç›®å½•ï¼Ÿ æˆ‘ä»¬èƒ½ä¸èƒ½æŠŠè¿™äº›çƒ¦äººçš„ .o æ–‡ä»¶éƒ½éšè—èµ·æ¥ï¼Ÿ å½“ç„¶æ˜¯å¯ä»¥çš„ï¼æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€ä¸ª makefile ä¸­æŠŠå¯¹åº”çš„æ–‡ä»¶æ”¾åˆ° include å’Œ libæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”æŠŠç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶éƒ½æ”¾åˆ° src çš„ obj å­ç›®å½•ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰ä»»ä½•æˆ‘ä»¬æƒ³åŒ…å«çš„åº“æ–‡ä»¶ï¼Œæ¯”å¦‚å¸¸ç”¨çš„ math library -lmã€‚è¿™ä¸ª makefile æ”¾åœ¨ src ç›®å½•é‡Œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ª clean è§„åˆ™ï¼Œç”¨æ¥æŠŠç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶æ¸…é™¤ï¼ˆä½¿ç”¨ make clean å‘½ä»¤ï¼‰ã€‚.PHONY é˜²æ­¢ make æ¸…é™¤åä¸º clean çš„æ–‡ä»¶ã€‚ æ–‡ä»¶è·¯å¾„ä¸º 1234567891011âœ src git:(master) âœ— tree .â”œâ”€â”€ hellofunc.câ”œâ”€â”€ hellomakeâ”œâ”€â”€ hellomake.câ”œâ”€â”€ makefileâ””â”€â”€ obj â”œâ”€â”€ hellofunc.o â””â”€â”€ hellomake.o1 directory, 6 files Makefile512345678910111213141516171819202122232425IDIR = ../includeCC=gccCFLAGS=-I$(DIR)ODIR=objLDIR=../libLIBS=-lm_DEPS = hellomake.hDEPS=$(patsubst %,$(IDIR)/%,$(_DEPS))_OBJ = hellomake.o hellofunc.oOBJ=$(patsubst %,$(ODIR)/%,$(_OBJ))$(ODIR)/%.o: %.c $(DEPS)( $(CC) -c -o $@ $&lt; $(CFLAGS) hellomake: $(OBJ) $(CC) -o $@ $^ $(CFLAGS) $(LIBS) .PHONY: cleanclean: rm -f $(ODIR)/*.o *~ core $(INCDIR)/*~ è¿è¡Œç»“æœ 1234âœ src git:(master) âœ— makegcc -c -o obj/hellomake.o hellomake.c -I../includegcc -c -o obj/hellofunc.o hellofunc.c -I../includegcc -o hellomake obj/hellomake.o obj/hellofunc.o -I../include æ³¨æ„è¦åœ¨ src ç›®å½•ä¸‹è¿è¡Œï¼Œå¹¶ä¸”è¦æŠŠ .h æ–‡ä»¶æ”¾åˆ° include ç›®å½•é‡Œ å¥½äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»æœ‰äº†ä¸€ä¸ªä¸é”™çš„ makefile äº†ï¼Œç°åœ¨ä½ èƒ½ hold ä½ä¸€ä¸ªä¸­å‹çš„é¡¹ç›®äº†ã€‚ä½ ä¹Ÿå¯ä»¥å¢åŠ æ›´å¤šçš„è§„åˆ™åˆ° makefile é‡Œï¼Œä½ ç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªè§„åˆ™ä¸­è°ƒç”¨å¦ä¸€ä¸ªè§„åˆ™ã€‚ æƒ³çŸ¥é“æ›´å¤šå…³äº makefile å’Œ make çš„ä¿¡æ¯ï¼Œå°±å»æŸ¥é˜… GNU Make Manual å§ï¼","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[]},{"title":"å€ŸåŠ© skywalking æ­å»ºè‡ªå·±çš„ APM æ•°æ®å±•ç¤ºå¹³å°","slug":"build-your-own-ui-for-skywalking","date":"2020-11-28T17:27:41.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2020/11/28/build-your-own-ui-for-skywalking/","link":"","permalink":"https://rovast.github.io/2020/11/28/build-your-own-ui-for-skywalking/","excerpt":"","text":"SkyWalking: an APM(application performance monitor) system, especially designed for microservices, cloud native and container-based (Docker, Kubernetes, Mesos) architectures. README.mdgithub.com/apache/skywalking skywaking(æœ¬æ–‡åç»­ç®€ç§° SW) åœ¨å¦‚ä»Šçš„ APM ä½“ç³»å»ºè®¾ä¸­é€æ¸å±•éœ²å¤´è§’ï¼Œå›½å†…å‡ ä¹æ‰€æœ‰çš„ä¸€çº¿å¤§å‚éƒ½å€ŸåŠ© skywaling è¿›è¡Œäº†è‡ªå·±çš„ APM ä½“ç³»å»ºè®¾ã€‚å¤§å‚çš„å»ºè®¾æ–¹æ¡ˆåœ¨è¯¸å¤šçš„å¤§ä¼šä¸­éƒ½æœ‰æåŠï¼Œå°¤å…¶åœ¨åˆšè¿‡å»çš„ ã€ŠApache SkyWalking DevCon 2020ã€‹ï¼Œæ›´æ˜¯å¸¦æ¥äº†è¯¸å¤šçš„ç²¾å½©åˆ†äº«ã€‚ æœ¬æ–‡ä¸ä¼šå°± APM æ¶æ„æˆ–ç†è®ºè¿›è¡Œè¯¦ç»†é˜è¿°ï¼Œæ›´å¤šèšç„¦åœ¨å®æˆ˜ç¯èŠ‚ï¼Œå›´ç»•ä¸‹è¿°å‡ ç‚¹å±•å¼€ï¼š åˆ†æ SW æ¶æ„ï¼Œç¡®å®šæ¥å…¥æ–¹æ¡ˆ å¦‚ä½•åœ¨æœ¬åœ°è°ƒå¼å®˜æ–¹çš„ UI é¡¹ç›® å¿«é€Ÿäº†è§£ SW æŸ¥è¯¢åè®® GraphQL Skywalking æ¶æ„ç®€ä»‹ï¼Œå¯»æ‰¾æ¥å…¥ç‚¹å‡ ä¸ªå®˜æ–¹åº“åœ¨æ­£å¼åˆ†æä¹‹å‰ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ SW æ¯”è¾ƒé‡è¦çš„ä¸‰ä¸ªå®˜æ–¹é¡¹ç›® ä¸»åº“ https://github.com/apache/skywalking UI åº“ https://github.com/apache/skywalking-rocketbot-ui æŸ¥è¯¢åè®®åº“ https://github.com/apache/skywalking-query-protocol SW æŸ¥è¯¢åè®® â€”â€” è·å–æ•°æ®çš„æ¡¥æ¢æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¸»åº“çš„æ¶æ„å›¾ï¼Œå³ SW ä½“ç³»çš„æ•´ä½“æ¶æ„å›¾ï¼š æˆ‘ä»¬å…³æ³¨çš„ UI æ¥å…¥éƒ¨åˆ†ï¼Œåœ¨å›¾çš„å·¦ä¸Šè§’ï¼Œå…¶ä¸­ UI å’Œ CLI é€šè¿‡æŸ¥è¯¢åè®®æ¥å’Œ SW çš„åç«¯æœåŠ¡è¿›è¡Œäº¤äº’ã€‚æ­£å¦‚æŸ¥è¯¢åè®®åº“æ‰€è¯´ï¼š Query Protocol defines the communication protocol in query stage.SkyWalking native UI and CLI use this protocol to fetch data from the backend consistently, donâ€™t need to worry about the backend update. README.mdgithub.com/apache/skywalking-query-protocol å…¶ä¸­é‡ç‚¹æˆ‘ä»¬åŠ ç²—è¡¨ç¤ºäº†ï¼Œå³ï¼šSW çš„å®˜æ–¹ UI å’Œ CLI å·¥å…·éƒ½æ˜¯é€šè¿‡æŸ¥è¯¢åè®®å’Œåç«¯æœåŠ¡è¿›è¡Œæ•°æ®äº¤äº’ã€‚ SW çš„æŸ¥è¯¢åè®®é€šä¿—ç®€å•çš„ç†è§£ï¼šå®šä¹‰äº†ä¸€ç³»åˆ— GraphQL æŸ¥è¯¢å®šä¹‰ã€‚ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥ç²—æš´çš„ç†è§£ï¼Œå°±æ˜¯ä¸€å †å®šä¹‰å¥½çš„ HTTP APIã€‚æ‰€ä»¥åªè¦äº†è§£å®˜æ–¹çš„ API å®šä¹‰ï¼Œå³å¯å‘æŒ¥ SW çš„æ•°æ®å®è—å¨åŠ›ï¼Œæ‰“é€ å±äºè‡ªå·±çš„ APM å±•ç¤ºå¹³å°ã€‚ å¿«é€Ÿæ­å»ºçš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯å‚è€ƒå®˜æ–¹çš„ UI é¡¹ç›®ï¼Œä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥å‚è€ƒå®ƒçš„ UI ç»„ä»¶å®ç°ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠ“åŒ…ï¼Œå‚è€ƒå®ƒçš„ GraphQL è¯·æ±‚ã€‚ å®˜ç½‘é¡¹ç›®æœ¬åœ°è°ƒè¯•æœ¬åœ°è¿è¡Œä¸€è§ˆ12345# è®¾ç½®åç«¯çš„è¯·æ±‚åœ°å€ä¸º SW å®˜æ–¹çš„åŒ—äº¬æœºæˆ¿æ¼”ç¤ºåœ°å€âœ skywalking-rocketbot-ui git:(master) export SW_PROXY_TARGET=http://122.112.182.72:8080/# å¯åŠ¨æœåŠ¡ï¼Œä¹‹åè®¿é—® 8080 ç«¯å£âœ skywalking-rocketbot-ui git:(master) npm run serve è®¿é—® http://localhost:8080/topology æˆ‘ä»¬çœ‹åˆ°ï¼ŒæœåŠ¡å·²æˆåŠŸåœ¨æœ¬åœ°è¿è¡Œï¼Œä¸”å¯ä»¥é€šè¿‡ VueDev Tools æ¥æŸ¥çœ‹å¯¹åº”çš„ç»„ä»¶å®ç°å’Œä¼ å€¼ã€‚å¯¹æˆ‘ä»¬è‡ªå·±å»å®ç°å¯¹åº”çš„æ˜¾ç¤ºç»„ä»¶ï¼Œæä¾›äº†æé«˜çš„å‚è€ƒæ„ä¹‰ã€‚ å…³äºå¦‚ä½•è¿™ä¸ªç¯å¢ƒå˜é‡çš„è®¾ç½®ï¼Œå¤§å®¶å¯ä»¥é¡ºç€ packages.json å»æ‹ä¸€ä¸‹ run server çš„æ•´ä¸ªæµç¨‹ æœåŠ¡æŠ“åŒ…æ ¼å¼åŒ–æˆ‘ä»¬è¿˜æ˜¯ä»¥è¿™ä¸ªæ‹“æ‰‘ä¸ºä¾‹ï¼ŒæŠ“ä¸€ä¸ªåŒ…ï¼Œç®€å•çœ‹ä¸‹ GraphQL è¯·æ±‚ requestPayload1234567891011&#123; \"query\": \"query queryTopo($duration: Duration!) &#123;\\n topo: getGlobalTopology(duration: $duration) &#123;\\n nodes &#123;\\n id\\n name\\n type\\n isReal\\n &#125;\\n calls &#123;\\n id\\n source\\n detectPoints\\n target\\n &#125;\\n &#125;&#125;\", \"variables\": &#123; \"serviceId\": 0, \"duration\": &#123; \"start\": \"2020-11-27 0912\", \"end\": \"2020-11-27 0927\", \"step\": \"MINUTE\" &#125; &#125;&#125; æˆ‘ä»¬è¿›ä¸€æ­¥æ ¼å¼åŒ– graphQL çš„ query è¯·æ±‚12345678910111213141516query queryTopo($duration: Duration!) &#123; topo: getGlobalTopology(duration: $duration) &#123; nodes &#123; id name type isReal &#125; calls &#123; id source detectPoints target &#125; &#125;&#125; æ ¼å¼åŒ–è¿‡åï¼Œæ›´æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå¯¹åº”åˆ†æã€‚ åˆ†ææŸ¥è¯¢åè®®å¿«é€Ÿäº†è§£æŸ¥è¯¢è¯­å¥å«ä¹‰GraphQL çš„æ›´å¤šç”¨æ³•ï¼Œæœ¬æ–‡ä¸æåŠã€‚æ–‡æœ¬å°±ä¸Šè¿°æŠ“åˆ°çš„åè®®è¿›è¡Œç®€å•è¯´æ˜ï¼Œä¾¿äºä¹‹å‰ä¸äº†è§£ GraphQL çš„åŒå­¦èƒ½å¤Ÿå¿«é€Ÿäº†è§£ SW æŸ¥è¯¢åè®®ã€‚ æŸ¥çœ‹ Queryï¼Œç¡®å®šæŸ¥è¯¢è¯­å¥ï¼Œå…¶ä¸­ $ å¼€å¤´çš„å°±æ˜¯å½¢å‚ï¼Œåœ¨ variables é‡Œä¼šå…·ä½“ä¼ å€¼ é‚£ä¸Šè¿°ä¾‹å­ï¼Œ$duration çš„å…·ä½“å€¼ï¼Œå°±æ˜¯ 12345&#123; \"start\": \"2020-11-27 0912\", \"end\": \"2020-11-27 0927\", \"step\": \"MINUTE\"&#125; é‚£é—®é¢˜æ¥äº†ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“ $duration æ˜¯ç”± start end step ç»„æˆï¼Ÿä»–ä»¬çš„å€¼ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªé‡Œå®šä¹‰ï¼Ÿè¿™å°±è¦çœ‹ä¹‹å‰æˆ‘ä»¬æåˆ°çš„ SW æŸ¥è¯¢åè®®ã€‚ æŸ¥è¯¢åè®®æ¥ç€ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å»æŸ¥çœ‹ SW çš„ Query Protocol. åˆ°è¿™é‡Œå¤§å®¶çœ‹åˆ°ï¼Œå…¶å® Query Protocol å°±æ˜¯æŸ¥è¯¢çš„å®šä¹‰ï¼Œæ ‡å‡†ã€‚å°±åƒæˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­æ¥è§¦çš„åç«¯æ ‡å‡†æ¥å£ä¸€æ ·ã€‚å¤§å®¶åœ¨æ¥è§¦è¿™äº›çœ‹ä¼¼é«˜å¤§ä¸Šçš„ Query Protocol æ—¶ï¼Œä¸è¦è¢«å”¬åˆ°ï¼Œå…¶å®å°±æ˜¯ç›¸åŒæŠ€æœ¯åœ¨ä¸åŒåœºåˆçš„ä¸åŒå«æ³•ç½¢äº†ã€‚ æœ¬ä¾‹ä¸­çš„æ‹“æ‰‘ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ https://github.com/apache/skywalking-query-protocol/blob/master/topology.graphqls å®šä¹‰ï¼š 123456789101112131415extend type Query &#123; # Query the global topology getGlobalTopology(duration: Duration!): Topology # Query the topology, based on the given service getServiceTopology(serviceId: ID!, duration: Duration!): Topology # Query the topology, based on the given services. # `#getServiceTopology` could be replaced by this. getServicesTopology(serviceIds: [ID!]!, duration: Duration!): Topology # Query the instance topology, based on the given clientServiceId and serverServiceId getServiceInstanceTopology(clientServiceId: ID!, serverServiceId: ID!, duration: Duration!): ServiceInstanceTopology # Query the topology, based on the given endpoint getEndpointTopology(endpointId: ID!, duration: Duration!): Topology # v2 of getEndpointTopology getEndpointDependencies(endpointId: ID!, duration: Duration!): EndpointTopology&#125; æˆ‘ä»¬çœ‹åˆ°å…¶ä¸­å°±æœ‰ getGlobalTopologyï¼Œå†çœ‹çœ‹æˆ‘ä»¬ä¹‹å‰çš„æŠ“åŒ…ï¼Œæˆ‘èƒ½çœ‹ä¸‹ç¬¬äºŒè¡Œï¼š 12345678910111213141516query queryTopo($duration: Duration!) &#123; topo: getGlobalTopology(duration: $duration) &#123; nodes &#123; id name type isReal &#125; calls &#123; id source detectPoints target &#125; &#125;&#125; ç¬¬äºŒè¡Œå†…å®¹ topo: getGlobalTopology(duration: $duration) { topo æ˜¯æŸ¥è¯¢ç»“æœçš„åˆ«åï¼ŒæŸ¥è¯¢åˆ° response ä¼šæ”¾åˆ° topo å­—æ®µä¸‹ getGlobalTopology çš„å®šä¹‰å°±æ˜¯ getGlobalTopology(duration: Duration!): Topology å…¶ä¸­ Duration å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨ https://github.com/apache/skywalking-query-protocol/blob/master/common.graphqls å¾—åˆ° 12345input Duration &#123; start: String! end: String! step: Step!&#125; å°±åƒå¥—å¨ƒä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥æ‰¾åˆ° Step çš„å®šä¹‰ æ€»ç»“æœ¬æ–‡èŠäº†æˆ‘ä»¬å¦‚ä½•æ‰¾åˆ°è‡ªå®šä¹‰ UI çš„åˆ‡å…¥ç‚¹ï¼ŒåŒæ—¶å°±å¦‚ä½•å‚è€ƒå®˜æ–¹çš„ä¸€äº›å¼€å‘ç»†èŠ‚è¿›è¡Œäº†é˜è¿°ã€‚å¸Œæœ›èƒ½ç»™å¤§å®¶è‡ªå®šä¹‰æ•°æ®å±•ç¤ºå¹³å°ä¸€äº›å‚è€ƒã€‚","categories":[{"name":"äº‘åŸç”Ÿ","slug":"äº‘åŸç”Ÿ","permalink":"https://rovast.github.io/categories/äº‘åŸç”Ÿ/"}],"tags":[]},{"title":"Install php7.2 on Ubuntu 18.04 LTS","slug":"install-php72-ubuntu","date":"2019-12-02T09:54:24.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/12/02/install-php72-ubuntu/","link":"","permalink":"https://rovast.github.io/2019/12/02/install-php72-ubuntu/","excerpt":"","text":"12345678# å®‰è£… php7.2sudo apt-get install php7.2 php7.2-fpm \\php7.2-mysql php7.2-curl php7.2-mbstring php7.2-gd php7.2-xml php7.2-soap# å®‰è£… mcryptsudo apt install php-dev libmcrypt-dev php-pearsudo pecl channel-update pecl.php.netsudo pecl install mcrypt-1.0.1 123sudo vi /etc/php/7.2/cli/php.inisudo vi /etc/php/7.2/fpm/php.ini# æœ€ååŠ ä¸Š `extension=mcrypt.so` 12sudo vi /etc/php/7.2/fpm/pool.d/www.conf# ä¿®æ”¹ listen ä¸º 127.0.0.1:9000 æµ‹è¯• nginx æ˜¯å¦å¯ç”¨1sudo nginx -c /etc/nginx/nginx.conf","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"docker å®‰è£…","slug":"install-docker","date":"2019-11-28T17:06:18.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/11/28/install-docker/","link":"","permalink":"https://rovast.github.io/2019/11/28/install-docker/","excerpt":"","text":"å®‰è£…12345// å®‰è£… dockercurl -sSL https://get.daocloud.io/docker | sh// æ³¨æ„æ›´æ”¹æ‰€å±ç”¨æˆ·ç»„sudo usermod -aG docker YOUR_GROUP æ³¨é”€ç”¨æˆ·åé‡æ–°ç™»å½• 12// å¯åŠ¨ dockersudo systemctl start docker 12345// å®‰è£… docker-composesudo pip install -U docker-compose// å¦‚æœæ²¡æœ‰ pipsudo apt-get install python-pi","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://rovast.github.io/tags/docker/"}]},{"title":"æ—¶é—´å¤æ‚åº¦","slug":"time-complexity","date":"2019-11-06T09:35:45.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2019/11/06/time-complexity/","link":"","permalink":"https://rovast.github.io/2019/11/06/time-complexity/","excerpt":"","text":"å†™åœ¨å‰é¢æŠ€æœ¯äººå‘˜çš„å†…åŠŸä¿®ç‚¼ï¼šæ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€ç¼–è¯‘åŸç†ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‚ æ—¶é—´å¤æ‚åº¦æ—¶é—´å¤æ‚åº¦åˆ†ä¸‹é¢å‡ ä¸ªç»´åº¦ï¼š æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼ˆBest Case Time Complexityï¼‰ æœ€åæ—¶é—´å¤æ‚åº¦ï¼ˆWorst Case Time Complexityï¼‰ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼ˆAverage Case Time Complexityï¼‰ å‡æ‘Šæ—¶é—´å¤æ‚åº¦ï¼ˆAmortized Time Complexityï¼‰","categories":[{"name":"åŸºç¡€","slug":"åŸºç¡€","permalink":"https://rovast.github.io/categories/åŸºç¡€/"}],"tags":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://rovast.github.io/tags/æ•°æ®ç»“æ„ä¸ç®—æ³•/"}]},{"title":"ä½¿ç”¨ www-data ç”¨æˆ·è¿è¡Œå®šæ—¶ä»»åŠ¡ï¼ˆcronï¼‰","slug":"run-cron-with-www-data","date":"2019-11-04T15:03:07.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2019/11/04/run-cron-with-www-data/","link":"","permalink":"https://rovast.github.io/2019/11/04/run-cron-with-www-data/","excerpt":"","text":"å…¶å®è¿™ä¸ªæ²¡å•¥å¥½è¯´çš„ï¼Œå°±æ˜¯è®°å½•ä¸‹è§£å†³çš„è¿‡ç¨‹ï¼ˆè¯´å¾—å¥½åƒè·Ÿä¸€ç¯‡æ°´æ–‡ä¼¼çš„â€¦ï¼‰ã€‚æˆ–è€…ç»™é‡åˆ°è¿™ç±»é—®é¢˜çš„å°ä¼™ä¼´æä¾›ä¸ªæ€è·¯ã€‚ ç—›ç‚¹æˆ‘ä»¬åœ¨éƒ¨ç½² web æœåŠ¡æ—¶ï¼Œç»å¸¸ç”¨åˆ°å®šæ—¶ä»»åŠ¡ã€‚æ­£å¸¸çš„æµç¨‹å°±æ˜¯ç›´æ¥æ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤æ¥é…ç½®å®šæ—¶ä»»åŠ¡ 1crontab -e é—®é¢˜æ¥äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæŒ‡ä»¤åœ¨å“ªä¸ªç”¨æˆ·ä¸‹é¢æ‰§è¡Œï¼Œè¿™ä¸ªæƒé™å°±æ˜¯è°çš„ï¼ˆå¦‚æœä½ å¬ä¸æ‡‚æˆ‘åœ¨è¯´å•¥ï¼Œé‚£åŸºæœ¬å°±æ˜¯å±äº rootçš„ï¼‰ã€‚ å®šæ—¶ä»»åŠ¡æœ¬èº«çš„é…ç½®ä¹Ÿæ˜¯ä¸ªç²¾ç»†æ´»ï¼Œä½ å¯ä»¥é˜…è¯»ä¸‹ https://learnku.com/articles/25177 çœ‹çœ‹ä½ ä¹‹å‰ç”¨çš„å§¿åŠ¿æ˜¯ä¸æ˜¯è¿˜èƒ½ä¼˜åŒ–ã€‚ å¸¸è§é—®é¢˜ä¹‹æ—¥å¿—æƒé™ è¿™æ€•æ˜¯æœ€å¸¸è§çš„é—®é¢˜äº†ã€‚å®šæ—¶ä»»åŠ¡å‡ºé”™äº†ï¼Œè®°å½•æ—¥å¿—åˆ° storage/logs é‡Œäº†ï¼Œä¸€èˆ¬å°±æ˜¯ laravel.log æ–‡ä»¶ã€‚ æ­¤æ—¶ laravel.log æ‰€å±è€…å°±æ˜¯ root äº†ã€‚ ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®æˆ‘ä»¬ç½‘ç«™ï¼Œå¦‚æœå‡ºé”™ï¼Œä»¥ www-data èº«ä»½å°è¯•è®°å½•åˆ° storage/logs/laravel.logï¼Œç„¶åå†™ä¸è¿›å»ï¼Œä¸€ç›´æŠ¥é”™ï¼ŒçœŸé¦™ï¼ è§£å†³æ‰“å¼€è°·æ­Œæœç´¢ run cron job as www-dataã€‚æ‰¾åˆ°äº†æ–‡ç«  https://askubuntu.com/questions/189189/how-to-run-crontab-as-userwww-data è°·æ­ŒçœŸé¦™ï¼ å…·ä½“çš„æ„æ€ï¼Œå°±æ˜¯ç›´æ¥åœ¨ /etc/crontab ä¸­ç¼–è¾‘å®šæ—¶ä»»åŠ¡å³å¯ï¼ŒåŠ ä¸Šç”¨æˆ·åã€‚ 1234567891011121314151617181920212223242526# /etc/crontab: system-wide crontab# Unlike any other crontab you don't have to run the `crontab'# command to install the new version when you edit this file# and files in /etc/cron.d. These files also have username fields,# that none of the other crontabs do.SHELL=/bin/shPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed17 * * * * root cd / &amp;&amp; run-parts --report /etc/cron.hourly25 6 * * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )47 6 * * 7 root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )52 6 1 * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )## cron* * * * * www-data flock /tmp/flock1.lock -c 'timeout 200 /usr/local/bin/php /var/www/html/laravel/artisan command &gt;&gt; /home/log/laravel.log 2&gt;&amp;1' å•°å—¦ä¸‹ï¼š flock ç”¨æ¥é˜²æ­¢é‡å¤æ‰§è¡Œï¼Œèµ·åˆ°åŸå­é”ä½œç”¨ timeout è¡¨ç¤ºè¿™ä¸ªè„šæœ¬æ‰§è¡Œè¿‡é•¿ï¼Œå’±å°±å¹²æ­»å®ƒï¼Œå¯ä»¥æœ‰æ•ˆé¿å…å„ç§å¾ªç¯æˆ–é•¿æ—¶é—´å ç”¨é—®é¢˜ &gt;&gt; è¡¨ç¤ºå‘æ–‡ä»¶ä¸­è¿½åŠ å†…å®¹ 2&gt;&amp;1 è¡¨ç¤ºå°†æ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°æ­£ç¡®è¾“å‡ºï¼ˆè¿™æ ·ä½ ä¸‡ä¸€æœ‰ç¨‹åºå‡ºé”™ï¼Œä¹Ÿèƒ½è®°å½•ä¸‹ï¼‰ çœŸé¦™åä¼ ï¼ˆæ›´æ–°äº 2019å¹´11æœˆ06æ—¥19:38:27ï¼‰å¦‚æœä½ æŒ‰ç…§ä¸Šè¿°çš„è¿›è¡Œï¼Œä½ ä¼šå‘ç°è¿˜æ˜¯æ‰§è¡Œä¸äº†å®šæ—¶ä»»åŠ¡ã€‚å› ä¸º www-data é»˜è®¤æ˜¯ä¸èƒ½æ‰§è¡Œ bash ç›¸å…³æ“ä½œçš„ã€‚ ä½¿ç”¨çœŸé¦™çš„è°·æ­Œæœç´¢ www-data run cron errorï¼Œæˆ‘ä»¬å‘ç°äº†å®è— https://ubuntuforums.org/showthread.php?t=2334330 The www-data user is not able to invoke a shell by default. In /etc/passwd youâ€™ll see Code: www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin If you want to be able to run scripts as that user, youâ€™ll need to change â€œ/usr/sbin/nologinâ€ to â€œ/bin/bashâ€. å¥½äº†ï¼Œå’±ä»¬æŠŠ /etc/passwd é‡Œé¢ www-data å¯¹åº”çš„é‚£ä¸€è¡Œæ”¹ä¸‹å°±å¯ä»¥äº†ã€‚ å¦å¤– å…¶å®ä½ è¿˜å¯ä»¥ç”¨ crontab -u www-data CRON_FILE æ¥æŒ‡å®šç”¨æˆ·è¿è¡ŒæŒ‡å®šçš„å®šæ—¶ä»»åŠ¡ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"macos è«åå¤±å»ç„¦ç‚¹","slug":"macos-lost-focus","date":"2019-10-15T23:05:22.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/10/15/macos-lost-focus/","link":"","permalink":"https://rovast.github.io/2019/10/15/macos-lost-focus/","excerpt":"","text":"æ‰§è¡Œä¸‹è¿° python ä»£ç ï¼Œè§‚æµ‹é™¤äº†å½“å‰åº”ç”¨ç¨‹åºå¤–ï¼Œè¿˜æœ‰è°å ç”¨äº†ç„¦ç‚¹ 123456789#!/usr/bin/pythonfrom AppKit import NSWorkspaceimport timet = range(1,100)for i in t: time.sleep(3) activeAppName = NSWorkspace.sharedWorkspace().activeApplication()['NSApplicationName'] print activeAppName æŸ¥çœ‹è¾“å‡ºå³å¯","categories":[],"tags":[]},{"title":"git diff between {working dir, staged area, last commit}","slug":"git-diff","date":"2019-09-24T16:48:59.000Z","updated":"2021-03-20T09:12:44.336Z","comments":true,"path":"2019/09/24/git-diff/","link":"","permalink":"https://rovast.github.io/2019/09/24/git-diff/","excerpt":"","text":"å‚è€ƒé“¾æ¥ï¼š http://xahlee.info/linux/git_diff.html æœ¬æ–‡é˜è¿° git diff çš„ä¸åŒç”¨æ³•ã€‚ git ä¸­æœ‰ä¸‰ä¸ªä¸»è¦åŒºåŸŸ Working Directory å·¥ä½œåŒºã€‚å½“å‰ç”¨æˆ·æ­£åœ¨å·¥ä½œçš„åŒºåŸŸ Staging Areaï¼ˆä¹Ÿè¢«å«åš cacheï¼Œindexï¼‰ã€‚ä½¿ç”¨ git add åå­˜æ”¾çš„ä¸´æ—¶ä½ç½® HEAD æŒ‡å‘ä¸€ä¸ª commit ä½ç½®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ˜¯æŒ‡ä¸Šä¸€æ¬¡æäº¤ ä¸Šé¢çš„ä¸‰ä¸ªåŒºåŸŸï¼Œéƒ½æ˜¯åœ¨ä½ æœ¬åœ°çš„ã€‚æ¯ä¸ª commit éƒ½ä¼šæœ‰ä¸€ä¸ªç‰¹å®šçš„æ ‡è¯†ï¼ˆidï¼‰ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º commit idã€‚ å¦‚ä½•æŸ¥çœ‹ commit12# æ˜¾ç¤ºæœ€è¿‘çš„ä¸‰æ¬¡ commitgit log -3 diff between {working dir, staging area}12345# diff working dir, staging areagit diff --color# diff working dir, staging area, 1 filegit diff --color filename diff between {staging area, last commit}12# diff satging area, last commit. å…¶ä¸­ staged å‚æ•°ä¹Ÿå¯ç”¨ cached æ›¿ä»£git diff --color --staged &lt;commitID&gt; diff between {last commit, working dir}1git diff --color &lt;commitID&gt; å¯¹åŒä¸€åˆ†æ”¯çš„ä¸¤ä¸ª commit è¿›è¡Œ diff git log file_name git diff commit_ID_1 commit_ID_2 file_name æŸ¥çœ‹å“ªäº›æ–‡ä»¶è¢« staged äº†12345# è·å–å½“å‰çš„çŠ¶æ€git status .# æ¨èä½¿ç”¨ä¸‹é¢çš„ï¼Œç®€æ´æ˜äº†git status -s","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[{"name":"git","slug":"git","permalink":"https://rovast.github.io/tags/git/"}]},{"title":"view-ascii-on-linux","slug":"view-ascii-on-linux","date":"2019-08-22T09:39:33.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2019/08/22/view-ascii-on-linux/","link":"","permalink":"https://rovast.github.io/2019/08/22/view-ascii-on-linux/","excerpt":"","text":"å¼€å‘ä¸­ä¼šç»å¸¸æŸ¥çœ‹ ascii è¡¨ï¼Œæ²¡æƒ³åˆ°åœ¨ linux ä¸Šå¯ä»¥ç›´æ¥æŸ¥çœ‹ï¼Œè®°å½•ä¸‹ã€‚ 1man ascii 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121ASCII(7) Linux Programmer's Manual ASCII(7)NAME ascii - ASCII character set encoded in octal, decimal, and hexadecimalDESCRIPTION ASCII is the American Standard Code for Information Interchange. It is a 7-bit code. Many 8-bit codes (e.g., ISO 8859-1) contain ASCII as their lower half. The international counterpart of ASCII is known as ISO 646-IRV. The following table contains the 128 ASCII characters. C program '\\X' escapes are noted. Oct Dec Hex Char Oct Dec Hex Char â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 000 0 00 NUL '\\0' (null character) 100 64 40 @ 001 1 01 SOH (start of heading) 101 65 41 A 002 2 02 STX (start of text) 102 66 42 B 003 3 03 ETX (end of text) 103 67 43 C 004 4 04 EOT (end of transmission) 104 68 44 D 005 5 05 ENQ (enquiry) 105 69 45 E 006 6 06 ACK (acknowledge) 106 70 46 F 007 7 07 BEL '\\a' (bell) 107 71 47 G 010 8 08 BS '\\b' (backspace) 110 72 48 H 011 9 09 HT '\\t' (horizontal tab) 111 73 49 I 012 10 0A LF '\\n' (new line) 112 74 4A J 013 11 0B VT '\\v' (vertical tab) 113 75 4B K 014 12 0C FF '\\f' (form feed) 114 76 4C L 015 13 0D CR '\\r' (carriage ret) 115 77 4D M 016 14 0E SO (shift out) 116 78 4E N 017 15 0F SI (shift in) 117 79 4F O 020 16 10 DLE (data link escape) 120 80 50 P 021 17 11 DC1 (device control 1) 121 81 51 Q 022 18 12 DC2 (device control 2) 122 82 52 R 023 19 13 DC3 (device control 3) 123 83 53 S 024 20 14 DC4 (device control 4) 124 84 54 T 025 21 15 NAK (negative ack.) 125 85 55 U 026 22 16 SYN (synchronous idle) 126 86 56 V 027 23 17 ETB (end of trans. blk) 127 87 57 W 030 24 18 CAN (cancel) 130 88 58 X 031 25 19 EM (end of medium) 131 89 59 Y 032 26 1A SUB (substitute) 132 90 5A Z 033 27 1B ESC (escape) 133 91 5B [ 034 28 1C FS (file separator) 134 92 5C \\ '\\\\' 035 29 1D GS (group separator) 135 93 5D ] 036 30 1E RS (record separator) 136 94 5E ^ 037 31 1F US (unit separator) 137 95 5F _ 040 32 20 SPACE 140 96 60 ` 041 33 21 ! 141 97 61 a 042 34 22 \" 142 98 62 b 043 35 23 # 143 99 63 c 044 36 24 $ 144 100 64 d 045 37 25 % 145 101 65 e 046 38 26 &amp; 146 102 66 f 047 39 27 ' 147 103 67 g 050 40 28 ( 150 104 68 h 051 41 29 ) 151 105 69 i 052 42 2A * 152 106 6A j 053 43 2B + 153 107 6B k 054 44 2C , 154 108 6C l 055 45 2D - 155 109 6D m 056 46 2E . 156 110 6E n 057 47 2F / 157 111 6F o 060 48 30 0 160 112 70 p 061 49 31 1 161 113 71 q 062 50 32 2 162 114 72 r 063 51 33 3 163 115 73 s 064 52 34 4 164 116 74 t 065 53 35 5 165 117 75 u 066 54 36 6 166 118 76 v 067 55 37 7 167 119 77 w 070 56 38 8 170 120 78 x 071 57 39 9 171 121 79 y 072 58 3A : 172 122 7A z 073 59 3B ; 173 123 7B &#123; 074 60 3C &lt; 174 124 7C | 075 61 3D = 175 125 7D &#125; 076 62 3E &gt; 176 126 7E ~ 077 63 3F ? 177 127 7F DEL Tables For convenience, below are more compact tables in hex and decimal. 2 3 4 5 6 7 30 40 50 60 70 80 90 100 110 120 ------------- --------------------------------- 0: 0 @ P ` p 0: ( 2 &lt; F P Z d n x 1: ! 1 A Q a q 1: ) 3 = G Q [ e o y 2: \" 2 B R b r 2: * 4 &gt; H R \\ f p z 3: # 3 C S c s 3: ! + 5 ? I S ] g q &#123; 4: $ 4 D T d t 4: \" , 6 @ J T ^ h r | 5: % 5 E U e u 5: # - 7 A K U _ i s &#125; 6: &amp; 6 F V f v 6: $ . 8 B L V ` j t ~ 7: ' 7 G W g w 7: % / 9 C M W a k u DEL 8: ( 8 H X h x 8: &amp; 0 : D N X b l v 9: ) 9 I Y i y 9: ' 1 ; E O Y c m w A: * : J Z j z B: + ; K [ k &#123; C: , &lt; L \\ l | D: - = M ] m &#125; E: . &gt; N ^ n ~ F: / ? O _ o DELNOTES History An ascii manual page appeared in Version 7 of AT&amp;T UNIX. On older terminals, the underscore code is displayed as a left arrow, called backarrow, the caret is displayed as an up-arrow and the vertical bar has a hole in the middle. Uppercase and lowercase characters differ by just one bit and the ASCII character 2 differs from the double quote by just one bit, too. That made it much easier to encode characters mechanically or with a non-microcontroller-based electronic keyâ€ board and that pairing was found on old teletypes. The ASCII standard was published by the United States of America Standards Institute (USASI) in 1968.SEE ALSO charsets(7), iso_8859-1(7), iso_8859-10(7), iso_8859-11(7), iso_8859-13(7), iso_8859-14(7), iso_8859-15(7), iso_8859-16(7), iso_8859-2(7), iso_8859-3(7), iso_8859-4(7), iso_8859-5(7), iso_8859-6(7), iso_8859-7(7), iso_8859-8(7), iso_8859-9(7), utf-8(7)COLOPHON This page is part of release 4.15 of the Linux man-pages project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.Linux 2016-10-08 ASCII(7)","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"è®°å½•ä¸€ä¸ª ab å·¥å…·ä½¿ç”¨çš„å°å‘","slug":"some-tricks-in-ab-benchmark","date":"2019-08-15T11:17:35.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2019/08/15/some-tricks-in-ab-benchmark/","link":"","permalink":"https://rovast.github.io/2019/08/15/some-tricks-in-ab-benchmark/","excerpt":"","text":"æœ€è¿‘åœ¨ä½¿ç”¨ ab è¿›è¡Œå‹æµ‹æ—¶ï¼Œå‡ºç°ä¸€ä¸ªå°é—®é¢˜ï¼š æ¯æ¬¡è¯·æ±‚è¿”å›çš„çŠ¶æ€ç éƒ½æ˜¯ 200ï¼Œä½†æ˜¯æœ‰å¤§é‡çš„ failedï¼ æ’æŸ¥é—®é¢˜é¦–å…ˆï¼ŒæŸ¥è¯¢ nginx çš„ access logï¼Œæˆ‘ä»¬å‘ç°å‹æµ‹çš„è¯·æ±‚è¿”å›çš„éƒ½æ˜¯ 200ã€‚è¿™è¯´æ˜æˆ‘ä»¬è¯·æ±‚æ²¡æœ‰é—®é¢˜ æ€€ç–‘æ˜¯ ab å·¥å…·é—®é¢˜ ä½¿ç”¨ jmeter å‹æµ‹ä½¿ç”¨ jmeter è¿›è¡Œå‹æµ‹ï¼Œå‘ç°è¯·æ±‚å±…ç„¶éƒ½æ˜¯æ­£ç¡®çš„ã€‚éªŒè¯æ˜¯ ab é—®é¢˜ ç½‘ä¸ŠæŸ¥è¯¢ç›¸åº”é—®é¢˜https://stackoverflow.com/questions/6475692/investigating-apache-benchmark-failed-request æŸ¥è¯¢å¾—åˆ°ä¸Šè¿°ç­”æ¡ˆ éªŒè¯ä½¿ç”¨ man ab æŸ¥çœ‹ ab æ–‡æ¡£ï¼Œå‘ç°æœç„¶æœ‰ -l å‚æ•° 1-l Do not report errors if the length of the responses is not constant. This can be useful for dynamic pages. Available in 2.4.7 and later. æ„æ€å°±æ˜¯è¯´ï¼Œ ab é»˜è®¤æƒ…å†µä¸‹è®¤ä¸ºè¿”å›çš„é•¿åº¦ä¸ä¸€è‡´å°±è®°å½•ä¸º errorï¼Œé€šè¿‡ -l å‚æ•°å¯ä»¥å–æ¶ˆè¿™ç§è®¾å®š 1ab -l -n 50000 -c 50 xxxxxxxxxx åŠ ä¸Šå‚æ•°åï¼Œå¯ä»¥æ­£å¸¸å‹æµ‹äº†ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/tags/æ‚é¡¹/"}]},{"title":"phpstorm é›†æˆ phpCodeSniffer","slug":"phpstorm-load-phpCodeSniffer","date":"2019-08-14T18:14:02.000Z","updated":"2021-03-20T09:12:44.356Z","comments":true,"path":"2019/08/14/phpstorm-load-phpCodeSniffer/","link":"","permalink":"https://rovast.github.io/2019/08/14/phpstorm-load-phpCodeSniffer/","excerpt":"","text":"æœ¬æ–‡ä¸»è¦æŒ‡å¯¼å¦‚ä½•åœ¨ phpstorm ä¸­é›†æˆ phpCodeSnifferï¼ˆç®€ç§°ï¼šphpCSï¼‰ å®‰è£… phpCS å¦‚ä½•åœ¨ phpStorm ä¸­åŠ è½½ phpCS å¦‚ä½•åŠ è½½è‡ªå®šä¹‰çš„ phpCS çš„ xml è§„åˆ™æ–‡ä»¶ å¦‚ä½•åœ¨ php æ–‡ä»¶ä¸­å®æ—¶æç¤º å¦‚ä½•æ ¹æ®è§„åˆ™å®æ—¶ä¿®æ­£ phpStorm å®˜æ–¹æŒ‡å¯¼æ–‡æ¡£ï¼šhttps://www.jetbrains.com/help/phpstorm/using-php-code-sniffer.html å®‰è£… phpCSå®‰è£… phpCS æœ‰å¤šç§é€”å¾„ï¼Œå¯ä»¥å‚è€ƒ https://github.com/squizlabs/PHP_CodeSniffer#installation æˆ‘ä»¬ä½¿ç”¨ composer æ–¹å¼å®‰è£…ï¼Œä¸ºäº†ä¾¿äºåœ¨æ‰€æœ‰é¡¹ç›®ä¸­ä½¿ç”¨ phpCSï¼Œæˆ‘ä»¬ä½¿ç”¨å…¨å±€æ–¹å¼å®‰è£…ã€‚ 1composer global require \"squizlabs/php_codesniffer=*\" -vvv å®‰è£…å®Œæˆåï¼Œä¼šå¤šå‡ºä¸¤ä¸ªæŒ‡ä»¤ phpcs å’Œ phpcbf åœ¨ phpStorm ä¸­åŠ è½½ phpCS æŒ‰ç…§æˆªå›¾çš„è·¯å¾„ File &gt; Settings &gt; Language &amp; Framework &gt; PHP &gt; Quality Tools &gt; Code Snifferï¼Œé€‰æ‹© Local åé€‰æ‹©åˆšæ‰çš„å®‰è£…è·¯å¾„ã€‚ å¦‚æœä¸æ¸…æ¥šåˆšæ‰å®‰è£…çš„å…¨å±€è·¯å¾„ï¼ŒLinux ä¸‹å¯ä½¿ç”¨ whereis phpcs æŸ¥çœ‹è·¯å¾„ã€‚å…¶ä»–ç³»ç»Ÿå¯è‡ªè¡Œæœç´¢ â€œcomposer å…¨å±€ bin ç›®å½•â€ è·å–æ›´å¤šå¸®åŠ©ã€‚ æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ composer global config bin-dir --absolute æ¥æŸ¥çœ‹ composer çš„ bin ç›®å½•` åŠ è½½è‡ªå®šä¹‰ xml è§„åˆ™æ–‡ä»¶ é¦–å…ˆï¼Œéœ€è¦å¼€å¯ phpCodeSniffer çš„éªŒè¯æç¤ºï¼Œå¦‚æˆªå›¾æ‰€ç¤ºã€‚å…¶æ¬¡ï¼Œåœ¨æˆªå›¾å³ä¸‹è§’ï¼Œé€‰æ‹© custom æ¥åŠ è½½è‡ªå®šä¹‰çš„ xml æ–‡ä»¶ã€‚ åŠ è½½å®Œæ¯•åï¼Œå³å¯æ­£å¸¸å¯¹æ‰“å¼€çš„ PHP æ–‡ä»¶è¿›è¡Œå®æ—¶æ£€æµ‹ã€‚ å®æ—¶éªŒè¯ PHP æ–‡ä»¶è¿›è¡Œä¸Šè¿°é…ç½®åï¼Œå¯¹æ‰“å¼€çš„ PHP æ–‡ä»¶ä¼šè¿›è¡Œå®æ—¶æ£€æµ‹ã€‚ å¦‚å›¾æ‰€ç¤ºï¼Œå¯¹äºä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ï¼Œä¼šè¿›è¡Œæ³¢æµªçº¿æ˜¾ç¤ºï¼Œé¼ æ ‡æ‚¬æµ®åå¯ä»¥çœ‹åˆ°è¯¦ç»†è¯´æ˜ã€‚ è‡ªåŠ¨ä¿®æ­£å…‰æ ‡æ”¾ç½®åœ¨æ³¢æµªçº¿å¤„ï¼ŒæŒ‰ä¸‹ç»„åˆé”® alt + enterï¼Œé€‰æ‹© PHP Code Beautifier and Fixer å³å¯ä¿®æ­£ã€‚ ä¿®æ­£å æ€»ç»“ç»“åˆ phpCSï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘æ—¶å®æ—¶æ£€æµ‹å›¢é˜Ÿä»£ç è§„èŒƒï¼Œä¾¿äºåœ¨æäº¤å‰è¿›è¡Œè§„èŒƒç»Ÿä¸€ã€‚ é›†æˆåœ¨ IDE ä¸­çš„ phpCS å¯ä»¥å¯¹æ‰“å¼€çš„æ–‡ä»¶è¿›è¡Œå®æ—¶æ£€æµ‹ï¼Œå¦‚æœéœ€è¦å¯¹æ•´ä¸ªé¡¹ç›®æˆ–è€…æ˜¯æŒ‡å®šçš„æ–‡ä»¶å¤¹è¿›è¡Œæ£€æµ‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ phpcs å‘½ä»¤è¿›è¡Œæ£€æµ‹ï¼Œä½¿ç”¨ phpcbf è¿›è¡Œä¿®æ­£ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://rovast.github.io/tags/PHP/"}]},{"title":"sonar åˆæ¢","slug":"start-sonar","date":"2019-08-13T15:50:16.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2019/08/13/start-sonar/","link":"","permalink":"https://rovast.github.io/2019/08/13/start-sonar/","excerpt":"","text":"å®‰è£… å‚è€ƒæ–‡æ¡£ https://docs.sonarqube.org/latest/setup/get-started-2-minutes/ sonar ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šsonarqube å’Œ sonar-scanner-cliã€‚å‰è€…æ˜¯ web ç«¯ï¼Œåè€…æ˜¯ CLI ç«¯ã€‚ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.9.1.zip https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.0.0.1744-linux.zip å¦å¤–ï¼Œè¿è¡Œ sonar éœ€è¦ jvm ç¯å¢ƒï¼Œè‡ªè¡Œå®‰è£…ã€‚ubuntu å¯æ‰§è¡Œ apt install openjdk-11-jdk è¿è¡Œ web ç«¯å¯åŠ¨æœåŠ¡è§£å‹ sonarqube-7.9.1.zip åï¼Œè¿›å…¥ sonarqube-7.9.1 ç›®å½•ï¼Œæ‰§è¡Œä¸‹è¿°æŒ‡ä»¤å¯åŠ¨ï¼Œä¹‹åè®¿é—® http://localhost:9000 1./bin/linux-x86-64/sonar.sh console å¦å¤–ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹é…ç½®ï¼Œä¿®æ”¹ conf/sonar.properties æ–‡ä»¶å³å¯ï¼Œå…¶ä¸­ 92 è¡Œé™„è¿‘å¯ä»¥ä¿®æ”¹è¿è¡Œå†…å­˜ 1sonar.web.javaOpts=-Xmx5000m -Xms5000m -XX:+HeapDumpOnOutOfMemoryError ç™»å½•ç³»ç»Ÿè®¿é—® http://localhost:9000ï¼Œç™»å½•ä¿¡æ¯ ç”¨æˆ·å admin å¯†ç  admin åˆ›å»ºé¡¹ç›®ç‚¹å‡»å³ä¸Šè§’åŠ å·ï¼Œåˆ›å»ºé¡¹ç›®ï¼Œè¾“å…¥é¡¹ç›®åç§°ã€token ä¿¡æ¯åï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨æˆ· è¿›è¡Œä»£ç æ‰«æä¹‹å‰æˆ‘ä»¬å®‰è£…äº† sonar-scanner-cli-4.0.0.1744-linux.zipï¼Œè§£å‹åï¼Œå¢åŠ  bin åˆ°ç¯å¢ƒå˜é‡ 1export PATH=$PATH:/home/rovast/Software/sonar-scanner-4.0.0.1744-linux/bin ç„¶åä½¿å…¶ç”Ÿæ•ˆ source ~/.bashrc æˆ–è€… source ~/.zshrc æ ¹æ®ä¸Šä¸€æ­¥çš„æç¤ºï¼Œè¿›å…¥åˆ°éœ€è¦æ‰«æçš„é¡¹ç›®å½•ï¼Œæ‰§è¡Œ 12345sonar-scanner \\ -Dsonar.projectKey=laravel-framework \\ -Dsonar.sources=. \\ -Dsonar.host.url=http://localhost:9000 \\ -Dsonar.login=0273f96b7dd12e0790ab2350b4c497fcedff6b36 ç­‰å¾…è¿è¡Œç»“æŸåï¼Œweb ç«¯ä¼šè‡ªåŠ¨åŠ è½½å¯¹åº”æŠ¥å‘Šè¿›è¡Œåˆ†æ æŸ¥çœ‹åˆ†ææŠ¥å‘Š è‡ªå®šä¹‰æ£€æµ‹è§„åˆ™å‚è€ƒ https://docs.sonarqube.org/latest/analysis/languages/php/ æ€»ç»“æ€»ç»“èµ·æ¥ï¼Œsonar çš„ç‰¹ç‚¹å°±æ˜¯åŠŸèƒ½å¼ºå¤§ã€‚ æ”¯æŒçš„è¯­è¨€ä¸°å¯Œï¼Œä¸»æµçš„å¼€å‘è¯­è¨€åŸºæœ¬éƒ½æ”¯æŒäº† web ç•Œé¢å‹å¥½ï¼Œå¯ä»¥å¾ˆæ¸…æ™°åœ°æŸ¥çœ‹æŠ¥å‘Šå’Œåˆ†æ åˆ†æçš„æŒ‡æ ‡ä¸°å¯Œï¼šå®‰å…¨æ€§ã€æŠ€æœ¯è´Ÿå€ºã€è¦†ç›–åº¦ã€ä¸»æµè§„åˆ™ç­‰ç­‰ marketplace é™¤äº†ä¸Šè¿°æœ‰ç‚¹å¤–ï¼Œsonar ä¹Ÿæœ‰ä¸€äº›å…¶ä»–æ–¹é¢å¾…è€ƒé‡çš„åœ°æ–¹ sonar æ˜¯åŸºäº java å¼€å‘ï¼Œå¦‚æœéœ€è¦æ‹“å±•å…¶ä¸­çš„è§„åˆ™ï¼Œéœ€è¦äº†è§£ java ä½“ç³» sonar æœ¬èº«æ˜¯ä¸€ä¸ªæˆç†Ÿçš„äº§å“ï¼Œå¦‚æœåŸºäºè¿™ä¸ªæ¥è‡ªå®šä¹‰å·¥ä½œæµï¼Œéš¾åº¦è¾ƒå¤§ sonar èµ„æºå ç”¨è¾ƒå¤§ æ‰€ä»¥å¦‚æœéœ€è¦ä¸€å¥—æˆç†Ÿçš„ä»£ç æ£€æµ‹ç›¸å…³å·¥å…·ï¼Œsonar æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ sonar å’Œ phpCodeSinffer å¯¹æ¯” https://github.com/SonarSource/sonarqube https://github.com/squizlabs/PHP_CodeSniffer æœ€å¤§çš„åŒºåˆ« sonar æ˜¯ä¸€ä¸ªäº§å“æä¾›äº†å®Œå–„çš„è§£å†³æ–¹æ¡ˆ phpCodeSniffer æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œä¸“æ³¨äº php è¯­æ³•æ£€æŸ¥ æ‹“å±•æ€§ sonar æ˜¯æˆå¥—çš„è§£å†³æ–¹æ¡ˆï¼Œå¯å®šåˆ¶åŒ–ç¨‹åºè¾ƒä½ã€‚éœ€è¦åœ¨ sonar ç°æœ‰çš„ rules ä¸­ç»„åˆè‡ªå·±çš„ ruleï¼Œæˆ–è€…åœ¨ marketPlace ä¸­æ‰¾åˆ°åˆé€‚çš„ç»„ä»¶ã€‚ å¦‚æœéœ€è¦å¼€å‘å®Œå…¨è‡ªå®šä¹‰çš„è§„åˆ™ï¼Œå¯å‚è€ƒ https://docs.sonarqube.org/latest/analysis/languages/php/ ï¼Œä½¿ç”¨ java å¼€å‘å¯¹åº”çš„è§„åˆ™ å¦‚æœåŸºäº sonar æ¥æ„å»ºè‡ªå·±çš„å·¥ä½œæµï¼Œå¯è¡Œæ€§è¾ƒä½ã€‚å› ä¸ºä»–æœ¬èº«æ˜¯ä¸ªäº§å“ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é›†æˆäº†ï¼Œæœ‰è‡ªå·±çš„ä¸€å¥—æ€æƒ³ phpCodeSniffer æ˜¯åŸºäº PHP çš„ä¸€å¥—è¯­æ³•æ£€æµ‹å·¥å…· phpCodeSniffer é¢„ç•™äº†è¯­æ³•æ£€æŸ¥çš„æ¥å£å’Œç±»ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰è§„åˆ™ï¼Œå®ç°å¯¹åº”çš„æ¥å£æˆ–ç±»å³å¯ï¼Œè¾ƒä¸ºç®€å• å¦‚æœåŸºäº phpCS æ¥æ„å»ºè‡ªå·±å·¥ä½œæµï¼Œè¾ƒä¸ºç°å®ã€‚æ¯•ç«Ÿå®ƒåªæ˜¯ä¸ªå·¥å…· å¦å¤–ï¼ŒphpCS æœ‰åŸºäº IDE çš„ä¸€äº›æ’ä»¶ï¼Œå¯ä»¥é›†æˆåˆ°ç¼–è¾‘å™¨ä¸­å®æ—¶æ£€æŸ¥ æ€»ç»“ å¦‚æœåªæ˜¯åšè¯­æ³•æ£€æŸ¥ï¼Œå¹¶ä¸”å¸Œæœ›é«˜åº¦è‡ªå®šä¹‰ï¼Œæ¨èä½¿ç”¨ phpCodeSniffer å¦‚æœå¯¹å®šåˆ¶åŒ–ç¨‹åº¦æ²¡æœ‰è¦æ±‚ï¼Œå¸Œæœ›æœ‰ä¸ªå·¥å…·å¼€ç®±å³ç”¨ï¼Œå¹¶ä¸”ä¹Ÿæ— åç»­å®šåˆ¶éœ€æ±‚ï¼Œå¯ä½¿ç”¨ sonar ã€æ¨èã€‘ä½¿ç”¨ phpCSï¼Œè¿™æ ·ä¾¿äºåæœŸå’Œä¹Ÿæ— æ¡†æ¶é«˜åº¦é›†æˆï¼Œä¾¿äºåšæ›´å¤šè´´åˆæ¡†æ¶å’Œä¸šåŠ¡çš„æ£€æµ‹ã€‚æ¯”å¦‚ä¸šåŠ¡çº§åˆ«è°ƒç”¨è§„èŒƒç­‰","categories":[],"tags":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/tags/æ‚é¡¹/"}]},{"title":"è®°ä¸€æ¬¡ C# aes åŠ å¯†è½¬ php","slug":"c-sharp-aes-to-php-note","date":"2019-06-28T11:35:53.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2019/06/28/c-sharp-aes-to-php-note/","link":"","permalink":"https://rovast.github.io/2019/06/28/c-sharp-aes-to-php-note/","excerpt":"","text":"è®°å½•ä¸€æ¬¡ C# è½¬ PHP ä¸­é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ã€‚ æè¿°ï¼šaes-128-cbc çš„ c# è½¬ php c# ä»£ç 1234567891011121314151617181920212223242526using System;using System.Security.Cryptography;using System.Text;namespace Rextester &#123; class Program &#123; public static string EncryptAES (string key, string content) &#123; // å…³é”®ä»£ç  using (var aes = new RijndaelManaged ()) &#123; aes.BlockSize = 128; aes.IV = iv; aes.Key = key; aes.Mode = CipherMode.CBC; aes.Padding = PaddingMode.PKCS7; var cryptoTransform = aes.CreateEncryptor (); var resultArray = cryptoTransform.TransformFinalBlock (content, 0, content.Length); aes.Clear (); return Convert.ToBase64String (result, 0, result.Length); &#125; &#125; public static void Main (string[] args) &#123; Console.Write (EncryptAES (&quot;abcd&quot;, &quot;1234&quot;)); Console.Read (); &#125; &#125;&#125; PHP ä»£ç 1234567function myEncrypt($key, $content)&#123; // AES-128-CBC AES-192-CBC AES-256-CBC return base64_encode(openssl_encrypt($content,'AES-128-CBC', base64_encode(md5($key,true)), OPENSSL_RAW_DATA, $iv));&#125;myEncrypt('abcd', 'efg'); æ³¨æ„ç‚¹è¯´æ˜ OPENSSL_RAW_DATA å¯¹åº”çš„æ˜¯ PKCS7 AES-128-CBC ä¸¤ä¸ªè¯­è¨€å¤„ç†ä¸ä¸€è‡´ å¯¹äº PHP è€Œè¨€ï¼Œå› ä¸ºæ‰€ä½¿ç”¨çš„æ˜¯ aes-128-cbcï¼Œæ‰€ä»¥ key length éœ€è¦æ˜¯ 128bits æ‰è¡Œã€‚æ‰€ä»¥ php ä¼šè‡ªåŠ¨æˆªå– $keyï¼Œå³ substr($key, 0, 16); å¯¹äºåˆšæ‰çš„ C# è€Œè¨€ï¼Œå¯ä¸ä¸€æ ·äº†ï¼Œå¦‚æœ key length å¤§äº 128bitsï¼Œä»–ä¼šè‡ªåŠ¨å¡«å……0ï¼Œæœ€åå˜ä¸º aes-cbc-192ï¼Œæ­¤æ—¶ï¼Œphpå¯¹åº”çš„æ–¹æ³•ä¹Ÿè¦æ”¹ã€‚","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[]},{"title":"composer ç§æœ‰åŒ–å¤‡å¿˜å½•","slug":"make-composer-private","date":"2019-06-20T09:41:18.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/06/20/make-composer-private/","link":"","permalink":"https://rovast.github.io/2019/06/20/make-composer-private/","excerpt":"","text":"æˆ‘ä»¬çŸ¥é“ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ composer install æ—¶ï¼Œæ˜¯ä» https://packagist.org/ æ‹‰å–çš„ package.å¦‚æœè®¾ç½®äº† ä¸­å›½é•œåƒï¼Œé‚£ä¹ˆå°±ä¼šä»ä½ çš„é•œåƒåœ°å€æ‹‰å–ã€‚ å¤„äºä¸€äº›éœ€è¦ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¼•ç”¨è‡ªå·±å¼€å‘çš„ composer packageã€‚å¦‚æœæ˜¯å…¬ç”¨è¿˜å¥½ï¼Œæˆ‘ä»¬ç›´æ¥ç»“åˆ github å’Œ packagist å‘å¸ƒå…±æœ‰çš„é•œåƒå°±å¥½äº†ã€‚ é‚£å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è‡ªå»ºçš„ git æœåŠ¡ï¼ˆå¦‚ï¼š gitlab æˆ–è€… gogsï¼‰å¼€å‘çš„ composer packageï¼Œå¹¶ä¸”æ˜¯ç§æœ‰ï¼Œå’‹åŠï¼Ÿ æœ¬æ–‡æè¿°çš„æ˜¯ ä¸æ­å»ºç§æœ‰ composeræœåŠ¡å™¨ çš„æ–¹å¼æ¥ä½¿ç”¨ç§æœ‰åŒ…ã€‚ å…¨å±€åŒ…æ¯”å¦‚æˆ‘ä»¬å¼€å‘äº†å…¨å±€çš„è„šæ‰‹æ¶ 12345678# å…è®¸ http æºcomposer config --global secure-http false# æ·»åŠ æœ¬é¡¹ç›®çš„æºcomposer config --global repositories.package vcs http://gitlab.yourhost.com/package.git# å…¨å±€å®‰è£…composer global require vendor/package -vvv éå…¨å±€åŒ…ä¿®æ”¹è°ƒç”¨æ–¹çš„ composer.json å³å¯ï¼Œå…³é”®å­—æ®µè®¾ç½®å¦‚ä¸‹ï¼š 1234567891011121314&#123; \"repositories\": [ &#123; \"type\": \"vcs\", \"url\": \"http://gitlab.yourhost.com/package.git\" &#125; ], \"require\": &#123; \"vendor/name\": \"dev-master\" &#125;, \"config\": &#123; \"secure-http\": false &#125;&#125; ç„¶åæ‰§è¡Œä¸‹è¿°æŒ‡ä»¤å³å¯å®‰è£… 1composer install -vvv è¯´æ˜ï¼š secure-http å…è®¸ä½¿ç”¨ http åè®®çš„æº vendor/name å¯¹åº”çš„æ˜¯è‡ªå·±å¼€å‘çš„ composer åŒ…ä¸­çš„ composer.json ä¸­å®šä¹‰çš„ name å­—æ®µ dev-master è¡¨ç¤ºå’Œ master åˆ†æ”¯ä¿æŒä¸€è‡´ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥æ‰“ tagï¼ˆæˆ–è€…åˆå« releaseï¼‰","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://rovast.github.io/tags/PHP/"}]},{"title":"WDCP å’Œ Yapi é…ç½®é—®é¢˜å°è®°","slug":"yapi-deploy-note","date":"2019-06-18T17:39:25.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2019/06/18/yapi-deploy-note/","link":"","permalink":"https://rovast.github.io/2019/06/18/yapi-deploy-note/","excerpt":"","text":"Nginx åå“ä»£ç†é…ç½®1234567891011121314151617181920212223server &#123; listen 80; server_name api.wugee.vip; location / &#123; proxy_pass http://127.0.0.1:3000; &#125;&#125;server &#123; listen 443; server_name api.wugee.vip; ssl on; ssl_certificate cert/api.wugee.vip.pem; ssl_certificate_key cert/api.wugee.vip.key; ssl_prefer_server_ciphers on; ssl_session_timeout 10m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5; location / &#123; proxy_pass http://127.0.0.1:3000; &#125;&#125; yapi æœåŠ¡å¯åŠ¨1pm2 start yapi-app/server/app.js ç³»ç»Ÿè‡ªå¯åŠ¨çš„ mongo æœåŠ¡æ›¿æ¢ä¸ºè‡ªå·±åŸæ¥çš„ mongo12345ps -ax | grep mongod # æŸ¥è€æœåŠ¡kill -9 ID # æ€mongod -f /etc/mongod.conf # å¯åŠ¨æ–°çš„ å¯ä»¥ç”¨ä¸‹è¿°å‘½ä»¤çœ‹ä¸‹ mongo æ•°æ®å¯¹ä¸å¯¹123show dbs;use yapi;db.user.find() é‡å¯ pm2 æœåŠ¡12pm2 list # æŸ¥çœ‹ä»»åŠ¡ idpm2 restart 0","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[]},{"title":"fix-ios-keyboard-in-webpage","slug":"fix-ios-keyboard-in-webpage","date":"2019-06-14T09:59:07.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2019/06/14/fix-ios-keyboard-in-webpage/","link":"","permalink":"https://rovast.github.io/2019/06/14/fix-ios-keyboard-in-webpage/","excerpt":"","text":"123456789101112131415161718192021// ä¿®å¤ IOS é”®ç›˜å¼¹å‡ºç©ºç™½çš„é—®é¢˜let ua = window.navigator.userAgent;let app = window.navigator.appVersion;//$alert('æµè§ˆå™¨ç‰ˆæœ¬: ' + app + '\\n' + 'ç”¨æˆ·ä»£ç†: ' + ua);if (!!ua.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)) &#123; //$alert('iosç«¯'); $(\"input,textarea\").on(\"blur\", function () &#123; var currentPosition, timer; var speed = 1; timer = setInterval(function () &#123; currentPosition = document.documentElement.scrollTop || document.body.scrollTop; currentPosition -= speed; window.scrollTo(0, currentPosition);//é¡µé¢å‘ä¸Šæ»šåŠ¨ currentPosition += speed; window.scrollTo(0, currentPosition);//é¡µé¢å‘ä¸‹æ»šåŠ¨ clearInterval(timer); &#125;, 100); &#125;)&#125; else if (ua.indexOf('Android') &gt; -1 || ua.indexOf('Adr') &gt; -1) &#123; //$alert('androidç«¯');&#125;","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"https://rovast.github.io/tags/ç§»åŠ¨ç«¯/"}]},{"title":"ubuntu æ¡Œé¢ç‰ˆä½¿ç”¨å¤‡å¿˜","slug":"getting-star-with-ubuntu-desktop","date":"2019-06-13T09:53:06.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2019/06/13/getting-star-with-ubuntu-desktop/","link":"","permalink":"https://rovast.github.io/2019/06/13/getting-star-with-ubuntu-desktop/","excerpt":"","text":"æœ¬æ–‡è®°å½•äº†ä½¿ç”¨ ubuntu æ¡Œé¢ç‰ˆè¿‡ç¨‹ä¸­çš„ä¸€äº›å¸¸è§é—®é¢˜å’Œåˆå§‹åŒ–æ­¥éª¤ã€‚ æ¡Œé¢ç¾åŒ–æŒªåŠ¨å…³é—­æŒ‰é’®è‡³å·¦ä¾§é¦–å…ˆå®‰è£… gnome-tweak-tool 1sudo apt install gnome-tweak-tool å®‰è£…å®Œæˆåï¼Œæ‰“å¼€è½¯ä»¶ï¼š é€‰æ‹©â€œçª—å£â€èœå• æ›´æ”¹â€œæ ‡é¢˜æ æŒ‰é’® - æ”¾ç½®â€ï¼Œè®¾ç½®ä¸ºâ€œå·¦â€å³å¯ æ›´æ”¹é¡¶éƒ¨ bar æ˜¾ç¤ºæ–¹å¼ä¸º unity é£æ ¼å®‰è£… unite gnome æ‹“å±•ï¼ˆæ€ä¹ˆå®‰è£…ï¼Œå‚è€ƒ gnome ç« èŠ‚ï¼‰ï¼Œç„¶åå¯ç”¨å³å¯ã€‚ ä½¿ç”¨æ€æºå®‹ä½“è¿›å…¥ https://github.com/adobe-fonts/source-han-serif/tree/release ï¼Œä¸‹è½½ OTF/SimplifiedChinese/SourceHanSerifSC-Regular.otf ä¸‹è½½å®ŒæˆååŒå‡»æ‰“å¼€å®‰è£…å³å¯ã€‚ å®‰è£…å®Œæˆåï¼Œå¯ä»¥åœ¨ gnome-tweak ä¸­è®¾ç½®å­—ä½“ã€‚ gnome ç›¸å…³å®‰è£… gnome shell extension12sudo apt install gnome-shell-extensionssudo apt install chrome-gnome-shell ç„¶åå®‰è£… chrome æ‹“å±• GNOME Shell integration æˆ‘ä¸€èˆ¬ä½¿ç”¨ chromium-browser å®‰è£…æ‹“å±•ï¼Œè²Œä¼¼ä¹‹å‰ç”¨ chrome æœ‰é—®é¢˜ 1sudo apt install chromium-browser ä¹‹ååœ¨ https://extensions.gnome.org/ å°±èƒ½æ„‰å¿«çš„å®‰è£…æ‹“å±•äº†ã€‚ å¸¸ç”¨åº”ç”¨albertï¼ˆç±»ä¼¼ MacOS çš„ alfredï¼‰ å‚è€ƒæ–‡ç«  ã€Šå®‰è£…è½¯ä»¶åŒ… albertã€‹ æ‰§è¡Œçš„æ“ä½œä¸ºï¼š123sudo sh -c \"echo 'deb http://download.opensuse.org/repositories/home:/manuelschneid3r/xUbuntu_18.04/ /' &gt; /etc/apt/sources.list.d/home:manuelschneid3r.list\"sudo apt-get updatesudo apt-get install albert è®¾ç½® hotkey è®¾ç½®ä¸º alt + â€˜spaceâ€™ extensions æ‰“å¼€ applications calculator å¾®ä¿¡ã€ä¼ä¸šå¾®ä¿¡ã€å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸»è¦å‚è€ƒ wszqkzqk/deepin-wine-ubuntu å®‰è£…ä¸€äº›ä¾èµ–ç¯å¢ƒ 1wget -qO- https://raw.githubusercontent.com/wszqkzqk/deepin-wine-ubuntu/master/online_install.sh | bash -e å» é˜¿é‡Œäº‘é•œåƒ ä¸‹è½½æ‰€éœ€å®‰è£…åŒ… ä½¿ç”¨ dpkg æŒ‡ä»¤å®‰è£… 12345# å®‰è£…è½¯ä»¶sudo dpkg -i package.deb# å‡ºç°è½¯ä»¶å®‰è£…ä¾èµ–é—®é¢˜ï¼Œä½¿ç”¨æ­¤æŒ‡ä»¤ fixsudo apt-get install -f æ‰˜ç›˜é€šçŸ¥ éœ€è¦å®‰è£… Gnome Shell æ’ä»¶ï¼šTopIcons Plusï¼Œå‚è€ƒ gnome ç« èŠ‚ é’‰é’‰é’‰é’‰ä½¿ç”¨çš„æ˜¯ nashaofu/dingtalk çš„åŒ…ã€‚ å» release é¡µé¢ ä¸‹è½½å¯¹åº” deb åŒ… dkpg -i å®‰è£…å³å¯ æ³¨æ„ æ­£ç¡®é€‰æ‹©ç¬¦åˆè‡ªå·±æ“ä½œç³»ç»Ÿç‰ˆæœ¬çš„ deb åŒ…ã€‚ Typoraï¼ˆè·¨å¹³å° markdown ç¼–è¾‘å™¨ï¼‰å®˜æ–¹å®‰è£…è¯´æ˜ ä¸€äº›ä½¿ç”¨å°çªé—¨ ä½ å¯ä»¥åœ¨ç½‘é¡µä¸Šå¤åˆ¶ä½ å–œæ¬¢çš„æ–‡ç« ï¼Œç„¶ååˆ°ç¼–è¾‘å™¨ç¬¬ view æ¨¡å¼ä¸‹ç²˜è´´ï¼Œåœ¨åˆ‡æ¢åˆ° source æ¨¡å¼ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°è½¬ä¹‰å¥½çš„ markdown äº† è€Œä¸”ï¼Œ å›¾ç‰‡è·¯å¾„ ä¼šè‡ªåŠ¨åŠ ä¸Š å¼€å‘ç¯å¢ƒnginxå®‰è£…æˆ‘ä»¬é‡‡å–ç¼–è¯‘å®‰è£…çš„æ–¹å¼å®‰è£… nginxã€‚å…ˆå»å®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹ã€‚ åœ¨æ‰§è¡Œ configure å‰ï¼Œéœ€è¦å®‰è£…ä¸€äº›ä¾èµ– 1sudo apt-get install libpcre3 libpcre3-dev zlib1g zlib1g-dev libssl-dev ç´§æ¥ç€ï¼Œæ­£å¸¸å®‰è£…å³å¯ï¼Œæˆ‘å®‰è£…çš„æ—¶å€™æ²¡æœ‰å¢åŠ é¢å¤–çš„é…ç½®ï¼Œç›´æ¥ç”¨çš„é»˜è®¤é…ç½® 123./configuremakesudo make install å®‰è£…å®Œï¼Œç›¸å…³è·¯å¾„å¦‚ä¸‹ å¯æ‰§è¡Œæ–‡ä»¶ç›®å½• /usr/local/nginx/sbin é…ç½®ç›®å½• /usr/local/nginx/conf ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ nginx æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ /usr/local/bin ä¸‹åˆ›å»ºè½¯è¿æ¥ã€‚ é…ç½®ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬è¿›è¡Œä¸€ä¸‹å°é…ç½®ã€‚ æˆ‘ä»¬åœ¨ /usr/local/nginx/conf/nginx.conf çš„ç»“å°¾å¤„å¢åŠ  include servers/*; 123456789101112131415161718192021222324 # HTTPS server # #server &#123; # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / &#123; # root html; # index index.html index.htm; # &#125; #&#125; include servers/*;&#125; è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ /usr/local/nginx/conf/servers ç›®å½•ä¸‹é…ç½®ç«™ç‚¹ä¿¡æ¯å³å¯ã€‚ æˆ‘ä»¬æ–°å»ºä¸‹ /usr/local/nginx/conf/servers 1sudo mkdir /usr/local/nginx/conf/servers å¼€å‘å·¥å…·phpstormæ­£å¸¸çš„æ“ä½œæ˜¯ç›´æ¥åœ¨å®˜æ–¹ä¸Šä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹å³å¯ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œç›´æ¥ä½¿ç”¨æµè§ˆå™¨ä¸‹è½½é€Ÿåº¦åè€Œä¸€èˆ¬ï¼Œè¿™é‡Œæˆ‘ä»¬è·å–åˆ°ä¸‹è½½åœ°å€ï¼Œä½¿ç”¨ wget ä¸‹è½½ï¼Œé€Ÿåº¦åè€Œå¿«ã€‚ 1wget https://download.jetbrains.8686c.com/webide/PhpStorm-2019.1.2.tar.gz ä¸‹è½½å®Œæˆåï¼Œæ­£å¸¸è§£å‹ï¼Œåœ¨ bin ç›®å½•ä¸‹æ‰§è¡Œè„šæœ¬å³å¯ã€‚ webstormåŒ phpstorm çš„æ“ä½œï¼Œåªæ˜¯ä¸‹è½½åœ°å€ä¸åŒç½¢äº†ã€‚ 1wget https://download.jetbrains.8686c.com/webstorm/WebStorm-2019.1.3.tar.gz git emojièŠ±é‡Œèƒ¡å“¨çš„æäº¤ä½ çš„ git ä»£ç  github åœ°å€ carloscuesta/gitmoji-cli å®‰è£… 1npm i -g gitmoji-cli é…ç½® emoji å±•ç¤ºæ–¹å¼ 12345$ gitmoji -g? Enable automatic \"git add .\" No? Choose Issue Format github? Select how emojis should be used in commits ğŸ˜„? Enable signed commits No è®¾å®š alias 1alias gmc=\"gitmoji -c\"","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://rovast.github.io/tags/ubuntu/"}]},{"title":"ä½¿ç”¨ KCP æ¥åŠ é€Ÿæµé‡","slug":"use-kcp","date":"2019-06-11T10:55:10.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2019/06/11/use-kcp/","link":"","permalink":"https://rovast.github.io/2019/06/11/use-kcp/","excerpt":"","text":"å‰è¨€ä½¿ç”¨ KCP å¯ä»¥åŠ é€Ÿ SS çš„æµé‡ï¼Œæ‰€ä»¥åœ¨å®‰è£… kcp å¯¹åº”æœåŠ¡å‰ï¼Œè¯·å…ˆç¡®å®šå·²ç»æ­£å¸¸å®‰è£…äº† shadowsocketï¼Œå¯ä»¥å‚è€ƒ ã€Šç§‘å­¦ä¸Šç½‘ä¹‹ Shadowsocks å®‰è£…åŠä¼˜åŒ–åŠ é€Ÿã€‹ æˆ‘ä»¬å‡è®¾ ss çš„å¯¹åº”é…ç½®å¦‚ä¸‹ IP 1.1.1.1 port 12984 password 112233 åŠ å¯†æ–¹å¼ chacha20 å®‰è£… kcp server ç«¯è½¯ä»¶æˆ‘ä»¬ä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£… 12345wget https://raw.githubusercontent.com/kuoruan/kcptun_installer/master/kcptun.shchmod +x ./kcptun.sh./kcptun.sh åŸºæœ¬ä¸Šä¸€è·¯å›è½¦å°±å¥½äº†ï¼Œæœ€åä¼šè¾“å‡ºä¸€ä¸ªæˆåŠŸçš„ä¿¡æ¯ï¼Œè®°å¾—ä¿å­˜ä¸ºå•ç‹¬çš„æ–‡ä»¶ï¼Œåé¢ç”¨åˆ°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950æ­å–œ! Kcptun æœåŠ¡ç«¯å®‰è£…æˆåŠŸã€‚æœåŠ¡å™¨IP: 1.1.1.1ç«¯å£: 29900åŠ é€Ÿåœ°å€: 127.0.0.1:12984key: 111111crypt: aesmode: fastmtu: 1350sndwnd: 512rcvwnd: 512datashard: 10parityshard: 3dscp: 0nocomp: falsequiet: falseå½“å‰å®‰è£…çš„ Kcptun ç‰ˆæœ¬ä¸º: 20190515è¯·è‡ªè¡Œå‰å¾€: https://github.com/xtaci/kcptun/releases/tag/v20190515æ‰‹åŠ¨ä¸‹è½½å®¢æˆ·ç«¯æ–‡ä»¶å¯ä½¿ç”¨çš„å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸º:&#123; &quot;localaddr&quot;: &quot;:12984&quot;, &quot;remoteaddr&quot;: &quot;1.1.1.1:29900&quot;, &quot;key&quot;: &quot;111111&quot;, &quot;crypt&quot;: &quot;aes&quot;, &quot;mode&quot;: &quot;fast&quot;, &quot;mtu&quot;: 1350, &quot;sndwnd&quot;: 512, &quot;rcvwnd&quot;: 512, &quot;datashard&quot;: 10, &quot;parityshard&quot;: 3, &quot;dscp&quot;: 0, &quot;nocomp&quot;: false, &quot;quiet&quot;: false&#125;æ‰‹æœºç«¯å‚æ•°å¯ä»¥ä½¿ç”¨: key=111111;crypt=aes;mode=fast;mtu=1350;sndwnd=512;rcvwnd=512;datashard=10;parityshard=3;dscp=0Kcptun å®‰è£…ç›®å½•: /usr/local/kcptunå·²å°† Supervisor åŠ å…¥å¼€æœºè‡ªå¯,Kcptun æœåŠ¡ç«¯ä¼šéš Supervisor çš„å¯åŠ¨è€Œå¯åŠ¨æ›´å¤šä½¿ç”¨è¯´æ˜: ./kcptun.sh helpå¦‚æœè¿™ä¸ªè„šæœ¬å¸®åˆ°äº†ä½ ï¼Œä½ å¯ä»¥è¯·ä½œè€…å–ç“¶å¯ä¹: https://blog.kuoruan.com/donate kcp æœåŠ¡ä½¿ç”¨ supervisor æ¥ç®¡ç†ï¼Œç”¨äºå®ˆæŠ¤è¿›ç¨‹ã€‚å®‰è£…å®Œæˆåï¼Œå¯ç”¨çš„å‘½ä»¤ä¸º å¯åŠ¨ kcptun supervisorctl start kcptun é‡å¯ kcptun supervisorctl restart kcptun å…³é—­ kcptun supervisorctl stop kcptun æŸ¥çœ‹ kcptun æ—¥å¿— ./kcptun.sh log å®‰è£… kcptun çš„å®¢æˆ·ç«¯è½¯ä»¶kcptun æ”¯æŒä¸°å¯Œçš„å®¢æˆ·ç«¯æ”¯æŒ Linuxä¸‹è½½å®‰è£…åŒ…https://github.com/xtaci/kcptun/releases åœ°å€ä¸‹è½½å¯¹åº”çš„ Linux ç‰ˆæœ¬ï¼Œè§£å‹åæœ‰å¯æ‰§è¡Œæ–‡ä»¶ã€‚ æˆ‘ä¸‹è½½çš„æ˜¯ kcptun-linux-386-20190515.tar.gz æ–°å»ºé…ç½®æ–‡ä»¶config.jsonï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯å®‰è£… kcptun æˆåŠŸåçš„æç¤ºæ–‡ä»¶ 1234567891011121314151617181920212223&#123; \"localaddr\": \"127.0.0.1:2080\", \"remoteaddr\": \"1.1.1.1:29900\", \"key\": \"111111\", \"crypt\": \"aes\", \"mode\": \"fast\", \"conn\": 1, \"autoexpire\": 60, \"mtu\": 1350, \"sndwnd\": 512, \"rcvwnd\": 512, \"datashard\": 70, \"parityshard\": 3, \"dscp\": 46, \"nocomp\": false, \"acknodelay\": false, \"nodelay\": 0, \"interval\": 40, \"resend\": 0, \"nc\": 0, \"sockbuf\": 4194304, \"keepalive\": 10&#125; å»ºç«‹å®¢æˆ·ç«¯æœåŠ¡æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤å»ºç«‹é“¾æ¥ï¼ŒåŒæ—¶åœ¨æœåŠ¡å™¨ç«¯ï¼Œä½¿ç”¨ ./kcptun.sh log å¯ä»¥çœ‹åˆ°æ—¥å¿—è¾“å‡º 1./client_linux_386 -c config.json --quiet é…ç½®å®¢æˆ·ç«¯ shadowsocket æœåŠ¡å™¨åœ°å€ 127.0.0.1 æœåŠ¡å™¨ç«¯å£ 2080 å¯†é’¥ 112233 æœ¬åœ°åœ°å€ 127.0.0.1 æœ¬åœ°ç«¯å£ 1080 æœ¬åœ°æœåŠ¡å™¨ç±»å‹ socket5 åŠ å¯†æ–¹å¼ chacha20 MacOSMacOS çš„ shadowsockets-NG è½¯ä»¶çš„æœ€æ–°ç‰ˆå·²ç»å†…åµŒäº† kcptun æ’ä»¶ï¼Œæ¯”è¾ƒç®€å• ä¸‹è½½è½¯ä»¶ä¸‹è½½æœ€æ–°ç‰ˆçš„è½¯ä»¶ï¼Œåœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ï¼Œä¸‹è½½ ShadowsocksX-NG.app.1.8.2.zipï¼Œè§£å‹åæœ‰ä¸ª app æ–‡ä»¶ï¼ŒæŒªåŠ¨åˆ°ã€Œåº”ç”¨ç¨‹åºã€ https://github.com/shadowsocks/ShadowsocksX-NG/releases é…ç½®æ­£å¸¸é…ç½® shadowsockets çš„é“¾æ¥å³å¯ï¼Œéœ€è¦é…ç½®æ’ä»¶å’Œæ’ä»¶é…ç½®å¦‚ä¸‹ æœåŠ¡å™¨ 1.1.1.1 ç«¯å£ 29900 åŠ å¯†æ–¹å¼ chacha20 å¯†ç  112233 æ’ä»¶ kcptun é…ç½® key=111111;crypt=aes;mode=fast;mtu=1350;sndwnd=512;rcvwnd=512;datashard=10;parityshard=3;dscp=0 Androidä¸‹è½½å®¢æˆ·ç«¯éœ€è¦ä¸‹è½½ä¸¤ä¸ªè½¯ä»¶ï¼Œå°é£æœºå’Œ kcptun shadowsocks-android https://github.com/shadowsocks/shadowsocks-android/releases æˆ‘çš„æ˜¯ shadowsocks-arm64-v8a-4.8.0.apk kcptun android https://github.com/shadowsocks/kcptun-android/releases å®‰è£…å®Œ kcptun æ˜¯æ²¡æœ‰å›¾æ ‡çš„ï¼Œè¿™æ˜¯ shadowsockets çš„å…³è”å¯åŠ¨åä¸ºæ‰‹æœºéœ€è¦åœ¨æ‰‹æœºç®¡å®¶ä¸­è®¾ç½® kcptun å…è®¸å…³è”å¯åŠ¨ï¼Œä¸ç„¶ä¼šæç¤ºé“¾æ¥ä¸ä¸ŠæœåŠ¡å™¨ é…ç½®å®‰å“å°é£æœºçš„é…ç½® æœåŠ¡å™¨ 1.1.1.1 è¿œç¨‹ç«¯å£ 29900 å¯†ç  112233 åŠ å¯†æ–¹å¼ chacha20 æ’ä»¶ kcptun é…ç½® key=111111;crypt=aes;mode=fast;mtu=1350;sndwnd=512;rcvwnd=512;datashard=10;parityshard=3;dscp=0 å‚è€ƒæ–‡ç«  ã€Šä¸€æ­¥ä¸€æ­¥æ•™ä½ ç”¨Kcptunç»™ShadowsocksåŠ é€Ÿï¼çœ‹YouTube1080Pä¸€ç‚¹éƒ½ä¸å¡ï¼ã€‹ ã€ŠShadowsocks-Androidå®¢æˆ·ç«¯ä¸Šçš„KCPé…ç½®è¯´æ˜ã€‹ æ›´æ–°äºï¼š2021å¹´01æœˆ12æ—¥13:28:49 æ›´æ–°å†…å®¹ï¼šæœåŠ¡å™¨é…ç½® 1ã€å®‰è£… SSåŠ å¯†ç®—æ³•ç»„ä»¶ chacha20 12345678yum groupinstall \"Development Tools\"wget https://download.libsodium.org/libsodium/releases/LATEST.tar.gztar zxvf LATEST.tar.gz &amp;&amp; cd libsodium-stable./configure &amp;&amp; make -j4 &amp;&amp; make installecho /usr/local/lib &gt; /etc/ld.so.conf.d/usr_local_lib.confldconfig 2ã€å®‰è£… Server1234567# debainapt-get install python-pippip install shadowsocks# centosyum install python-setuptools &amp;&amp; easy_install pippip install shadowsocks 3ã€å®‰è£… kcptun1234567wget https://raw.githubusercontent.com/kuoruan/kcptun_installer/master/kcptun.shchmod +x ./kcptun.sh./kcptun.sh# ä¸€è·¯å›è½¦ 4ã€é…ç½®æ–‡ä»¶ä¿®æ”¹/root/ss.json 123456789&#123; \"server\":\"0.0.0.0\", \"server_port\":12984, \"local_address\": \"127.0.0.1\", \"local_port\":1080, \"password\":\"9SehN7C3GQ9h9Cyt\", \"timeout\":300, \"method\":\"chacha20\"&#125; /usr/local/kcptun/server-config.json 12345678910111213141516&#123; \"listen\": \":29900\", \"target\": \"127.0.0.1:12984\", \"key\": \"111111\", \"crypt\": \"aes\", \"mode\": \"fast\", \"mtu\": 1350, \"sndwnd\": 4096, \"rcvwnd\": 4096, \"datashard\": 10, \"parityshard\": 3, \"dscp\": 0, \"nocomp\": false, \"quiet\": true, \"pprof\": false&#125; 5ã€å¯åŠ¨å¢åŠ å¼€æœºè‡ªå¯åŠ¨ /etc/supervisor/conf.d/ss.conf 12345678910[program:ssserver]user=rootdirectory=/rootcommand=/usr/bin/ssserver -c \"/root/ss.json\"process_name=%(program_name)sautostart=trueredirect_stderr=truestdout_logfile=/var/log/ss.logstdout_logfile_maxbytes=1MBstdout_logfile_backups=0 12345# start ssssserver -c /root/ss.json -d start# reload kcptun to apply new configurationsupervisorctl restart all","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"RFC793 TCP åè®®","slug":"rfc793-transmission-control-protocol","date":"2019-05-17T09:51:05.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2019/05/17/rfc793-transmission-control-protocol/","link":"","permalink":"https://rovast.github.io/2019/05/17/rfc793-transmission-control-protocol/","excerpt":"","text":"PREFACEï¼ˆå¼•è¨€ï¼‰ INTRODUCTION ï¼ˆç®€ä»‹ï¼‰ 1.1 Motivation ï¼ˆåŠ¨æœºï¼‰1.2 Scope ï¼ˆèŒƒå›´ï¼‰1.3 About This Document ï¼ˆå…³äºæ­¤æ–‡æ¡£ï¼‰1.4 Interfaces ï¼ˆæ¥å£ï¼‰1.5 Operation ï¼ˆæ“ä½œï¼‰ PHILOSOPHY ï¼ˆè®¾è®¡ç†å¿µï¼‰ 2.1 Elements of the Internetwork System ï¼ˆç½‘ç»œç³»ç»Ÿè¦ç´ ï¼‰2.2 Model of Operation ï¼ˆæ“ä½œæ¨¡å‹ï¼‰2.3 The Host Environment ï¼ˆHOST ç¯å¢ƒï¼‰2.4 Interfaces ï¼ˆæ¥å£ï¼‰2.5 Relation to Other Protocols ï¼ˆå’Œå…¶ä»–åè®®çš„å…³ç³»ï¼‰2.6 Reliable Communication ï¼ˆå¯é é€šä¿¡ï¼‰2.7 Connection Establishment and Clearing ï¼ˆé“¾æ¥çš„å»ºç«‹å’Œæ¸…é™¤ï¼‰2.8 Data Communication ï¼ˆæ•°æ®é€šä¿¡ï¼‰2.9 Precedence and Security ï¼ˆä¼˜å…ˆæƒå’Œå®‰å…¨æ€§ï¼‰2.10 Robustness Principle ï¼ˆå¥å£®æ€§åŸåˆ™ï¼‰ FUNCTIONAL SPECIFICATION ï¼ˆåŠŸèƒ½è§„èŒƒï¼‰ 3.1 Header Format ï¼ˆHeader æ ¼å¼ï¼‰3.2 Terminology ï¼ˆä¸“ä¸šæœ¯è¯­ï¼‰3.3 Sequence Numbers ï¼ˆåºå·è¯´æ˜ï¼‰3.4 Establishing a connection ï¼ˆå»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼‰3.5 Closing a Connection ï¼ˆæ–­å¼€ä¸€ä¸ªé“¾æ¥ï¼‰3.6 Precedence and Security ï¼ˆä¼˜å…ˆçº§å’Œå®‰å…¨æ€§ï¼‰3.7 Data Communication ï¼ˆæ•°æ®é€šä¿¡ï¼‰3.8 Interfaces ï¼ˆæ¥å£ï¼‰3.9 Event Processing ï¼ˆäº‹ä»¶å¤„ç†ï¼‰ GLOSSARY ï¼ˆæœ¯è¯­è¡¨ï¼‰ REFERENCES ï¼ˆå¼•ç”¨ï¼‰ 123456789101112131415 PREFACEThis document describes the DoD Standard Transmission Control Protocol(TCP). There have been nine earlier editions of the ARPA TCPspecification on which this standard is based, and the present textdraws heavily from them. There have been many contributors to this workboth in terms of concepts and in terms of text. This edition clarifiesseveral details and removes the end-of-letter buffer-size adjustments,and redescribes the letter mechanism as a push function. Jon Postel Editor INTRODUCTIONThe Transmission Control Protocol (TCP) is intended for use as a highlyreliable host-to-host protocol between hosts in packet-switched computercommunication networks, and in interconnected systems of such networks. ä¼ è¾“æ§åˆ¶åè®®(TCP)çš„ç›®çš„ï¼Œæ˜¯åœ¨ åŒ…äº¤æ¢è®¡ç®—æœºé€šä¿¡ç½‘ç»œ å’Œ æ­¤ç±»ç½‘ç»œçš„äº’è¿ç³»ç»Ÿä¸­ï¼Œä¸ºä¸»æœºé—´çš„é€šä¿¡æä¾›å¯é çš„åè®®ã€‚ This document describes the functions to be performed by theTransmission Control Protocol, the program that implements it, and itsinterface to programs or users that require its services. æœ¬æ–‡æ¡£æè¿°ä¼ è¾“æ§åˆ¶åè®®è¦æ‰§è¡Œçš„åŠŸèƒ½ã€å®ç°è¯¥åè®®çš„ç¨‹åºã€ä»¥åŠéœ€è¦å…¶æœåŠ¡çš„ç¨‹åºæˆ–ç”¨æˆ·çš„æ¥å£ã€‚ MotivationComputer communication systems are playing an increasingly importantrole in military, government, and civilian environments. Thisdocument focuses its attention primarily on military computercommunication requirements, especially robustness in the presence ofcommunication unreliability and availability in the presence ofcongestion, but many of these problems are found in the civilian andgovernment sector as well. è®¡ç®—æœºé€šä¿¡ç³»ç»Ÿåœ¨å†›äº‹ã€æ”¿åºœå’Œæ°‘ç”¨ç¯å¢ƒä¸­å‘æŒ¥ç€è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚æœ¬æ–‡ä»¶ä¸»è¦å…³æ³¨å†›ç”¨è®¡ç®—æœºé€šä¿¡éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯åœ¨é€šä¿¡ä¸å¯é å’Œå­˜åœ¨æ‹¥å¡æ—¶çš„å¥å£®æ€§å’Œå¯ç”¨æ€§ï¼Œä½†å…¶ä¸­è®¸å¤šé—®é¢˜ä¹Ÿå­˜åœ¨äºæ°‘ç”¨å’Œæ”¿åºœéƒ¨é—¨ã€‚ As strategic and tactical computer communication networks aredeveloped and deployed, it is essential to provide means ofinterconnecting them and to provide standard interprocesscommunication protocols which can support a broad range ofapplications. In anticipation of the need for such standards, theDeputy Undersecretary of Defense for Research and Engineering hasdeclared the Transmission Control Protocol (TCP) described herein tobe a basis for DoD-wide inter-process communication protocolstandardization. éšç€æˆ˜ç•¥å’Œæˆ˜æœ¯è®¡ç®—æœºé€šä¿¡ç½‘ç»œçš„å‘å±•å’Œéƒ¨ç½²ï¼Œæä¾›ç›¸äº’è¿æ¥çš„æ‰‹æ®µå’Œæ”¯æŒå¹¿æ³›åº”ç”¨çš„æ ‡å‡†è¿›ç¨‹é—´é€šä¿¡åè®®è‡³å…³é‡è¦ã€‚è€ƒè™‘åˆ°éœ€è¦è¿™æ ·çš„æ ‡å‡†ï¼Œè´Ÿè´£ç ”ç©¶å’Œå·¥ç¨‹çš„å›½é˜²éƒ¨å‰¯éƒ¨é•¿å£°æ˜äº†æœ¬æ–‡æè¿°çš„ä¼ è¾“æ§åˆ¶åè®®(TCP)ï¼Œè¿™ä»½åè®®å°†ä½œä¸ºå…¨å±€æ€§è¿›ç¨‹é—´é€šä¿¡åè®®æ ‡å‡†åŒ–çš„åŸºç¡€ã€‚ TCP is a connection-oriented, end-to-end reliable protocol designed tofit into a layered hierarchy of protocols which support multi-networkapplications. The TCP provides for reliable inter-processcommunication between pairs of processes in host computers attached todistinct but interconnected computer communication networks. Very fewassumptions are made as to the reliability of the communicationprotocols below the TCP layer. TCP assumes it can obtain a simple,potentially unreliable datagram service from the lower levelprotocols. In principle, the TCP should be able to operate above awide spectrum of communication systems ranging from hard-wiredconnections to packet-switched or circuit-switched networks. TCP æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ç«¯åˆ°ç«¯å¯é åè®®ï¼Œå®ƒè¢«è®¾è®¡æˆé€‚åˆäºæ”¯æŒå¤šç½‘ç»œåº”ç”¨ç¨‹åºçš„åˆ†å±‚åè®®å±‚æ¬¡ç»“æ„ã€‚æœ‰ä¸€äº›è®¡ç®—æœºé“¾æ¥åˆ°ä¸åŒçš„ç½‘ç»œï¼Œä½†æ˜¯è¿™äº›ç½‘ç»œä¹‹é—´æ˜¯äº’é€šçš„ã€‚TCP ç»™è¿™äº›è®¡ç®—æœºæä¾›äº†å¯é çš„å†…éƒ¨è¿›ç¨‹é€šä¿¡ã€‚TCP ä¸‹å±‚é€šä¿¡çš„å¯é æ€§æ˜¯æœªçŸ¥çš„ï¼ŒTCP å‡å®šå®ƒå¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„ï¼Œå¯èƒ½ä¸å¯é çš„æ•°æ®æŠ¥æ–‡æœåŠ¡ã€‚åŸåˆ™ä¸Šï¼ŒTCPåº”è¯¥èƒ½å¤Ÿåœ¨ä»ç¡¬çº¿è¿æ¥åˆ°åˆ†ç»„äº¤æ¢æˆ–ç”µè·¯äº¤æ¢ç½‘ç»œçš„å¹¿æ³›é€šä¿¡ç³»ç»Ÿé¢‘è°±ä¹‹ä¸Šè¿è¡Œã€‚ï¼ˆå¤§æ¦‚çš„æ„æ€å°±æ˜¯ TCP åº”è¯¥å¯ä»¥å„ç§ç¡¬ä»¶ä¹‹ä¸Šè¿è¡Œï¼Œå’Œè¿è¡Œæ— å…³ï¼‰ã€‚ TCP is based on concepts first described by Cerf and Kahn in [1]. TheTCP fits into a layered protocol architecture just above a basicInternet Protocol [2] which provides a way for the TCP to send andreceive variable-length segments of information enclosed in internetdatagram â€œenvelopesâ€. The internet datagram provides a means foraddressing source and destination TCPs in different networks. Theinternet protocol also deals with any fragmentation or reassembly ofthe TCP segments required to achieve transport and delivery throughmultiple networks and interconnecting gateways. The internet protocolalso carries information on the precedence, security classificationand compartmentation of the TCP segments, so this information can becommunicated end-to-end across multiple networks. TCP æ˜¯åŸºäº Cerf å’Œ Kahn åœ¨ [1] ä¸­ç¬¬ä¸€æ¬¡æè¿°çš„æ¦‚å¿µã€‚TCP åè®®æ˜¯é€‚åˆåˆ†å±‚æ§åˆ¶åè®®çš„æ¶æ„çš„ï¼Œå°±åœ¨åŸºç¡€çš„ IP åè®®ä¹‹ä¸Šï¼ˆIP åè®®ä¸º TCP æä¾›äº†ä¸€ç§å‘é€å’Œæ¥æ”¶ä¸å®šé•¿æ•°æ®çš„æ–¹å¼ã€‚ï¼‰internetæ•°æ®æŠ¥æä¾›äº†ä¸€ç§åœ¨ä¸åŒç½‘ç»œä¸­å¯»å€æº tcp å’Œç›®æ ‡ tcp çš„æ–¹æ³•ã€‚","categories":[{"name":"ç¿»è¯‘","slug":"ç¿»è¯‘","permalink":"https://rovast.github.io/categories/ç¿»è¯‘/"}],"tags":[{"name":"RFC","slug":"RFC","permalink":"https://rovast.github.io/tags/RFC/"}]},{"title":"php-class","slug":"php-class","date":"2019-05-03T16:28:51.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/05/03/php-class/","link":"","permalink":"https://rovast.github.io/2019/05/03/php-class/","excerpt":"","text":"PHP é¢å‘å¯¹è±¡çš„ç±»å‹ æ™®é€šç±» class æŠ½è±¡ç±» abstract class æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ– æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰å…·ä½“å®ç° æ¥å£ interface æ™®é€šç±»ç»§æ‰¿æ¥å£ï¼Œå¿…é¡»å®ç°æ¥å£æ‰€æœ‰æ–¹æ³• æ¥å£ç±»ä¸­å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯å…±æœ‰ã€‚åŒæ—¶ï¼Œå®ç°æ–¹ä¹Ÿéƒ½æ˜¯å…±æœ‰ ç‰¹æ€§ trait å¦‚æœæœ‰å†²çªï¼Œé€šè¿‡ instead of å®šä¹‰ä¼˜å…ˆçº§ï¼Œæˆ–è€…ä½¿ç”¨ as å®šä¹‰åˆ«å ä¹Ÿå¯ä»¥ä½¿ç”¨ as ä¿®æ”¹è®¿é—®çº§åˆ« 12345678910class A&#123; use TraitA &#123; function1 as private; &#125;; use TraitB &#123; TraitB-&gt;function1 as functionB; &#125;;&#125; finalç±» final ä½¿ç”¨ final ä¿®é¥°ç±»æˆ–è€…æ–¹æ³•ï¼Œåˆ™ç±»ä¸èƒ½å†è¢«ç»§æ‰¿ï¼Œæ–¹æ³•ä¸èƒ½å†è¢«è¦†ç›– åŒ¿åç±» new class{} å¿«é€Ÿåˆ›å»ºåŒ¿åç±»ï¼Œä¸èƒ½æœ‰ç±»å","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"php","slug":"php","permalink":"https://rovast.github.io/tags/php/"}]},{"title":"docker+gdb è°ƒè¯• PHP æºç ï¼Œçœ‹ strval å‡½æ•° C å®ç°","slug":"php-strval-in-c","date":"2019-04-18T18:49:43.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/04/18/php-strval-in-c/","link":"","permalink":"https://rovast.github.io/2019/04/18/php-strval-in-c/","excerpt":"","text":"php strval å‡½æ•°çš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ä½ ç»™ä»–ä¸€ä¸ªå€¼ï¼Œä»–ç»™ä½ è¿”å›å­—ç¬¦ä¸²ç±»å‹ã€‚ ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å‡½æ•°äº†ï¼Œæˆ‘ä»¬æ¥é€šè¿‡ gdb æ¥ä¸€æ¢ç©¶ç«Ÿã€‚ é€šè¿‡æœ¬æ–‡ï¼Œä½ å¯ä»¥çª¥æ¢ä¸‹ gdb çš„ç®€å•ä½¿ç”¨ gdb gui æ¨¡å¼åˆæ¢ çœ‹çœ‹å¹³æ—¶å†™çš„ PHP ä»£ç åœ¨ C è¯­è¨€é‡Œçš„æ ·å­ å¯¹ä½¿ç”¨ gdb è°ƒè¯• php ä»£ç æœ‰ä¸ªåˆæ­¥äº†è§£ å¯¹äº†ï¼Œæ–‡æœ«æœ‰ä¸€äº›æˆªå›¾ï¼Œä¸è¦é”™è¿‡ é‡‡è´­é£Ÿæ ç”µè„‘ä¸€å° docker å’Œ docker-compose gdb ä¹Ÿå¥½ï¼Œ PHP ä¹Ÿå¥½ï¼Œéƒ½æ‰“åŒ…æˆ docker é•œåƒå•¦ï¼Œå¼€è¢‹å³é£Ÿï¼Œç”šå¥½ã€‚ å¤‡èœç¯èŠ‚1ã€ä½¿ç”¨ docker æ‹‰å–ç¯å¢ƒ12345678# æ‹‰å–å‡†å¤‡å¥½çš„ç¯å¢ƒgit clone https://github.com/rovast/docker-examples.git# è¿›å…¥é¡¹ç›®cd docker-examples/gdb-php-src/# å¯åŠ¨ï¼Œä¼šç»å†ä¸€ä¸ªæ¼«é•¿åˆä¸å¤ªæ¼«é•¿çš„ç­‰å¾…ï¼Œçœ‹ä½ ç½‘é€Ÿdocker-compose up -d å…³äºå®¹å™¨å†…çš„ç¯å¢ƒï¼Œå¤§å®¶å¯ä»¥çœ‹çœ‹ dockerfile å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯åŸºäº gcc å®˜æ–¹é•œåƒæ„å»ºï¼Œç„¶åå¢åŠ äº† vim gdbï¼Œå¹¶ä¸”ä¸‹è½½äº† php7.0.0 çš„æºç ï¼ŒæŒ‰ç…§ debug å‚æ•°è¿›è¡Œç¼–è¯‘ æ˜¾ç¤ºå¦‚ä¸‹ 12Creating network &quot;gdb-php-src_default&quot; with the default driverCreating gdb-php-src ... done 2ã€è¿›å…¥å®¹å™¨1234docker exec -it gdb-php-src bash### æ˜¾ç¤ºä¸‹é¢çš„ä¸œè¥¿ï¼Œè¡¨ç¤ºä½ å·²ç»è¿›å…¥åˆ°å®¹å™¨å†…äº† ####root@71a98d1bc1a6:/home# æˆ‘ä»¬çœ‹çœ‹å®¹å™¨å†…çš„ç¯å¢ƒï¼ˆphp ä»¥åŠ gdbï¼‰ 1234567891011121314151617181920212223242526### æˆ‘ä»¬åœ¨å®¹å™¨å†…çœ‹çœ‹ç¯å¢ƒroot@71a98d1bc1a6:/home# lsphp-7.0.0 start.mdroot@71a98d1bc1a6:/home# gdb -vGNU gdb (Debian 7.12-6) 7.12.0.20161007-gitCopyright (C) 2016 Free Software Foundation, Inc.License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law. Type \"show copying\"and \"show warranty\" for details.This GDB was configured as \"x86_64-linux-gnu\".Type \"show configuration\" for configuration details.For bug reporting instructions, please see:&lt;http://www.gnu.org/software/gdb/bugs/&gt;.Find the GDB manual and other documentation resources online at:&lt;http://www.gnu.org/software/gdb/documentation/&gt;.For help, type \"help\".Type \"apropos word\" to search for commands related to \"word\".root@71a98d1bc1a6:/home# php -vPHP 7.0.0 (cli) (built: Apr 17 2019 13:33:30) ( NTS DEBUG )Copyright (c) 1997-2015 The PHP GroupZend Engine v3.0.0, Copyright (c) 1998-2015 Zend Technologiesroot@71a98d1bc1a6:/home# å¼€ç«ï¼ˆè¯·åœ¨å®¹å™¨å†…æ“ä½œï¼‰1ã€æ–°å»ºæµ‹è¯•æ–‡ä»¶1root@71a98d1bc1a6:/home# vi test.php è¾“å…¥ä»¥ä¸‹å†…å®¹123&lt;?phpstrval(1234); è¿™ä¸ªæ–‡ä»¶å¹²çš„äº‹æƒ…å°±æ¯”è¾ƒç®€å•äº†ï¼Œå°±æ˜¯æŠŠ -1234[æ•´å½¢] è½¬æ¢ä¸º -1234[å­—ç¬¦ä¸²] 2ã€å¼€å§‹è°ƒè¯•ï¼Œè¿›å…¥ gdbæ¥ä¸‹æ¥è½¦é€Ÿè¾ƒå¿«ï¼Œå„ä½æŒ‰æ­¥éª¤è·Ÿä¸Š è¾“å…¥ gdb phpï¼Œå¼€å§‹è°ƒè¯• 1234567891011121314151617root@71a98d1bc1a6:/home# gdb phpGNU gdb (Debian 7.12-6) 7.12.0.20161007-gitCopyright (C) 2016 Free Software Foundation, Inc.License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law. Type \"show copying\"and \"show warranty\" for details.This GDB was configured as \"x86_64-linux-gnu\".Type \"show configuration\" for configuration details.For bug reporting instructions, please see:&lt;http://www.gnu.org/software/gdb/bugs/&gt;.Find the GDB manual and other documentation resources online at:&lt;http://www.gnu.org/software/gdb/documentation/&gt;.For help, type \"help\".Type \"apropos word\" to search for commands related to \"word\"...Reading symbols from php...done.(gdb) 3ã€æ‰“ä¸€äº›æ–­ç‚¹ï¼ˆæ•²å‘½ä»¤æ—¶å¯ä»¥ç”¨ tab è¡¥å…¨ï¼‰12345(gdb) b zend_long_to_strBreakpoint 1 at 0x810423: file /home/php-7.0.0/Zend/zend_operators.c, line 2743.(gdb) b zend_print_ulong_to_bufBreakpoint 2 at 0x5f387b: zend_print_ulong_to_buf. (13 locations)(gdb) è¿™é‡Œåœ¨å…³é”®å‡½æ•° zend_long_to_str å’Œ zend_print_ulong_to_buf æ‰“äº†æ–­ç‚¹ã€‚ b åœ¨ gdb ä¸­æ˜¯ breakpoint ç¼©å†™ï¼Œåé¢å¯ä»¥åŠ å‡½æ•°åï¼Œæˆ–è€…å½“å‰æ–‡ä»¶çš„è¡Œå·éƒ½æ˜¯å¯ä»¥çš„ 4ã€æ‰§è¡Œï¼ŒæŸ¥çœ‹æ–­ç‚¹å€¼123456789101112131415161718(gdb) r test.php # æ‰§è¡Œæˆ‘ä»¬åˆšæ‰çš„é‚£ä¸ª PHP æ–‡ä»¶Starting program: /usr/local/bin/php test.php[Thread debugging using libthread_db enabled]Using host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".warning: File \"/usr/local/lib64/libstdc++.so.6.0.25-gdb.py\" auto-loading has been declined by your `auto-load safe-path' set to \"$debugdir:$datadir/auto-load\".To enable execution of this file add add-auto-load-safe-path /usr/local/lib64/libstdc++.so.6.0.25-gdb.pyline to your configuration file \"/root/.gdbinit\".To completely disable this security protection add set auto-load safe-path /line to your configuration file \"/root/.gdbinit\".For more information about this security protection see the\"Auto-loading safe path\" section in the GDB manual. E.g., run from the shell: info \"(gdb)Auto-loading safe path\"Breakpoint 1, zend_long_to_str (num=-1234) at /home/php-7.0.0/Zend/zend_operators.c:27432743 char *res = zend_print_long_to_buf(buf + sizeof(buf) - 1, num);(gdb) çœ‹çš„å¥½åƒä¸æ˜äº†å˜›ï¼Œ ctrl + x åå†æŒ‰ a è¿›å…¥ gui æ¨¡å¼çœ‹çœ‹ 123456789101112131415161718192021222324252627282930313233 â”Œâ”€â”€/home/php-7.0.0/Zend/zend_operators.câ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚2731 ZEND_API void ZEND_FASTCALL zend_locale_sprintf_double(zval *op ZEND_FILE_LINE_DC) /* &#123;&#123;&#123; */ â”‚ â”‚2732 &#123; â”‚ â”‚2733 zend_string *str; â”‚ â”‚2734 â”‚ â”‚2735 str = zend_strpprintf(0, \"%.*G\", (int) EG(precision), (double)Z_DVAL_P(op)); â”‚ â”‚2736 ZVAL_NEW_STR(op, str); â”‚ â”‚2737 &#125; â”‚ â”‚2738 /* &#125;&#125;&#125; */ â”‚ â”‚2739 â”‚ â”‚2740 ZEND_API zend_string* ZEND_FASTCALL zend_long_to_str(zend_long num) /* &#123;&#123;&#123; */ â”‚ â”‚2741 &#123; â”‚ â”‚2742 char buf[MAX_LENGTH_OF_LONG + 1]; â”‚B+&gt;â”‚2743 char *res = zend_print_long_to_buf(buf + sizeof(buf) - 1, num); â”‚ â”‚2744 return zend_string_init(res, buf + sizeof(buf) - 1 - res, 0); â”‚ â”‚2745 &#125; â”‚ â”‚2746 /* &#125;&#125;&#125; */ â”‚ â”‚2747 â”‚ â”‚2748 ZEND_API zend_uchar ZEND_FASTCALL is_numeric_str_function(const zend_string *str, zend_long *lval, double *dval) /* &#123;&#123;&#123; */ &#123; â”‚ â”‚2749 return is_numeric_string_ex(ZSTR_VAL(str), ZSTR_LEN(str), lval, dval, -1, NULL); â”‚ â”‚2750 &#125; â”‚ â”‚2751 /* &#125;&#125;&#125; */ â”‚ â”‚2752 â”‚ â”‚2753 ZEND_API zend_uchar ZEND_FASTCALL _is_numeric_string_ex(const char *str, size_t length, zend_long *lval, double *dval, int alloâ”‚ â”‚2754 &#123; â”‚ â”‚2755 const char *ptr; â”‚ â”‚2756 int digits = 0, dp_or_e = 0; â”‚ â”‚2757 double local_dval = 0.0; â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜multi-thre Thread 0x7ffff7fe37 In: zend_long_to_str L2743 PC: 0x810423(gdb) æœ‰ç‚¹æ„æ€äº†ï¼Œå‡½æ•°åœ¨ 2743 è¡Œæ–­ä½äº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ num çš„å€¼ 123(gdb) p num$1 = -1234(gdb) å¯¹å˜›ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦å¤„ç†çš„å€¼ï¼Œæˆ‘ä»¬å…¨é€Ÿè¿è¡Œåˆ° zend_print_long_to_buf é‡Œçœ‹çœ‹ 12(gdb) cContinuing. æ˜¾ç¤ºå¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031(gdb) c â”Œâ”€â”€/home/php-7.0.0/Zend/zend_operators.hâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚781 else \\ â”‚ â”‚782 ZEND_TRY_BINARY_OP2_OBJECT_OPERATION(opcode) â”‚ â”‚783 â”‚ â”‚784 #define ZEND_TRY_UNARY_OBJECT_OPERATION(opcode) \\ â”‚ â”‚785 if (UNEXPECTED(Z_TYPE_P(op1) == IS_OBJECT) \\ â”‚ â”‚786 &amp;&amp; UNEXPECTED(Z_OBJ_HANDLER_P(op1, do_operation)) \\ â”‚ â”‚787 &amp;&amp; EXPECTED(SUCCESS == Z_OBJ_HANDLER_P(op1, do_operation)(opcode, result, op1, NULL))) &#123; \\ â”‚ â”‚788 return SUCCESS; \\ â”‚ â”‚789 &#125; â”‚ â”‚790 â”‚ â”‚791 /* buf points to the END of the buffer */ â”‚ â”‚792 static zend_always_inline char *zend_print_ulong_to_buf(char *buf, zend_ulong num) &#123; â”‚B+&gt;â”‚793 *buf = '\\0'; â”‚ â”‚794 do &#123; â”‚ â”‚795 *--buf = (char) (num % 10) + '0'; â”‚ â”‚796 num /= 10; â”‚ â”‚797 &#125; while (num &gt; 0); â”‚ â”‚798 return buf; â”‚ â”‚799 &#125; â”‚ â”‚800 â”‚ â”‚801 /* buf points to the END of the buffer */ â”‚ â”‚802 static zend_always_inline char *zend_print_long_to_buf(char *buf, zend_long num) &#123; â”‚ â”‚803 if (num &lt; 0) &#123; â”‚ â”‚804 char *result = zend_print_ulong_to_buf(buf, ~((zend_ulong) num) + 1); â”‚ â”‚805 *--result = '-'; â”‚ â”‚806 return result; â”‚ â”‚807 &#125; else &#123; â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜multi-thre Thread 0x7ffff7fe37 In: zend_print_ulong_to_buf L793 PC: 0x8041fd æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è¿›è¡Œä¸€äº›å•æ­¥è°ƒè¯•ï¼Œçœ‹çœ‹å†…å­˜é‡Œçš„å€¼ 1234567891011121314151617Breakpoint 1, zend_long_to_str (num=-1234) at /home/php-7.0.0/Zend/zend_operators.c:2743(gdb) c #-------------&gt; è¡¨ç¤ºç»§ç»­æ‰§è¡ŒContinuing.Breakpoint 2, zend_print_ulong_to_buf (buf=0x7fffffffafe4 \"\", num=1234) at /home/php-7.0.0/Zend/zend_operators.h:793(gdb) b 798 #-------------&gt; 798è¡Œæ‰“ä¸ªæ–­ç‚¹Breakpoint 6 at 0x5f38e2: /home/php-7.0.0/Zend/zend_operators.h:798. (13 locations)(gdb) c Continuing.Breakpoint 6, zend_print_ulong_to_buf (buf=0x7fffffffafe0 \"1234\", num=0) at /home/php-7.0.0/Zend/zend_operators.h:798(gdb) p buf #-------------&gt; æŸ¥çœ‹ buf çš„å€¼$2 = 0x7fffffffafe0 \"1234\"(gdb) x/10c buf #-------------&gt; æŸ¥çœ‹ buf ä½ç½®å¼€å§‹ï¼Œè¿ç»­ 10 ä¸ªä»¥ char ä¸ºå•ä½çš„å†…å­˜å€¼0x7fffffffafe0: 49 '1' 50 '2' 51 '3' 52 '4' 0 '\\000' 0 '\\000' 0 '\\000' 0 '\\000'0x7fffffffafe8: 0 '\\000' 65 'A'(gdb) æˆ‘ä»¬çœ‹åˆ°ï¼Œå‡½æ•°è¿”å›çš„ buf æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ â€˜1234â€™ æˆ‘ä»¬çœ‹çœ‹å‡½æ•° zend_print_ulong_to_bufï¼Œå…¶å®å°±æ˜¯ä»é«˜ä½åˆ°ä½ä½ï¼ŒæŒ‰ä¸ªå–æ¨¡ï¼ˆé™¤ä»¥10ï¼Œå–æ•´æ•°éƒ¨åˆ†ï¼‰ï¼Œç„¶åå¡åˆ° buf ç¼“å†²åŒºã€‚ æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ï¼Œbuf åˆå§‹åŒ–çš„æ—¶å€™æŒ‡å‘çš„æ˜¯ç¼“å†²åŒºçš„æœ«å°¾ï¼Œæ‰€ä»¥å¡«å……çš„æ—¶å€™é«˜ä½åœ¨æœ€åï¼Œç„¶åé€æ­¥å¾€å‰å¡«å……ä½ä½ã€‚ æœ€åç»“æŸçš„æ—¶å€™ï¼Œbuf å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²ç±»å®¹äº† æ¶ˆåŒ–å…¶å®ï¼Œæœ¬æ–‡å°±æ˜¯ä½¿ç”¨ gdb è°ƒè¯•äº† PHP ä»£ç ï¼Œä»…æ­¤è€Œå·²ã€‚ æ›´å¤šçš„æ˜¯ç»™å¤§å®¶æä¾›äº†ä¸€ä¸ªç›´æ¥ä¸Šæ‰‹ç©ç©çš„æœºä¼šï¼Œä½ æ‰€éœ€è¦çš„åªæ˜¯ä¸ª dockerï¼Œç„¶ååŠ¨åŠ¨æ‰‹è°ƒè¯•ï¼Œå¾ˆæœ‰æ„æ€ã€‚ åŠ¨æ‰‹è¯•è¯•å§ï¼Œç”šè‡³ï¼Œå»çœ‹ C æºç å§ï¼ é™„å½•æ”¾å›¾çš„æ—¶é—´åˆ°äº†","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://rovast.github.io/tags/PHP/"}]},{"title":"ã€è½¬ã€‘å†™å…¥æ—¶å¤åˆ¶","slug":"Copy-on-write","date":"2019-04-08T15:29:17.000Z","updated":"2021-03-20T09:12:44.324Z","comments":true,"path":"2019/04/08/Copy-on-write/","link":"","permalink":"https://rovast.github.io/2019/04/08/Copy-on-write/","excerpt":"","text":"å†™å…¥æ—¶å¤åˆ¶ï¼ˆè‹±è¯­ï¼šCopy-on-writeï¼Œç®€ç§°COWï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºç¨‹å¼è®¾è®¡é¢†åŸŸçš„ä¼˜åŒ–ç­–ç•¥ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå¦‚æœæœ‰å¤šä¸ªå‘¼å«è€…ï¼ˆcallersï¼‰åŒæ—¶è¯·æ±‚ç›¸åŒèµ„æºï¼ˆå¦‚å†…å­˜æˆ–ç£ç›˜ä¸Šçš„æ•°æ®å­˜å‚¨ï¼‰ï¼Œä»–ä»¬ä¼šå…±åŒå–å¾—ç›¸åŒçš„æŒ‡æ ‡æŒ‡å‘ç›¸åŒçš„èµ„æºï¼Œç›´åˆ°æŸä¸ªå‘¼å«è€…è¯•å›¾ä¿®æ”¹èµ„æºçš„å†…å®¹æ—¶ï¼Œç³»ç»Ÿæ‰ä¼šçœŸæ­£å¤åˆ¶ä¸€ä»½ä¸“ç”¨å‰¯æœ¬ï¼ˆprivate copyï¼‰ç»™è¯¥å‘¼å«è€…ï¼Œè€Œå…¶ä»–å‘¼å«è€…æ‰€è§åˆ°çš„æœ€åˆçš„èµ„æºä»ç„¶ä¿æŒä¸å˜ã€‚è¿™è¿‡ç¨‹å¯¹å…¶ä»–çš„å‘¼å«è€…éƒ½æ˜¯é€æ˜çš„ï¼ˆtransparentlyï¼‰ã€‚æ­¤ä½œæ³•ä¸»è¦çš„ä¼˜ç‚¹æ˜¯å¦‚æœå‘¼å«è€…æ²¡æœ‰ä¿®æ”¹è¯¥èµ„æºï¼Œå°±ä¸ä¼šæœ‰å‰¯æœ¬ï¼ˆprivate copyï¼‰è¢«å»ºç«‹ï¼Œå› æ­¤å¤šä¸ªå‘¼å«è€…åªæ˜¯è¯»å–æ“ä½œæ—¶å¯ä»¥å…±äº«åŒä¸€ä»½èµ„æºã€‚ åº”ç”¨è™šæ‹Ÿå†…å­˜ç®¡ç†ä¸­çš„å†™æ—¶å¤åˆ¶ä¸€èˆ¬æŠŠè¿™ç§è¢«å…±äº«è®¿é—®çš„é¡µé¢æ ‡è®°ä¸ºåªè¯»ã€‚å½“ä¸€ä¸ªtaskè¯•å›¾å‘å†…å­˜ä¸­å†™å…¥æ•°æ®æ—¶ï¼Œå†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå†…æ ¸å¤„ç†è¯¥å¼‚å¸¸æ—¶ä¸ºè¯¥taskåˆ†é…ä¸€ä»½ç‰©ç†å†…å­˜å¹¶å¤åˆ¶æ•°æ®åˆ°æ­¤å†…å­˜ï¼Œé‡æ–°å‘MMUå‘å‡ºæ‰§è¡Œè¯¥taskçš„å†™æ“ä½œã€‚ æ•°æ®å­˜å‚¨ä¸­çš„å†™æ—¶å¤åˆ¶Linuxç­‰çš„æ–‡ä»¶ç®¡ç†ç³»ç»Ÿä½¿ç”¨äº†å†™æ—¶å¤åˆ¶ç­–ç•¥ã€‚ æ•°æ®åº“æœåŠ¡å™¨ä¹Ÿä¸€èˆ¬é‡‡ç”¨äº†å†™æ—¶å¤åˆ¶ç­–ç•¥ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä»½snapshotã€‚ è½¯ä»¶åº”ç”¨ä¸­çš„å†™æ—¶å¤åˆ¶C++æ ‡å‡†ç¨‹åºåº“ä¸­çš„std::string)ç±»ï¼Œåœ¨C++98/C++03æ ‡å‡†ä¸­æ˜¯å…è®¸å†™æ—¶å¤åˆ¶ç­–ç•¥ã€‚ä½†åœ¨C++11æ ‡å‡†ä¸­ä¸ºäº†æé«˜å¹¶è¡Œæ€§å–æ¶ˆäº†è¿™ä¸€ç­–ç•¥ã€‚[1] GCCä»ç‰ˆæœ¬5å¼€å§‹ï¼Œstd::stringä¸å†é‡‡ç”¨COWç­–ç•¥ã€‚ å‚è€ƒæ–‡çŒ® ^ Concurrency Modifications to Basic String. Open Standards. [2015-02-13].","categories":[{"name":"wiki","slug":"wiki","permalink":"https://rovast.github.io/categories/wiki/"}],"tags":[{"name":"wiki","slug":"wiki","permalink":"https://rovast.github.io/tags/wiki/"}]},{"title":"ã€è½¬ã€‘ å­—èŠ‚é¡ºåº","slug":"Endianness","date":"2019-04-08T15:21:48.000Z","updated":"2021-03-20T09:12:44.324Z","comments":true,"path":"2019/04/08/Endianness/","link":"","permalink":"https://rovast.github.io/2019/04/08/Endianness/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼š https://www.wikiwand.com/zh-hans/%E5%AD%97%E8%8A%82%E5%BA%8F â€“ å­—èŠ‚é¡ºåº å­—èŠ‚æœ€ä½æœ‰æ•ˆä½å­˜å‚¨å™¨ å­—èŠ‚é¡ºåºï¼Œåˆç§°ç«¯åºæˆ–å°¾åºï¼ˆè‹±è¯­ï¼šEndiannessï¼‰ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸä¸­ï¼ŒæŒ‡å­˜å‚¨å™¨ä¸­æˆ–åœ¨æ•°å­—é€šä¿¡é“¾è·¯ä¸­ï¼Œç»„æˆå¤šå­—èŠ‚çš„å­—)çš„å­—èŠ‚çš„æ’åˆ—é¡ºåºã€‚ åœ¨å‡ ä¹æ‰€æœ‰çš„æœºå™¨ä¸Šï¼Œå¤šå­—èŠ‚å¯¹è±¡éƒ½è¢«å­˜å‚¨ä¸ºè¿ç»­çš„å­—èŠ‚åºåˆ—ã€‚ä¾‹å¦‚åœ¨Cè¯­è¨€ä¸­ï¼Œä¸€ä¸ªç±»å‹ä¸ºintçš„å˜é‡xåœ°å€ä¸º0x100ï¼Œé‚£ä¹ˆå…¶å¯¹åº”åœ°å€è¡¨è¾¾å¼&amp;xçš„å€¼ä¸º0x100ã€‚ä¸”xçš„å››ä¸ªå­—èŠ‚å°†è¢«å­˜å‚¨åœ¨å­˜å‚¨å™¨çš„0x100, 0x101, 0x102, 0x103ä½ç½®ã€‚[1] å­—èŠ‚çš„æ’åˆ—æ–¹å¼æœ‰ä¸¤ä¸ªé€šç”¨è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¤šä½çš„æ•´æ•°ï¼ŒæŒ‰ç…§å­˜å‚¨åœ°å€ä»ä½åˆ°é«˜æ’åºçš„å­—èŠ‚ä¸­ï¼Œå¦‚æœè¯¥æ•´æ•°çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚ï¼ˆç±»ä¼¼äºæœ€ä½æœ‰æ•ˆä½ï¼‰åœ¨æœ€é«˜æœ‰æ•ˆå­—èŠ‚çš„å‰é¢ï¼Œåˆ™ç§°å°ç«¯åºï¼›åä¹‹åˆ™ç§°å¤§ç«¯åºã€‚åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œå­—èŠ‚åºæ˜¯ä¸€ä¸ªå¿…é¡»è¢«è€ƒè™‘çš„å› ç´ ï¼Œå› ä¸ºä¸åŒæœºå™¨ç±»å‹å¯èƒ½é‡‡ç”¨ä¸åŒæ ‡å‡†çš„å­—èŠ‚åºï¼Œæ‰€ä»¥å‡æŒ‰ç…§ç½‘ç»œæ ‡å‡†è½¬åŒ–ã€‚ ä¾‹å¦‚å‡è®¾ä¸Šè¿°å˜é‡xç±»å‹ä¸ºintï¼Œä½äºåœ°å€0x100å¤„ï¼Œå®ƒçš„åå…­è¿›åˆ¶ä¸º0x01234567ï¼Œåœ°å€èŒƒå›´ä¸º0x100~0x103å­—èŠ‚ï¼Œå…¶å†…éƒ¨æ’åˆ—é¡ºåºä¾èµ–äºæœºå™¨çš„ç±»å‹ã€‚å¤§ç«¯æ³•ä»é¦–ä½å¼€å§‹å°†æ˜¯ï¼š0x100: 01, 0x101: 23,..ã€‚è€Œå°ç«¯æ³•å°†æ˜¯ï¼š0x100: 67, 0x101: 45,..ã€‚ ç«¯ï¼ˆendianï¼‰çš„èµ·æºâ€œendianâ€ä¸€è¯æ¥æºäºåå…«ä¸–çºªçˆ±å°”å…°ä½œå®¶ä¹”çº³æ£®Â·æ–¯å¨å¤«ç‰¹ï¼ˆJonathan Swiftï¼‰çš„å°è¯´ã€Šæ ¼åˆ—ä½›æ¸¸è®°ã€‹ï¼ˆGulliverâ€™s Travelsï¼‰ã€‚å°è¯´ä¸­ï¼Œå°äººå›½ä¸ºæ°´ç…®è›‹è¯¥ä»å¤§çš„ä¸€ç«¯ï¼ˆBig-Endï¼‰å‰¥å¼€è¿˜æ˜¯å°çš„ä¸€ç«¯ï¼ˆLittle-Endï¼‰å‰¥å¼€è€Œäº‰è®ºï¼Œäº‰è®ºçš„åŒæ–¹åˆ†åˆ«è¢«ç§°ä¸ºâ€œå¤§ç«¯æ´¾â€å’Œâ€œå°ç«¯æ´¾â€ã€‚ä»¥ä¸‹æ˜¯1726å¹´å…³äºå¤§å°ç«¯ä¹‹äº‰å†å²çš„æè¿°ï¼š â€œ æˆ‘ä¸‹é¢è¦å‘Šè¯‰ä½ çš„æ˜¯ï¼ŒLilliputå’ŒBlefuscuè¿™ä¸¤å¤§å¼ºå›½åœ¨è¿‡å»36ä¸ªæœˆé‡Œä¸€ç›´åœ¨è‹¦æˆ˜ã€‚æˆ˜äº‰å¼€å§‹æ˜¯ç”±äºä»¥ä¸‹çš„åŸå› ï¼šæˆ‘ä»¬å¤§å®¶éƒ½è®¤ä¸ºï¼Œåƒé¸¡è›‹å‰ï¼ŒåŸå§‹çš„æ–¹æ³•æ˜¯æ‰“ç ´é¸¡è›‹è¾ƒå¤§çš„ä¸€ç«¯ï¼Œå¯æ˜¯å½“ä»Šçš‡å¸çš„ç¥–çˆ¶å°æ—¶å€™åƒé¸¡è›‹ï¼Œä¸€æ¬¡æŒ‰å¤æ³•æ‰“é¸¡è›‹æ—¶ç¢°å·§å°†ä¸€ä¸ªæ‰‹æŒ‡å¼„ç ´äº†ã€‚å› æ­¤ä»–çš„çˆ¶äº²ï¼Œå½“æ—¶çš„çš‡å¸ï¼Œå°±ä¸‹äº†ä¸€é“æ••ä»¤ï¼Œå‘½ä»¤å…¨ä½“è‡£æ°‘åƒé¸¡è›‹æ—¶æ‰“ç ´é¸¡è›‹è¾ƒå°çš„ä¸€ç«¯ï¼Œè¿ä»¤è€…é‡ç½šã€‚è€ç™¾å§“ä»¬å¯¹è¿™é¡¹å‘½ä»¤æå…¶åæ„Ÿã€‚å†å²å‘Šè¯‰æˆ‘ä»¬ï¼Œç”±æ­¤æ›¾ç»å‘ç”Ÿè¿‡6æ¬¡å›ä¹±ï¼Œå…¶ä¸­ä¸€ä¸ªçš‡å¸é€äº†å‘½ï¼Œå¦ä¸€ä¸ªä¸¢äº†ç‹ä½ã€‚è¿™äº›å›ä¹±å¤§å¤šéƒ½æ˜¯ç”±Blefuscuçš„å›½ç‹å¤§è‡£ä»¬ç…½åŠ¨èµ·æ¥çš„ã€‚å›ä¹±å¹³æ¯åï¼Œæµäº¡çš„äººæ€»æ˜¯é€ƒåˆ°é‚£ä¸ªå¸å›½å»å¯»æ±‚é¿éš¾ã€‚æ®ä¼°è®¡ï¼Œå…ˆåå‡ æ¬¡æœ‰11000äººæƒ…æ„¿å—æ­»ä¹Ÿä¸è‚¯å»æ‰“ç ´é¸¡è›‹è¾ƒå°çš„ä¸€ç«¯ã€‚å…³äºè¿™ä¸€äº‰ç«¯ï¼Œæ›¾å‡ºç‰ˆè¿‡å‡ ç™¾æœ¬å¤§éƒ¨è‘—ä½œï¼Œä¸è¿‡å¤§ç«¯æ´¾çš„ä¹¦ä¸€ç›´æ˜¯å—ç¦çš„ï¼Œæ³•å¾‹ä¹Ÿè§„å®šè¯¥æ´¾ä»»ä½•äººä¸å¾—åšå®˜ã€‚â€ â€ â€”â€” ã€Šæ ¼åˆ—å¤«æ¸¸è®°ã€‹ ç¬¬ä¸€å·ç¬¬4ç«  è’‹å‰‘é”‹ï¼ˆè¯‘ï¼‰ 1980å¹´ï¼Œä¸¹å°¼Â·ç§‘æ©ï¼ˆDanny Cohenï¼‰ï¼Œä¸€ä½ç½‘ç»œåè®®çš„æ—©æœŸå¼€å‘è€…ï¼Œåœ¨å…¶è‘—åçš„è®ºæ–‡â€œOn Holy Wars and a Plea for Peaceâ€œä¸­ï¼Œä¸ºå¹³æ¯ä¸€åœºå…³äºå­—èŠ‚è¯¥ä»¥ä»€ä¹ˆæ ·çš„é¡ºåºä¼ é€çš„äº‰è®ºï¼Œè€Œç¬¬ä¸€æ¬¡å¼•ç”¨äº†è¯¥è¯ã€‚[2] å­—èŠ‚é¡ºåºåœ¨å“ªç§å­—èŠ‚é¡ºåºæ›´åˆé€‚çš„é—®é¢˜ä¸Šï¼Œäººä»¬è¡¨ç°å¾—éå¸¸æƒ…ç»ªåŒ–ï¼Œå®é™…ä¸Šï¼Œå°±åƒé¸¡è›‹çš„é—®é¢˜ä¸€æ ·ï¼Œæ²¡æœ‰æŠ€æœ¯ä¸Šçš„åŸå› æ¥é€‰æ‹©å­—èŠ‚é¡ºåºè§„åˆ™ï¼Œå› æ­¤ï¼Œäº‰è®ºæ²¦ä¸ºå…³äºç¤¾ä¼šæ”¿æ²»é—®é¢˜çš„äº‰è®ºï¼Œåªè¦é€‰æ‹©äº†ä¸€ç§è§„åˆ™å¹¶ä¸”å§‹ç»ˆå¦‚ä¸€åœ°åšæŒï¼Œå…¶å®å¯¹äºå“ªç§å­—èŠ‚æ’åºçš„é€‰æ‹©æ˜¯ä»»æ„çš„ã€‚ å¯¹äºå•ä¸€çš„å­—èŠ‚ï¼ˆa byteï¼‰ï¼Œå¤§éƒ¨åˆ†å¤„ç†å™¨ä»¥ç›¸åŒçš„é¡ºåºå¤„ç†ä½å…ƒï¼ˆbitï¼‰ï¼Œå› æ­¤å•å­—èŠ‚çš„å­˜æ”¾æ–¹æ³•å’Œä¼ è¾“æ–¹å¼ä¸€èˆ¬ç›¸åŒã€‚ å¯¹äºå¤šå­—èŠ‚æ•°æ®ï¼Œå¦‚æ•´æ•°ï¼ˆ32ä½æœºä¸­ä¸€èˆ¬å 4å­—èŠ‚ï¼‰ï¼Œåœ¨ä¸åŒçš„å¤„ç†å™¨çš„å­˜æ”¾æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼Œä»¥å†…å­˜ä¸­0x0A0B0C0Dçš„å­˜æ”¾æ–¹å¼ä¸ºä¾‹ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š å¤§ç«¯åºå¤§ç«¯åºï¼ˆè‹±ï¼šbig-endianï¼‰æˆ–ç§°å¤§å°¾åºã€‚ æ•°æ®ä»¥8bitä¸ºå•ä½: åœ°å€å¢é•¿æ–¹å‘ â†’ ... 0x0A 0x0B 0x0C 0x0D ... ç¤ºä¾‹ä¸­ï¼Œæœ€é«˜ä½å­—èŠ‚æ˜¯0x0A å­˜å‚¨åœ¨æœ€ä½çš„å†…å­˜åœ°å€å¤„ã€‚ä¸‹ä¸€ä¸ªå­—èŠ‚0x0Bå­˜åœ¨åé¢çš„åœ°å€å¤„ã€‚æ­£ç±»ä¼¼äºåå…­è¿›åˆ¶å­—èŠ‚ä»å·¦åˆ°å³çš„é˜…è¯»é¡ºåºã€‚ æ•°æ®ä»¥16bitä¸ºå•ä½: åœ°å€å¢é•¿æ–¹å‘ â†’ ... 0x0A0B 0x0C0D ... æœ€é«˜çš„16bitå•å…ƒ0x0A0Bå­˜å‚¨åœ¨ä½ä½ã€‚ å°ç«¯åºå°ç«¯åºï¼ˆè‹±ï¼šlittle-endianï¼‰æˆ–ç§°å°å°¾åºã€‚ æ•°æ®ä»¥8bitä¸ºå•ä½: åœ°å€å¢é•¿æ–¹å‘ â†’ ... 0x0D 0x0C 0x0B 0x0A ... æœ€ä½ä½å­—èŠ‚æ˜¯0x0D å­˜å‚¨åœ¨æœ€ä½çš„å†…å­˜åœ°å€å¤„ã€‚åé¢å­—èŠ‚ä¾æ¬¡å­˜åœ¨åé¢çš„åœ°å€å¤„ã€‚ æ•°æ®ä»¥16bitä¸ºå•ä½: åœ°å€å¢é•¿æ–¹å‘ â†’ ... 0x0C0D 0x0A0B ... æœ€ä½çš„16bitå•å…ƒ0x0C0Då­˜å‚¨åœ¨ä½ä½ã€‚ æ›´æ”¹åœ°å€çš„å¢é•¿æ–¹å‘: å½“æ›´æ”¹åœ°å€çš„å¢é•¿æ–¹å‘ï¼Œä½¿ä¹‹ç”±å³è‡³å·¦æ—¶ï¼Œè¡¨æ ¼æ›´å…·æœ‰å¯é˜…è¯»æ€§ã€‚ â† åœ°å€å¢é•¿æ–¹å‘ ... 0x0A 0x0B 0x0C 0x0D ... æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰æ˜¯0x0D å­˜å‚¨åœ¨æœ€ä½çš„å†…å­˜åœ°å€å¤„ã€‚åé¢å­—èŠ‚ä¾æ¬¡å­˜åœ¨åé¢çš„åœ°å€å¤„ã€‚ â† åœ°å€å¢é•¿æ–¹å‘ ... 0x0A0B 0x0C0D ... æœ€ä½çš„16bitå•å…ƒ0x0C0Då­˜å‚¨åœ¨ä½ä½ã€‚ æ··åˆåºæ··åˆåºï¼ˆè‹±ï¼šmiddle-endianï¼‰å…·æœ‰æ›´å¤æ‚çš„é¡ºåºã€‚ä»¥PDP-11ä¸ºä¾‹ï¼Œ0x0A0B0C0Dè¢«å­˜å‚¨ä¸ºï¼š 32bitåœ¨PDP-11çš„å­˜å‚¨æ–¹å¼ åœ°å€å¢é•¿æ–¹å‘ â†’ ... 0x0B 0x0A 0x0D 0x0C ... å¯ä»¥çœ‹ä½œé«˜16bitå’Œä½16bitä»¥å¤§ç«¯åºå­˜å‚¨ï¼Œä½†16bitå†…éƒ¨ä»¥å°ç«¯å­˜å‚¨ã€‚ å¤„ç†å™¨ä½“ç³» x86ã€MOS Technology 6502ã€Z80ã€VAXã€PDP-11ç­‰å¤„ç†å™¨ä¸ºå°ç«¯åºï¼› Motorola 6800ã€Motorola 68000ã€PowerPC 970ã€System/370ã€SPARCï¼ˆé™¤V9å¤–ï¼‰ç­‰å¤„ç†å™¨ä¸ºå¤§ç«¯åºï¼› ARMã€PowerPCï¼ˆé™¤PowerPC 970å¤–ï¼‰ã€DEC Alphaã€SPARC V9ã€MIPSã€PA-RISCåŠIA64çš„å­—èŠ‚åºæ˜¯å¯é…ç½®çš„ã€‚ ç½‘ç»œåºç½‘ç»œä¼ è¾“ä¸€èˆ¬é‡‡ç”¨å¤§ç«¯åºï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºç½‘ç»œå­—èŠ‚åºï¼Œæˆ–ç½‘ç»œåºã€‚IPåè®®ä¸­å®šä¹‰å¤§ç«¯åºä¸ºç½‘ç»œå­—èŠ‚åºã€‚ Berkeleyå¥—æ¥å­—å®šä¹‰äº†ä¸€ç»„è½¬æ¢å‡½æ•°ï¼Œç”¨äº16å’Œ32bitæ•´æ•°åœ¨ç½‘ç»œåºå’Œæœ¬æœºå­—èŠ‚åºä¹‹é—´çš„è½¬æ¢ã€‚htonlï¼Œhtonsç”¨äºæœ¬æœºåºè½¬æ¢åˆ°ç½‘ç»œåºï¼›ntohlï¼Œntohsç”¨äºç½‘ç»œåºè½¬æ¢åˆ°æœ¬æœºåºã€‚ ä½åºä¸€èˆ¬ç”¨äºæè¿°ä¸²è¡Œè®¾å¤‡çš„ä¼ è¾“é¡ºåºã€‚ç½‘ç»œåè®®ä¸­åªæœ‰æ•°æ®é“¾è·¯å±‚çš„åº•ç«¯ä¼šæ¶‰åŠåˆ°ã€‚ å°ç«¯åºï¼ˆå…ˆä¼ ä½ä½ï¼‰çš„ä¸²è¡Œåè®® RS-232 RS-422 RS-485 USB ä»¥å¤ªç½‘ï¼ˆè™½ç„¶é«˜å­—èŠ‚å…ˆä¼ ï¼Œä½†æ¯ä¸€å­—èŠ‚å†…ä½ä½å…ˆä¼ ï¼‰ å¤§ç«¯åºï¼ˆå…ˆä¼ é«˜ä½ï¼‰çš„ä¸²è¡Œåè®® I2Cåè®® SPIåè®® æ‘©å°”æ–¯ç”µç  å‚è§ æœ€é«˜æœ‰æ•ˆä½ æœ€ä½æœ‰æ•ˆä½ ç½‘ç»œåè®® å¤–éƒ¨é“¾æ¥ Endiançš„ç”±æ¥ White Paper: Endianness or Where is Byte 0?ï¼ˆè‹±æ–‡ï¼‰ Byte Ordering PPCï¼ˆè‹±æ–‡ï¼‰ The Layout of Data in Memoryï¼ˆè‹±æ–‡ï¼‰ Writing endian-independent code in Cï¼ˆè‹±æ–‡ï¼‰ How to convert an integer to little endian or big endianï¼ˆè‹±æ–‡ï¼‰ Understanding big and little endian byte orderï¼ˆè‹±æ–‡ï¼‰ Mandatory reading: ON HOLY WARS AND A PLEA FOR PEACEï¼ˆè‹±æ–‡ï¼‰ å‚è€ƒ ^ ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ ç¬¬2ç«  ä¿¡æ¯çš„è¡¨ç¤ºå’Œå¤„ç† P26. ^ ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ ç¬¬2ç«  ä¿¡æ¯çš„è¡¨ç¤ºå’Œå¤„ç† P27.","categories":[{"name":"wiki","slug":"wiki","permalink":"https://rovast.github.io/categories/wiki/"}],"tags":[{"name":"wiki","slug":"wiki","permalink":"https://rovast.github.io/tags/wiki/"}]},{"title":"virtualbox åœ¨ ubuntu ä¸­ä¸èƒ½æ­£å¸¸å¯åŠ¨çš„è§£å†³åŠæ³•","slug":"virtualbox-problems-in-ubuntu","date":"2019-04-04T09:53:06.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2019/04/04/virtualbox-problems-in-ubuntu/","link":"","permalink":"https://rovast.github.io/2019/04/04/virtualbox-problems-in-ubuntu/","excerpt":"","text":"é—®é¢˜æè¿°ï¼š vboxdrv.sh: failed: modprobe vboxdrv failed. Please use â€˜dmesgâ€™ to find out why è§£å†³æ­¥éª¤1. å®‰è£… virtualbox 2. è®¾ç½® RSA123456$ sudo -i# mkdir /root/module-signing# cd /root/module-signing# openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj \"/CN=YOUR_NAME/\"[...]# chmod 600 MOK.priv 3. å¯¼å…¥å•¥å•¥å•¥123# mokutil --import /root/module-signing/MOK.derinput password:input password again: 4.é‡å¯æœºå™¨ã€‚æ³¨æ„ï¼Œæ³¨æ„è§‚æµ‹å¼€æœºæ—¶çš„æç¤ºï¼Œéœ€è¦ press any keyã€‚ç„¶åé€‰æ‹© enable ...ï¼Œè¾“å…¥ä¸Šä¸€æ­¥çš„å¯†ç å³å¯ 5. æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ /root/module-signing/sign-vbox-modules 12345678#!/bin/bashfor modfile in $(dirname $(modinfo -n vboxdrv))/*.ko; do echo \"Signing $modfile\" /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 \\ /root/module-signing/MOK.priv \\ /root/module-signing/MOK.der \"$modfile\"done 1# chmod 700 /root/module-signing/sign-vbox-modules 6. å¯åŠ¨å•¥å•¥å•¥1# modprobe vboxdrv 7. å¦‚æœæ¯æ¬¡å†…æ ¸æ›´æ–°ï¼Œè®°å¾—å†æ‰§è¡Œ 6 å³å¯ 2019å¹´07æœˆ03æ—¥ è¡¥å……å¦‚æœæ‰§è¡Œä¸‹è¿°æŒ‡ä»¤æŠ¥é”™1# modprobe vboxdrv å°è¯•ä»¥ä¸‹æ–¹æ¡ˆ 12sudo apt updatesudo apt install --reinstall linux-headers-$(uname -r) virtualbox-dkms dkms 1sudo modprobe vboxdrv åº”è¯¥å°±å¯ä»¥äº†ã€‚ And if it doesnâ€™t work you must disable Secure Boot in your BIOS/UEFI settings because Secure Boot prevents unsigned modules from being loaded. å‚è€ƒæ–‡ç« ï¼š https://askubuntu.com/questions/900118/vboxdrv-sh-failed-modprobe-vboxdrv-failed-please-use-dmesg-to-find-out-why https://askubuntu.com/questions/920689/how-to-fix-modprobe-vboxdrv-error-in-virtualbox","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[]},{"title":"è®°å½•ä¸€æ¬¡ docker éƒ¨ç½²å‰ç«¯åº”ç”¨ npm çš„é—®é¢˜","slug":"docker-npm-development","date":"2019-03-12T13:12:00.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2019/03/12/docker-npm-development/","link":"","permalink":"https://rovast.github.io/2019/03/12/docker-npm-development/","excerpt":"","text":"æœ€è¿‘åœ¨éƒ¨ç½²ä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„ web åº”ç”¨ï¼Œå…¶ä¸­æ¶‰åŠåˆ° mongodb redis php node cronã€‚ä¸ºäº†ç®€åŒ–éƒ¨ç½²ï¼Œæƒ³åˆ°äº†ä½¿ç”¨ docker éƒ¨ç½²ã€‚ ä½¿ç”¨ node æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ node çš„å®˜æ–¹ imageã€‚ å…¶ docker-compose.yaml å¯ä»¥å¦‚ä¸‹é…ç½® 123456789101112version: \"2\"services: node-build: image: \"node:8\" container_name: \"test-node\" working_dir: /home/node/app environment: - NODE_ENV=production volumes: - ./:/home/node/app command: &gt; bash -c \"npm install &amp;&amp; npm run build\" å‘ç°ï¼Œå®‰è£…å¥½äº†ä¹‹åï¼Œä¸èƒ½æ‰§è¡Œ buildã€‚æ˜¯å› ä¸º build ä¸­å¼•å…¥äº† webpackï¼Œè€Œ webpack æ˜¯åœ¨ devDependencies ä¸­å®šä¹‰çš„ã€‚ æ¯”è¾ƒå¥‡æ€ªçš„æ˜¯ï¼Œåœ¨ è‡ªå·±çš„å¼€å‘æœº ä¸Šæ˜¯å¯ä»¥ç›´æ¥ npm install å®‰è£… webpackï¼Œåœ¨ docker å®¹å™¨ä¸­ä¸å¯ä»¥ã€‚ åˆæ­¥æ€€ç–‘æ˜¯ images æ­è½½çš„æ“ä½œç³»ç»Ÿé—®é¢˜ã€‚æœ€åæ¢äº†ä¸ªé•œåƒï¼Œä¾ç„¶ä¸è¡Œã€‚ æœ€åå‘ç°ï¼Œæ˜¯ npm config çš„é—®é¢˜ã€‚ æ‰§è¡Œ1234567âœ ~ npm config ls -l | grep prohttps-proxy = nullnoproxy = nullproduction = falseprogress = trueproxy = nullsave-prod = false æˆ‘ä»¬çœ‹åˆ° production=falseï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œnpm install å°±ä¼šå®‰è£… devDependencies ï¼Œè€Œ docker å®¹å™¨ä¸­æ‰§è¡Œ npm config ls -l | grep proåå‘ç°ï¼Œ production=trueã€‚è¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚ æ›´æ–° docker-compose.yaml 123456789101112version: \"2\"services: node-build: image: \"node:8\" container_name: \"test-node\" working_dir: /home/node/app environment: - NODE_ENV=development volumes: - ./:/home/node/app command: &gt; bash -c \"npm install &amp;&amp; npm run build\" ä¿®æ”¹ NODE_ENV ä¸º development å³å¯ã€‚ è™½ç„¶çœ‹èµ·æ¥æ˜¯å¾ˆå°çš„é—®é¢˜ï¼Œç¡®ç€å®èŠ±äº†å¥½é•¿æ—¶é—´å»æ’é”™è°ƒè¯•ã€‚ç‰¹æ­¤è®°å½•ï¼ å‚è€ƒèµ„æ–™ï¼š npm install wonâ€™t install devDependencies Docker Official Images","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"node","slug":"node","permalink":"https://rovast.github.io/tags/node/"}]},{"title":"Linux cron é¿å‘æŒ‡å—","slug":"linux-cron-with-flock","date":"2019-03-11T09:22:57.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/03/11/linux-cron-with-flock/","link":"","permalink":"https://rovast.github.io/2019/03/11/linux-cron-with-flock/","excerpt":"","text":"åœºæ™¯å¥½å¤šç³»ç»Ÿä¸­ä¼šç”¨åˆ°é‚®ä»¶ç³»ç»Ÿï¼Œæˆ‘ä»¬å‡è®¾æœ‰ä¸€ä¸ª PHP è„šæœ¬ç”¨æ¥å‘é€é‚®ä»¶ã€‚ä½¿ç”¨ Linux cron æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ æˆ‘ä»¬æš‚æ—¶ä¸å¼•å…¥é˜Ÿåˆ—ç³»ç»Ÿï¼Œå…¶å®ä½¿ç”¨é˜Ÿåˆ—å¤„ç†æ­¤æ–¹å¼æ›´ä¼˜ã€‚ æˆ‘ä»¬å¾—åˆ°ä¸‹é¢çš„åŸºæœ¬é…ç½® 1* * * * * php /home/app/email.php é—®é¢˜åˆ†æå’Œè§£å†³å¦‚æœè¿™ä¸ªé‚®ä»¶æœåŠ¡å‡ºç°å¼‚å¸¸ï¼Œè¿›ç¨‹åƒµæ­»æ€ä¹ˆåŠï¼Ÿå‡è®¾ç”±äºæœªçŸ¥å› ç´ ï¼Œ email.php è„šæœ¬ä¸€ç›´æ‰§è¡Œï¼Œæ²¡æœ‰é€€å‡ºã€‚æç«¯çš„æƒ…å†µï¼Œè¿›å…¥ä¸€ä¸ª while æ­»å¾ªç¯ã€‚ è¿™ä¸‹å€’å¥½ï¼ŒåŸæ¥è¯´å¥½çš„ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œç°åœ¨ä¸€ç›´æ­»è¿™è¾¹äº†ï¼Œåé¢çš„è„šæœ¬ä¹Ÿä¸èƒ½è·‘äº† è§£å†³åŠæ³•ï¼š ä½¿ç”¨ timeoutï¼Œå‡è®¾æˆ‘ä»¬è®¾å®šæ¯ä¸ªè„šæœ¬æœ€å¤šæ‰§è¡Œæ—¶é—´ä½ 200ç§’ï¼Œè¶…è¿‡ 200ç§’ å°±è‡ªåŠ¨æ­»æ‰ã€‚1* * * * * timeout 200 php /home/app/email.php å¦‚æœè¿™ä¸ªè„šæœ¬æ‰§è¡Œæ—¶é—´è¶…è¿‡ 60ç§’ï¼Œä¸‹ä¸€åˆ†é’Ÿåˆä¼šæ‰§è¡Œ php email.phpï¼Œå¦‚æœé¿å…é‡å¤æ‰§è¡Œï¼Ÿè¿™æ ·ä¼šå‡ºç°ï¼Œæœ‰ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶åœ¨æ‰§è¡Œ php email.phpï¼Œé‚£ä¼šä¸ä¼šå‡ºç°åŒä¸€ä¸ªä»»åŠ¡è¢«æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Ÿ è§£å†³åŠæ³•ï¼š ä½¿ç”¨ flock è¿›è¡Œäº’æ–¥æ§åˆ¶ 123456789101112131415161718192021ç”¨æ³•ï¼š flock [é€‰é¡¹] &lt;æ–‡ä»¶|ç›®å½•&gt; &lt;å‘½ä»¤&gt; [&lt;å‚æ•°&gt;...] flock [é€‰é¡¹] &lt;æ–‡ä»¶|ç›®å½•&gt; -c &lt;å‘½ä»¤&gt; flock [é€‰é¡¹] &lt;æ–‡ä»¶æè¿°ç¬¦å·ç &gt;é€šè¿‡ shell è„šæœ¬ç®¡ç†æ–‡ä»¶é”ã€‚é€‰é¡¹ï¼š -s, --shared è·å–å…±äº«é” -x, --exclusive è·å–æ’ä»–é”(é»˜è®¤) -u, --unlock ç§»é™¤é” -n, --nonblock å¤±è´¥è€Œéç­‰å¾… -w, --timeout &lt;ç§’&gt; ç­‰å¾…é™å®šçš„æ—¶é—´ -E, --conflict-exit-code &lt;æ•°å­—&gt; å†²çªæˆ–è¶…æ—¶åçš„é€€å‡ºä»£ç  -o, --close è¿è¡Œå‘½ä»¤å‰å…³é—­æ–‡ä»¶æè¿°ç¬¦ -c, --command &lt;å‘½ä»¤&gt; é€šè¿‡ shell è¿è¡Œå•ä¸ªå‘½ä»¤å­—ç¬¦ä¸² -F, --no-fork æ‰§è¡Œå‘½ä»¤æ—¶ä¸ fork --verbose å¢åŠ è¯¦å°½ç¨‹åº¦ -h, --help display this help -V, --version display version æˆ‘ä»¬ç”¨åˆ°å…¶ä¸­çš„æ’ä»–è®¾ç½® 1* * * * * flock -xn /tmp/test.lock -c \"timeout 200 php /home/app/email.php\" è®°å½•å¥½æ—¥å¿—å®šæ—¶ä»»åŠ¡å¯èƒ½è¦è®°å½•æ—¥å¿—å‘€ï¼Œä¸ç„¶åæœŸæ€ä¹ˆæ’æŸ¥ 1* * * * * flock -xn /tmp/test.lock -c \"timeout 200 php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1\" æ€»ç»“1* * * * * flock -xn /tmp/test.lock -c \"timeout 200 php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1\" ç•ªå¤–ç¯‡ é¢‘ç‡æå‡æˆ‘è§‰å¾—ä¸€åˆ†é’Ÿä¸€æ¬¡é¢‘ç‡å¤ªä½ï¼Œæƒ³ 10s æ‰§è¡Œä¸€æ¬¡æ€ä¹ˆåŠï¼Ÿ 123456* * * * * php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1* * * * * ( sleep 10 ; php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1 )* * * * * ( sleep 20 ; php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1 )* * * * * ( sleep 30 ; php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1 )* * * * * ( sleep 40 ; php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1 )* * * * * ( sleep 50 ; php /home/app/email.php &gt;&gt; /home/log/test.log 2&gt;&amp;1 ) ç•ªå¤–ç¯‡ flock æµ‹è¯•å‡†å¤‡ä¸€ä¸ª php è„šæœ¬ /home/rovast/Code/flock/test.php1234567&lt;?php$i = 10000;while ($i &gt; 0) &#123; echo --$i . \\PHP_EOL; sleep(1);&#125; æ‰§è¡Œ1flock -xn /tmp/mytest.lock -c \"timeout 30 php /home/rovast/Code/flock/test.php\" æˆ‘ä»¬çœ‹åˆ°ç»ˆç«¯ä¸åœè¾“å‡ºæ•°å€¼ 123456789109999999899979996999599949993999299919990 æˆ‘ä»¬å†æ‰“å¼€å¦å¤–ä¸€ä¸ªç»ˆç«¯ï¼Œæ‰§è¡Œ 1flock -xn /tmp/mytest.lock -c \"timeout 30 php /home/rovast/Code/flock/test.php\" æˆ‘ä»¬å‘ç°ï¼š ç¬¬äºŒæ¬¡æ‰§è¡Œçš„æ²¡æœ‰è¾“å‡ºï¼ˆå› ä¸º flock äº’æ–¥ï¼‰ ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„ï¼Œ30ç§’åè‡ªåŠ¨å…³é—­è¿›ç¨‹ï¼ˆå› ä¸º timeout 30ï¼‰","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"vueç»„ä»¶ä¸­å®ç°åŒå‘ç»‘å®š","slug":"bind-value-in-vue-components","date":"2019-02-28T22:44:25.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2019/02/28/bind-value-in-vue-components/","link":"","permalink":"https://rovast.github.io/2019/02/28/bind-value-in-vue-components/","excerpt":"","text":"èƒŒæ™¯åœ¨ä¸€äº›é¡¹ç›®ä¸­ï¼Œéœ€è¦ç”¨åˆ°ç»„ä»¶æ•°æ®çš„åŒå‘ç»‘å®šï¼Œå³çˆ¶å­ç»„ä»¶å…±äº«å˜é‡ï¼Œä¸€æ–¹æ”¹åŠ¨å¦ä¸€æ–¹è”åŠ¨ã€‚ è¡¥å…… 2019å¹´07æœˆ09æ—¥ æ ¹æ®ä¹‹å‰ç”¨çš„æ–¹æ³•ï¼Œåœ¨éƒ¨åˆ†ç¯å¢ƒä¸­ä½¿ç”¨å¤±æ•ˆï¼Œå‚è€ƒ æµ…æVueè‡ªå®šä¹‰ç»„ä»¶çš„v-model ç”¨äº†å¦å¤–ä¸€ç§æ–¹å¼å®ç°ã€‚è™½ç„¶è¿™æ ·ç¡®å®å¯ä»¥å®ç°äº†ï¼Œä½†æ˜¯åœ¨ä¸€äº›åŸç†ä¸Šè¿˜æ˜¯ä¸å¤ªæ˜ç™½ï¼Œæœ‰æ—¶é—´å»çœ‹çœ‹æºç å§ã€‚ SyncValue component å®šä¹‰ 12345678910111213141516&lt;template&gt; &lt;div&gt; &lt;input type=&quot;text&quot; :value=&quot;value&quot; @input=&quot;handleChange&quot;&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; props:[&apos;value&apos;], methods:&#123; handleChange(event) &#123; this.$emit(&apos;input&apos;, event.target.value); &#125; &#125; &#125;&lt;/script&gt; ç»„ä»¶è°ƒç”¨æ–¹ 123456789101112131415161718192021&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;SyncValue v-model=&quot;model&quot;&gt;&lt;/SyncValue&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import SyncValue from &apos;./components/SyncValue&apos;export default &#123; name: &apos;app&apos;, components: &#123; SyncValue &#125;, data() &#123; return &#123; model: &apos;123&apos; &#125; &#125;&#125;&lt;/script&gt; ä½¿ç”¨ model æ¥å®ç°åŒå‘ç»‘å®šä¸¾ä¾‹ï¼š è®¾è®¡ä¸€ä¸ªç¼–è¾‘å™¨ç»„ä»¶ editorï¼Œä¸€èˆ¬çˆ¶ç»„ä»¶è°ƒç”¨æ—¶èµ‹å€¼ç»™ç»„ä»¶ï¼Œå½“ç»„ä»¶ä¸­å†…å®¹å˜åŒ–æ—¶ï¼Œçˆ¶ç»„ä»¶çš„å˜é‡ä¹Ÿè¦å˜åŒ–ã€‚ å‚è€ƒ vue è‡ªå®šä¹‰ç»„ä»¶ v-modelåŒå‘ç»‘å®šã€ çˆ¶å­ç»„ä»¶åŒæ­¥é€šä¿¡çš„å¤šç§å†™æ³•ï¼Œå¾—åˆ°è§£å†³åŠæ³•ã€‚ æˆ‘ä»¬ä½¿ç”¨æ–‡ç« çš„æ–¹æ¡ˆäºŒï¼Œé€šè¿‡ v-model æ¥å®ç°ã€‚ v-modelçˆ¶ç»„ä»¶12345678910111213&lt;div&gt; &lt;editor v-model=\"content\"&gt;&lt;/editor&gt;&lt;/div&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; content: 'é»˜è®¤å€¼' &#125; &#125;&#125;&lt;/script&gt; edtior component1234567891011121314151617181920212223&lt;div&gt; &#123;&#123;content&#125;&#125;&lt;/div&gt;&lt;script&gt;export default &#123; // ä½¿ç”¨ modelï¼Œå®šä¹‰å¥½ prop å’Œ event äº‹ä»¶ model: &#123; prop: 'content', event: 'change' &#125;, props: &#123; content: &#123; type: String, default: '', required: false &#125; &#125; // ç»è¿‡ä¸€ç³»åˆ—å¤„ç† this.$emit('change', this.content)&#125;&lt;/script&gt;","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://rovast.github.io/tags/vue/"}]},{"title":"visudo è®¾ç½®æ— éœ€å¯†ç ","slug":"linux-nopassword","date":"2019-02-28T10:04:19.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2019/02/28/linux-nopassword/","link":"","permalink":"https://rovast.github.io/2019/02/28/linux-nopassword/","excerpt":"","text":"1234sudo visudo###luohao ALL=NOPASSWD: /usr/bin/supervisorctl, /bin/chmod","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"ubuntu æœåŠ¡å™¨ php ç¯å¢ƒç®€å•æ­å»º","slug":"ubuntu-php-server-init","date":"2019-02-24T18:29:35.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2019/02/24/ubuntu-php-server-init/","link":"","permalink":"https://rovast.github.io/2019/02/24/ubuntu-php-server-init/","excerpt":"","text":"ä¸­æ–‡è¯­è¨€è°ƒæ•™å®‰è£…ä¸­æ–‡æ”¯æŒï¼Œé¿å…ä¸€äº›è¯­è¨€ç›¸å…³çš„å‘ 12345678sudo apt-get install language-pack-zh-hanssudo vim /etc/default/locale# vim /etc/default/locale è¾“å…¥ä»¥ä¸‹å†…å®¹LANG=\"en_US.UTF-8\"LANGUAGE=\"zh_CN.utf8\"LC_ALL=\"zh_CN.utf8\" å®‰è£… PHPæ­¤å¤„å®‰è£…çš„æ˜¯ PHP 7.2ï¼Œç®€å•èµ·è§ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç°æˆçš„ packageï¼ˆå½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æºç ç¼–è¯‘ï¼‰ã€‚ 12345678910# å®‰è£…äº†æ­¤è½¯ä»¶æ‰èƒ½ä½¿ç”¨ PPA å‘€sudo apt-get install -y software-properties-common# å®‰è£… PPAsudo add-apt-repository ppa:ondrej/phpsudo apt-get update# å®‰è£… PHP 7.2ï¼Œå¦‚æœéœ€è¦é¢å¤–çš„æ‹“å±•ï¼Œå¯ä»¥åæœŸå†å®‰è£…sudo apt-get install php7.2 php è°ƒä¼˜æˆ‘ä»¬å³å°†ä½¿ç”¨ nginx é…åˆ php-fpm ä½¿ç”¨ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶è·¯å¾„ä¸º /etc/php/7.2/fpm/php.ini ä¿®æ”¹ä¸€ä¸ªå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡ºçš„é—®é¢˜php.iniä¿®æ”¹ pcre.recursion_limit=5000 å…¶ä»–è°ƒæ•´123max_input_vars = 20000post_max_size = 50M å®‰è£… fpm1sudo apt-get install php7.2-fpm php-fpm è°ƒä¼˜ä¿®æ”¹ /etc/php/7.1/fpm/php-fpm.conf 12emergency_restart_threshold = 10 emergency_restart_interval = 1m ä¿®æ”¹ PHP-FPM /etc/php/7.2/fpm/pool.d/www.conf 12345678910listen = 127.0.0.1:9000 listen.allowed_clients = 127.0.0.1 pm.max_children = 51 pm.start_servers = 3 pm.min_spare_servers = 2 pm.max_spare_servers = 4 pm.max_requests = 1000slowlog = /var/log/$pool.log.slow request_slowlog_timeout = 5s å®‰è£… nginxsudo apt-get install nginx PHP7.2 æ‹“å±•1sudo apt-get install php7.2-mbstring php7.2-xml php7.2-intl","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/tags/Linux/"}]},{"title":"æºç ç¼–è¯‘å®‰è£…PHP","slug":"build-php","date":"2019-01-15T10:13:33.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2019/01/15/build-php/","link":"","permalink":"https://rovast.github.io/2019/01/15/build-php/","excerpt":"","text":"æŸ¥çœ‹å¯ç”¨çš„å‚æ•°./configure â€“help ç¼–è¯‘å®‰è£…MacOS 123456789./configure --enable-fpm --with-openssl=/usr/local/Cellar/openssl@1.1/1.1.1i/ \\--enable-bcmath --with-curl --enable-exif --with-mysqli --with-pdo-mysql \\--enable-zip --with-zlib=/usr/local/Cellar/zlib/1.2.11/ --enable-intl --enable-pcntl --enable-mbstring --enable-soap \\--with-icu-dir=/usr/local/Cellar/icu4c/67.1 \\--with-iconv=/usr/local/Cellar/libiconv/1.16 \\--with-libxml-dir=/usr/local/Cellar/libxml2/2.9.10_2makesudo make install ./configure â€“enable-debug å¦‚æœéœ€è¦ debug ç‰ˆæœ¬çš„ Linux 12345./configure --enable-fpm --with-openssl \\--enable-bcmath --with-curl --enable-exif --with-mysqli --with-pdo-mysql \\--enable-zip --with-zlib --enable-intl --enable-pcntl --enable-mbstring --enable-soapmakesudo make install é…ç½®æ–‡ä»¶123456# /usr/local/etc/sudo cp php-fpm.conf.default php-fpm.conf# /usr/local/etc/php-fpm.dsudo cp www.conf.default www.conf ä¿®æ”¹ php-fpm.conf çš„æœ€åä¸€è¡Œ1include=/usr/local/etc/php-fpm.d/*.conf éƒ¨åˆ†é—®é¢˜ Unable to detect ICU prefix or no failed. Please verify ICU install prefix 1./configure --with-icu-dir=/usr/local/Cellar/icu4c/63.1 php.ini12345678extension=mongodb.soextension=swoole.soextension=yaf.sozend_extension=xdebug.soxdebug.remote_enable = 1xdebug.remote_autostart = 1xdebug.remote_port = 9001","categories":[],"tags":[]},{"title":"ã€è½¬ã€‘ä¸ºä»€ä¹ˆæ˜Ÿå·´å…‹çš„å‘˜å·¥éƒ½ä¸å¤ªçƒ­æƒ…ï¼ŸèƒŒåè¿™4ç‚¹å€¼å¾—æ·±æ€","slug":"thinking-in-starbucks","date":"2019-01-12T21:25:07.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2019/01/12/thinking-in-starbucks/","link":"","permalink":"https://rovast.github.io/2019/01/12/thinking-in-starbucks/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼šhttps://mp.weixin.qq.com/s/_IZjTugVB6SjHizuVaHi5w åŸæ–‡æ ‡é¢˜ï¼šä¸ºä»€ä¹ˆæ˜Ÿå·´å…‹çš„å‘˜å·¥éƒ½ä¸å¤ªçƒ­æƒ…ï¼ŸèƒŒåè¿™4ç‚¹å€¼å¾—æ·±æ€ åŸæ–‡å…¬ä¼—å·ï¼šäººç”Ÿæ ¼å±€ æˆ‘æ˜¯æ˜Ÿå·´å…‹çš„å¸¸å®¢ï¼Œç»å¸¸è§‚å¯Ÿä»–ä»¬çš„æ—¥å¸¸è¿è¥ã€‚æˆ‘å‘ç°å®åœ°è§‚å¯Ÿï¼Œæ¯”è¯»100æœ¬ç®¡ç†ä¹¦ç±éƒ½ç®¡ç”¨ã€‚åˆ—å››æ¡æœ‰æ„æ€çš„ç°è±¡ï¼Œå’Œä½ åˆ†äº«ä¸€ä¸‹ã€‚ å¼€å§‹å‰ï¼Œå…ˆé—®å››ä¸ªé—®é¢˜ï¼Œçœ‹ä½ æ˜¯å¦çŸ¥é“ï¼Ÿ 1. ä¸ºä»€ä¹ˆæ˜Ÿå·´å…‹çš„æ’é˜Ÿæ¨¡å¼å’Œåˆ«å®¶ä¸ä¸€æ ·ï¼Œé¡¾å®¢éƒ½è¢«è¦æ±‚æ¨ªå‘æ’é˜Ÿï¼Œè€Œéç«–å‘ï¼Ÿ 2. ä¸ºä»€ä¹ˆæ˜Ÿå·´å…‹é™ˆåˆ—æŸœé‡Œçš„â€œxäº‘çŸ¿æ³‰æ°´â€ï¼Œå‡ ä¹å–ä¸å‡ºå»ï¼Œè¿˜å¤©å¤©æ‘†ç€ï¼Ÿ 3. ä¸ºä»€ä¹ˆä½ ä»€ä¹ˆéƒ½ä¸ä¹°ï¼Œå¹²ååœ¨æ˜Ÿå·´å…‹ï¼Œå·¥ä½œäººå‘˜ä¹Ÿä¸ä¼šèµ¶ä½ ï¼Ÿ 4. ä¸ºä»€ä¹ˆæ˜Ÿå·´å…‹çš„å·¥ä½œäººå‘˜æ²¡é‚£ä¹ˆçƒ­æƒ…ï¼Ÿ - 01 - é™ä½ç„¦è™‘çš„æ–¹æ³•ï¼Œæ˜¯è®©å¯¹æ–¹çœ‹åˆ°è¿‡ç¨‹ æ˜Ÿå·´å…‹è®¾è®¡æ¨ªå‘æ’é˜Ÿæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ æ˜¾ç„¶ï¼Œæœ€å¤§çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œè®©æ‰€æœ‰é¡¾å®¢éƒ½æ˜¯é¢å¯¹å·¥ä½œåŒºã€‚ è¿™æ ·ï¼Œä»–ä»¬èƒ½çœ‹åˆ°å·¥ä½œäººå‘˜çš„å¿™å¿™ç¢Œç¢Œï¼Œä¸€æ¯åˆä¸€æ¯è°ƒåˆ¶è€Œå‡ºçš„å’–å•¡ï¼Œæ„å‘³ç€è‡ªå·±é‚£æ¯ä¹Ÿå¾ˆå¿«æ¥ä¸´ï¼Œç„¦è™‘æ„Ÿä¹Ÿéšä¹‹é™ä½ã€‚ åä¹‹ï¼Œä½ å›å¿†ä¸€ä¸‹ç«–å½¢æ’é˜Ÿæ—¶çš„å¿ƒæƒ…ï¼Œå¤§å®¶éƒ½ä¼šç„¦æ€¥çš„æœ›å‘æŸœå°ï¼Œå¿ƒç†ä¸åœçš„å˜€å’•ï¼Œæ€ä¹ˆè¿™ä¹ˆæ…¢ï¼Ÿ è¿™æ ·çš„æƒ…æ™¯åœ¨ç”Ÿæ´»ä¸­å¾ˆå¸¸è§ï¼Œå¡è½¦æ—¶ï¼Œä½ ä¼šå¿ä¸ä½æŠŠå¤´ä¼¸å‡ºçª—å¤–ï¼Œæƒ³ä¸€æ¢ç©¶ç«Ÿã€‚ä½†æ˜¯ï¼Œå°±ç®—ä½ çœ‹åˆ°å¡è½¦çš„åŸå› ï¼Œéš¾é“è·¯é¢æƒ…å†µä¼šå¥½ä¸€ç‚¹å—ï¼Ÿå½“ç„¶ä¸èƒ½ï¼Œä½†ä½ å¿ƒé‡Œä¼šå¥½å—äº›ã€‚ å†æ¯”å¦‚ï¼Œæ›¾æœ‰ä¸ªå®éªŒï¼Œç”µæ¢¯é‡Œä¸æ˜¾ç¤ºæ¥¼å±‚çš„å˜åŒ–ï¼Œé‡Œé¢çš„äººç„¦è™‘æ„Ÿç«‹åˆ»ä¸Šå‡äº†å¾ˆå¤šã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥æ˜ç™½ï¼Œä¸ºä»€ä¹ˆå¤§å®¶åœ¨ç”µæ¢¯é‡Œï¼Œéƒ½ç»Ÿä¸€ç›¯ç€é—¨ä¸Šå˜åŒ–çš„æ¥¼å±‚æ˜¾ç¤ºï¼Œé‚£å°±æ˜¯åœ¨æ¶ˆé™¤ç„¦è™‘æ„Ÿã€‚ äººæ˜¯å”¯ä¸€æ‹¥æœ‰æ§åˆ¶æ„Ÿçš„åŠ¨ç‰©ï¼Œæ§åˆ¶æ„Ÿçš„è·å¾—ï¼Œä¸ä»…æ¥æºäºå¯¹äº‹ä»¶è¿›ç¨‹çš„æ˜¾æ€§å¹²é¢„ï¼Œä¹Ÿæ¥æºäºå¯¹äº‹ä»¶çš„ç›®æ‰€èƒ½åŠã€‚ æ˜¯çš„ï¼Œå½“ä½ åœ¨è§‚å¯Ÿä¸€ä»¶äº‹ç‰©æ—¶ï¼Œå°±ä¼šå› æ­¤è·å¾—äº†ä¸€ç§æ§åˆ¶æ„Ÿã€‚ è¿™åœ¨ç°å®ä¸­æœ‰å¾ˆå¤šå¯åº”ç”¨çš„åœºæ™¯ã€‚ å¦‚æœä½ æ˜¯ä¸ªåˆ›ä¸šè€…ï¼Œå°±å¯ä»¥è€ƒè™‘å¦‚ä½•æŠŠå†…éƒ¨è¿ä½œçš„æµç¨‹å‘å®¢æˆ·å±•ç¤ºï¼Œè¿™ä¼šæå¤§çš„æé«˜å®¢æˆ·çš„ä¿¡ä»»æ„Ÿå’Œå‚ä¸åº¦ã€‚ æ¯”å¦‚ï¼Œå¾ˆå¤šé¥­åº—çš„åå¨æ˜¯å…¨é€æ˜çš„ï¼Œå°±æ˜¯è®©é¡¾å®¢çœ‹åˆ°æ•´ä¸ªè¿‡ç¨‹ï¼›å†æ¯”å¦‚ï¼Œä¸ºä»€ä¹ˆâ€œå¾—åˆ°â€ä¼šæŠŠå†…éƒ¨ä¾‹ä¼šå†…å®¹å…¬å¼€ï¼Œè®©æ‰€æœ‰ç”¨æˆ·çœ‹åˆ°ï¼Ÿå°±æ˜¯ä¸ºäº†å¢åŠ ç”¨æˆ·çš„å‚ä¸åº¦å˜›ã€‚ å¦‚æœä½ æ˜¯ä¸ªèŒåœºäººï¼Œé¢†å¯¼ç»™ä½ å¸ƒç½®ä¸ªå·¥ä½œï¼Œä½ å°±ä¸€å®šè¦è®°å¾—åœ¨è¿‡ç¨‹ä¸­æ—¶æ—¶æ±‡æŠ¥ï¼Œä¸è¦æ€»æƒ³ç€æŠŠäº‹æå®Œåï¼Œæœ‰äº†ç»“æœï¼Œå†ç»™é¢†å¯¼ä¸€ä¸ªsurpriseã€‚ é¢†å¯¼ä¸éœ€è¦æƒŠå–œï¼Œåªéœ€è¦æ§åˆ¶ã€‚ - 02 - äººçš„ä¸»è§‚æ„Ÿå—æ¥è‡ªäºå¯¹æ¯” å…ˆæ­æ™“ç­”æ¡ˆï¼Œæ˜Ÿå·´å…‹æ‘†æ”¾â€œxäº‘çŸ¿æ³‰æ°´â€æ ¹æœ¬ä¸æ˜¯æ‹¿æ¥å–çš„ï¼Œè€Œæ˜¯ç»™ä½ çœ‹çš„ã€‚ â€œxäº‘çŸ¿æ³‰æ°´â€åœ¨æ˜Ÿå·´å…‹ä¸€èˆ¬æ ‡ä»·20å¤šäººæ°‘å¸ï¼Œè€Œæ˜Ÿå·´å…‹å’–å•¡ä»·æ ¼åœ¨20-30ä¸Šä¸‹ã€‚ æ‰€ä»¥ï¼Œâ€œxäº‘çŸ¿æ³‰æ°´â€åªæ˜¯ä¸ªé™ªè¡¬ï¼Œç”±æ­¤åœ¨å‘ä½ ä¼ é€’ä¸€ä¸ªæ½œå°è¯ï¼š ä½ çœ‹ï¼Œä¸€ç“¶æ°´éƒ½å–20å¤šï¼Œæˆ‘20åˆ°30çš„å’–å•¡è¿˜èƒ½ç®—è´µå—ï¼Ÿ è¿™ç§ç°è±¡åœ¨è¥é”€é¢†åŸŸå¾ˆå¸¸è§ï¼Œã€Šç»æµå­¦äººã€‹æ‚å¿—æ›¾è¯´è¿‡ä¸€ä¸ªéå¸¸ç»å…¸çš„æ¡ˆä¾‹ï¼š ä¸€å®¶æ‚å¿—ç¤¾æƒ³æ¨å‡ºç½‘ç»œç‰ˆï¼Œäºæ˜¯æ‰¾è¥é”€ä¸“å®¶ç­–åˆ’ï¼Œä¸“å®¶åšäº†ä¸¤ä¸ªæ–¹æ¡ˆï¼š 1ã€è´­ä¹°ç½‘ç»œç‰ˆè¦56ç¾å…ƒï¼› 2ã€è´­ä¹°ç½‘ç»œåŠ çº¸è´¨ç‰ˆ125ç¾å…ƒï¼› ç»“æœï¼Œç”¨æˆ·å¤§å¤šä¼šé€‰æ‹©56ç¾å…ƒçš„ç½‘ç»œç‰ˆã€‚ ä½†æ˜¯é—®é¢˜éšä¹‹è€Œæ¥ï¼Œçº¸è´¨ç‰ˆçš„æ²¡äººä¹°ï¼Œäºæ˜¯åˆè¯·æ¥ä¸€ä½è¥é”€å¤§å¸ˆï¼Œè¿™ä½å¤§å¸ˆç»™äº†ä¸‰ä¸ªæ–¹æ¡ˆï¼š 1ã€è´­ä¹°ç½‘ç»œç‰ˆè¦56ç¾å…ƒï¼› 2ã€è´­ä¹°çº¸è´¨ç‰ˆ125ç¾å…ƒï¼› 3ã€è´­ä¹°ç½‘ç»œåŠ çº¸è´¨ç‰ˆ125ç¾å…ƒã€‚ ç»“æœå¯æƒ³è€ŒçŸ¥ï¼Œå¤§å®¶éƒ½é€‰ç¬¬ä¸‰ä¸ªæ–¹æ¡ˆï¼Œç¬¬äºŒä¸ªæ–¹æ¡ˆå…¶å®å°±æ˜¯ä¸ªé™ªè¡¬ã€‚ è¿™ä¸€æ‹›æˆ‘ä»¬ç°å®ä¸­éšå¤„å¯è§ï¼Œå¦‚æœä½ ç•™æ„ä¸€ä¸‹æ‰‹æœºè¯è´¹å¥—é¤ï¼Œå°±ä¼šå‘ç°ç¡®å®å­˜åœ¨é™ªè¡¬è€…ï¼Œåªä¸ºä½ åšå†³ç­–æ–¹ä¾¿ã€‚ è¿™ç§â€œé™ªè¡¬æœºåˆ¶â€çš„åº•å±‚åŸç†ï¼Œå°±æ˜¯è¯ºè´å°”å¾—ä¸»å¡å°¼æ›¼æ‰€æ­ç¤ºçš„ï¼šäººç±»çš„ä¸»è§‚æ„Ÿå—ä¸»è¦æ¥è‡ªå¯¹æ¯”ã€‚ è¿™ç»™æˆ‘ä»¬æœ‰ä»€ä¹ˆå¯å‘å—ï¼Ÿå…¶å®å¾ˆå¤šã€‚ æ¯”å¦‚ï¼Œä½ ç»™é¢†å¯¼å†™æŠ¥å‘Šï¼Œå¦‚æœæ—¶é—´å……è¶³ï¼Œç¬¬ä¸€ç¨¿å¯ä»¥ç³™ä¸€ç‚¹ï¼Œå› ä¸ºæ— è®ºæ€æ ·ï¼Œé¢†å¯¼çœ‹å®Œéƒ½ä¼šæå‡ºæ„è§è®©ä½ æ”¹ï¼Œæ‰€ä»¥ç¬¬äºŒç¨¿è¦æ†‹è¶³åŠ²ï¼Œæå¾—å®Œç¾ä¸€äº›ï¼Œå¯¹æ¯”ä¹‹ä¸‹ï¼Œæ¯”ç¬¬ä¸€ç¨¿å¥½é‚£ä¹ˆå¤šï¼Œé€šè¿‡ç‡è‡ªç„¶ä¹Ÿé«˜ã€‚ å†æ¯”å¦‚ï¼Œå¦‚æœä½ æ˜¯å¥³å­©ï¼Œæ‰¾é—ºèœœé€›è¡—ï¼Œå°±ä¸èƒ½æ‰¾å’Œä½ é¢œå€¼å·®ä¸å¤šï¼Œè¦æ‰¾æ¯”ä½ å·®ä¸€ç‚¹çš„ï¼Œé“ç†ä½ è‡ªç„¶æ‡‚ã€‚ â€œé™ªè¡¬æœºåˆ¶â€åœ¨ç”Ÿæ´»ä¸­å¤„å¤„æœ‰åº”ç”¨çš„æœºä¼šï¼Œåªçœ‹ä½ æ˜¯ä¸æ˜¯ä¸ªâ€œæœ‰å¿ƒäººâ€äº†ã€‚ - 03 - ç»è¥å¦‚åšäººï¼Œä¸è¦å¤ªåŠ¿åˆ© åå‡ å¹´å‰ï¼Œæˆ‘å’Œå‡ ä¸ªæœ‹å‹è°ˆäº‹ï¼Œå°±è¿‘æ‰¾äº†ä¸ªæ˜Ÿå·´å…‹ï¼Œä½†æˆ‘ä»¬å‡ ä¸ªéƒ½æ˜¯ä¸€å–å’–å•¡ç¡ä¸ç€çš„ä¸»ï¼Œæ‰€ä»¥ä»€ä¹ˆéƒ½æ²¡ç‚¹ï¼Œåªæ˜¯å¹²åç€ã€‚ ä¸€ä½å·¥ä½œäººå‘˜ï¼Œèµ°äº†è¿‡æ¥ï¼Œæˆ‘ä»¥ä¸ºæ˜¯æ’µæˆ‘ä»¬èµ°ï¼Œè¿å¿™ç«™äº†èµ·æ¥ã€‚ è°çŸ¥ï¼Œå¥¹ç¬‘äº†ç¬‘è¯´ï¼šæ²¡å…³ç³»ï¼Œä½ ä»¬åï¼Œä½ ä»¬åã€‚æˆ‘åªæ˜¯çœ‹åˆ°æ¡Œå­ä¸Šæœ‰ç‚¹æ±¡æ¸ï¼Œæ¥æ“¦ä¸€ä¸‹ã€‚ è¿™ä¸‹è®©æˆ‘æ„Ÿè§‰æŒºä¸å¥½æ„æ€ï¼Œäºæ˜¯ç‚¹äº†å‡ æ¯å’–å•¡å«é‡æä½çš„â€œæ‘©å¡â€ã€‚ é‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å–æ˜Ÿå·´å…‹çš„é¥®å“ï¼Œå´å¯¹è¿™å®¶ä¼ä¸šé¡¿ç”Ÿå¥½æ„Ÿï¼Œæˆä¸ºæ—¥åçš„å¿ å®æ‹¥è¶¸ã€‚ æœ¬æ¥ä»¥ä¸ºï¼Œæ˜¯é‚£ä½å·¥ä½œäººå‘˜çš„ä¸ªäººè¡Œä¸ºï¼Œæœ€è¿‘æœ‰ä»¶äº‹æ›´è®©æˆ‘è§‰å¾—ä¸å¯æ€è®®ã€‚ æˆ‘ç»å¸¸åœ¨æ·±åœ³ä¹¦åŸæ˜Ÿå·´å…‹å†™æ–‡ç« ï¼Œè€Œä¸”æœ‰ä¸ªå¾¡ç”¨å®ä½ï¼Œå®‰é™ã€æ™¯è‰²ä½³ï¼Œå¯æœ€è¿‘ä¸€ç›´è¢«ä¸€åæµæµªæ±‰å æ®ã€‚ æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼ŒçœŸçš„æ˜¯åæµæµªæ±‰ï¼Œå¾ˆå¹´è½»ï¼Œä½†å¤´å‘å‡ ä¹èƒ½æŒ¤å‡ºæ²¹ï¼Œæ•´å¤©ä¸€èº«æ²¹æ±¡æ»¡èº«çš„è¡£æœã€‚ ä¸€è¿ä¸¤ä¸ªæœˆï¼Œéƒ½å æ®æˆ‘çš„å®ä½ï¼Œè€Œä¸”ä»€ä¹ˆä¸œè¥¿éƒ½ä¸ç‚¹ï¼Œåªæ˜¯ååœ¨é‚£é‡Œï¼Œçœ‹æ‰‹æœºé‡Œçš„åŠ¨ç”»ç‰‡ï¼Œä¸€å¾…ä¸€ä¸Šåˆã€‚ä½†æ˜¯ï¼Œå·¥ä½œäººå‘˜å¯¹ä»–å´ç½®ä¹‹ä¸ç†ï¼Œç”šè‡³åœ¨åº—å†…åˆ†å‘å…è´¹é¥®å“æ—¶ï¼Œä¹Ÿç»™ä»–ä¹Ÿåˆ†ä¸€å°æ¯â€¦â€¦ æˆ‘é—®ä¸€åå·¥ä½œäººå‘˜ï¼Œè¿™äººä»€ä¹ˆéƒ½ä¸ç‚¹ï¼Œä¸€åä¸¤ä¸ªæœˆçš„äººï¼Œä½ ä»¬ä¹Ÿä¸èµ¶èµ°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ å¥¹è¯´ï¼šâ€œè¿™æ˜¯å…¬å¸è§„å®šï¼Œåªè¦åœ¨åº—é‡Œåçš„äººï¼Œéƒ½æ˜¯é¡¾å®¢ã€‚â€ è¿™å¥è¯ï¼Œè¿˜æ˜¯å°å°é¢ è¦†äº†æˆ‘å¯¹ç»è¥çš„è®¤çŸ¥ã€‚ æ”¾çœ¼å¤šæ•°çš„é¤å…ã€èŒ¶é¥®ï¼Œå¾ˆå°‘ä¼šè®©ä½ ç™½åï¼Œæ²¡ä¸€ä¼šå„¿åº—å‘˜å°±ä¼šé—®ä½ è¦å–ç‚¹ä»€ä¹ˆï¼Œå¦‚æœä½ è¯´ä»€ä¹ˆéƒ½ä¸è¦ï¼Œå¯¹æ–¹é©¬ä¸Šä¼šè¯´ï¼šâ€œä¸å¥½æ„æ€ï¼Œä¸æ¶ˆè´¹ä¸èƒ½ç™½åã€‚â€ å“ªæ€•å½“ä¸‹ä¸€ä¸ªé¡¾å®¢ä¹Ÿæ²¡æœ‰ï¼Œåº—å®¶ä¹Ÿä¼šä¸‹é€å®¢ä»¤ã€‚ è¿™å°±æ˜¯æ ¼å±€ä¸å¤Ÿå¤§ï¼ŒåªæŠŠçœŸæ­£èŠ±é’±çš„æ‰å½“é¡¾å®¢ï¼Œè€Œå¿½è§†äº†é‚£äº›æ½œåœ¨çš„æ¶ˆè´¹è€…ã€‚ äººå®¶åä¹…äº†ï¼Œå¤šæ•°äººéƒ½ä¼šèŠ±é”€ï¼Œè¿™ä¸å°±æœ‰è½¬åŒ–ç‡äº†å—ï¼Ÿå°±ç®—åˆ«äººä¸æ¶ˆè´¹ï¼Œæœ€èµ·ç ä¹Ÿç»™å•†å®¶æ”’ä¸ªäººæ°”å•Šï¼Œè·¯è¿‡çš„äººçœ‹åˆ°ä½ çƒ­ç«æœå¤©ï¼Œå°±æœ‰è¿›æ¥çš„å†²åŠ¨ã€‚ ä½ çœ‹å°±æ˜¯è¿™æ ·ï¼Œåšç”Ÿæ„å’Œåšäººä¸€æ ·ï¼Œä¸è¦å¤ªåŠ¿åˆ©ã€‚ äººè¿™ä¸€ç”Ÿå¾ˆæ¼«é•¿ï¼Œè¯´ä¸å¥½è°ä¼šæˆä¸ºä½ çš„è´µäººã€‚ ä¹‹å‰ï¼Œçœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œè¯´åˆšåˆšç¦»èŒï¼Œå°±è¢«å¾ˆå¤šåŒäº‹æ‹‰é»‘ã€‚æˆ‘è§‰å¾—é‚£äº›åŒäº‹çœŸçš„å¥½å‚»ï¼Œå¤šä¸ªæœ‹å‹å¤šæ¡è·¯ï¼Œè¿™å¥è¯ä»€ä¹ˆæ—¶å€™éƒ½é€‚ç”¨ã€‚ æˆ‘ä»¥å‰åœ¨500å¼ºæ—¶æœ‰ä¸ªä¹ æƒ¯ï¼Œä½†å‡¡æœ‰ç¦»èŒçš„åŒäº‹ï¼Œæˆ‘éƒ½ä¼šå‘ä¸ªä¿¡æ¯ï¼Œé“å£°åˆ«ï¼Œè¯´å£°ä¿æŒè”ç³»ã€‚ å› ä¸ºè¿™äº›å‡ºå»çš„äººå°±æ˜¯ä¸€ä¸ªä¸ªçª—å£å•Šï¼Œä»–ä»¬åœ¨å¤–é¢æ··å¾—å¦‚ä½•ï¼Œä¸ä¹Ÿç»™ä½ çš„æœªæ¥åšä¸ªå‚ç…§å—ï¼Ÿ åæ¥æˆ‘å‡ºæ¥åˆ›ä¸šï¼Œå°±æ˜¯å¾—åˆ°äº†ä¸€ä½ç¦»èŒåŒäº‹çš„å¸®åŠ©ï¼Œä»–å‡ å¹´å‰åˆ›ä¸šåšåŸ¹è®­ã€‚æˆ‘æ˜¯è¸©ç€ä»–çš„è„šå°ä¸€æ­¥æ­¥èµ°æ¥ï¼Œè¿˜çœŸçœäº†ä¸å°‘åŠ²ã€‚ æ‰€ä»¥ï¼Œæˆ‘è€å¦ˆä»¥å‰è¯´â€œäººç¼˜æ˜¯æ”’å‡ºæ¥çš„â€ã€‚ç°åœ¨æƒ³æƒ³è¿˜çœŸæœ‰é“ç†ï¼Œå°±åƒæ˜Ÿå·´å…‹çš„ç†å¿µï¼Œæ¥çš„å°±æ˜¯å®¢ï¼Œç°åœ¨ä¸æ¶ˆè´¹ï¼Œä½†ç»ˆç©¶æœ‰æ¶ˆè´¹çš„æœºä¼šã€‚ - 04 - ç‹¼æ€§æ–‡åŒ–ä¸å¦‚äººæ€§æ–‡åŒ– å»å¹´è¿‡å¹´æœŸé—´ï¼Œæˆ‘åœ¨æ¬¢ä¹æµ·å²¸æ˜Ÿå·´å…‹ï¼Œæ—è¾¹æ¥äº†ä¸€ä¸ªä¸­å¹´å¦‡å¥³ï¼Œå¸¦ç€ä¸¤ä¸ªå¨ƒï¼Œå¥¹è¡£ç€åä¸½ï¼Œç©¿é‡‘æˆ´é“¶ã€‚ åªæ˜¯å¥¹å—“é—¨å¤§äº†äº›ï¼Œä¸€ç›´å¤§å£°å‘µè´£é‚£ä¿©ç†Šå­©å­ï¼Œå¼•æ¥å¾ˆå¤šäººä¾§æœ›ã€‚ æ²¡ä¸€ä¼šå„¿ï¼Œå…¶ä¸­ä¸€ç†Šå¨ƒæŠŠé¥®æ–™æ‰“ç¿»äº†ï¼Œé‚£å¦‡å¥³åˆå°–å«èµ·æ¥ï¼Œç»™äº†å¨ƒä¸¤å·´æŒï¼Œå¨ƒå“‡å“‡å¤§å“­ã€‚ å¦‡å¥³æ°”æ€¥è´¥åçš„å¯¹ç€æŸœå°å¤§å£°ï¼š â€œæœåŠ¡å‘˜ï¼æœåŠ¡å‘˜ï¼å¿«æ‹¿æŠ¹å¸ƒè¿‡æ¥å•Šï¼â€ ç»“æœï¼ŒæŸœå°å†…çš„å‡ ä¸ªå·¥ä½œäººå‘˜ï¼Œæ²¡ä¸€ä¸ªç†å¥¹ã€‚ äºæ˜¯ï¼Œå¥¹èµ°å‘æŸœå°ï¼Œå¯¹ç€æœ€è¿‘çš„å·¥ä½œäººå‘˜å—“é“ï¼šâ€œæœåŠ¡å‘˜ï¼æˆ‘å«ä½ å‘¢ï¼Œä½ è£…ç€æ²¡å¬è§å—ï¼Ÿâ€ é‚£å¥³å­©ç¯é¡¾å·¦å³ï¼Œä¸€è„¸æ‡µæ‡‚å›åˆ°ï¼šâ€œæˆ‘ä¸çŸ¥é“ä½ åœ¨å«è°ï¼Ÿæˆ‘ä»¬è¿™å„¿æ²¡æœ‰æœåŠ¡å‘˜ï¼Œåªæœ‰å’–å•¡å¸ˆã€‚â€ å¦‡å¥³å¨èƒåˆ°ï¼šâ€œä½ æ€ä¹ˆè¿™ç§æœåŠ¡æ€åº¦ï¼Œä¸æƒ³è®©åˆ«äººå†æ¥äº†å—ï¼Ÿâ€ å¥³å­©å¾®å¾®ä¸€ç¬‘è¯´ï¼šâ€œè¯·ä¾¿ã€‚â€ äº²çœ¼çœ‹åˆ°è¿™ä¸€å¹•ï¼Œå¿ƒé‡Œé»˜é»˜ç»™é‚£å¥³å­©ç‚¹èµã€‚ æ—¥å¸¸ä¸­ï¼Œä½ ä¹Ÿä¼šå‘ç°ï¼Œæ˜Ÿå·´å…‹çš„æœåŠ¡å‘˜ï¼Œä¸ï¼Œå’–å•¡å¸ˆï¼Œä¸åƒæµ·åº•æé‚£èˆ¬çš„çƒ­æƒ…ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯å†·å†°å†°ï¼Œè€Œæ˜¯å’Œä½ å¹³èµ·å¹³åã€‚ ä»–ä»¬ä¸ä¼šå› ä¸ºä½ æ˜¯é¡¾å®¢å°±åˆ»æ„è®¨å¥½ä½ ï¼Œè¿™å…¶å®å°±æ˜¯ä¼ä¸šæ–‡åŒ–çš„ä½“ç°ã€‚ æ˜Ÿå·´å…‹ä¸­å›½åŒºäººåŠ›èµ„æºå‰¯æ€»è£ä½™åæ›¾è¯´è¿‡ï¼Œä¼ä¸šå†…éƒ¨ä»æ¥ä¸ç§°å‘¼â€œåº—å‘˜â€æˆ–â€œå‘˜å·¥â€ï¼Œè€Œæ˜¯ç§°â€œä¼™ä¼´â€ï¼ˆPartnerï¼‰ï¼Œå°±æ˜¯æƒ³è®©æ¯ä¸ªäººä¹‹é—´æ˜¯å½¼æ­¤å°Šé‡ã€‚ è¿™ç§äººæ€§æ–‡åŒ–ï¼Œä¹Ÿè®¸å°±æ˜¯å’–å•¡å¸ˆä»¬ä¸å¤ªçƒ­æƒ…ï¼Œå´åˆæ°å¦‚å…¶åˆ†çš„åŸå› ã€‚ ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œæˆ‘æè®¨åŒå¾ˆå¤šä¼ä¸šå´‡å°šçš„â€œç‹¼æ€§æ–‡åŒ–â€ï¼Œè€Œä¸”â€œç‹¼æ€§æ–‡åŒ–â€å¾€å¾€ä¼šæ¼”å˜æˆä¸€ç§â€œç‹¼ç‹—æ–‡åŒ–â€ã€‚ æ€ä¹ˆè¯´å‘¢ï¼Ÿä»–ä»¬æœŸæœ›å‘˜å·¥å¯¹å¾…çºªå¾‹çš„ç»Ÿä¸€æ€§åƒç‹¼ï¼Œä½†åˆæœ‰å¸Œæœ›å‘˜å·¥å¯¹å¾…å…¬å¸çš„å¿ è¯šåº¦åƒç‹—ï¼›ä»–ä»¬æœŸæœ›å‘˜å·¥å¯¹å¾…ç«äº‰çš„è¿›å–å¿ƒåƒç‹¼ï¼Œä½†åˆå¸Œæœ›å‘˜å·¥å¯¹å¾…å®¢æˆ·çš„è¿åˆåº¦åƒç‹—ã€‚ è¿™ä¸€ä¼šå„¿ç‹¼æ€§ï¼Œä¸€ä¼šå„¿ç‹—æ€§çš„ï¼Œå‘˜å·¥ä¸åˆ†è£‚å—ï¼Œä¸ºå•¥å°±ä¸èƒ½è®©ä»–ä»¬æ‹¥æœ‰â€œäººæ€§â€ã€‚ æˆ‘çš„MBAç®¡ç†å­¦æ•™æˆè¯´è¿‡ä¸€å¥è¯ï¼Œæˆ‘å¾ˆè®¤å¯ï¼Œä»–è¯´ï¼šâ€œç®¡ç†å°±åƒæ•™è‚²å°å­©ï¼Œèº«ä½“åŠ›è¡Œå¤§äºè¯´æ•™ï¼Œä½ å¯¹å‘˜å·¥å•¥æ ·ï¼Œå‘˜å·¥ä¹Ÿä¼šå¯¹å®¢æˆ·å•¥æ ·ã€‚â€ æƒ³æƒ³ä¹Ÿæ˜¯å§ï¼Œä½ ä¸€å˜´çš„ä»ä¹‰é“å¾·ï¼Œå´å¯¹å‘˜å·¥ç™¾èˆ¬è‹›åˆ»ï¼Œä½ è¿˜èƒ½æŒ‡æœ›å‘˜å·¥å¯¹å®¢æˆ·å¥½åˆ°å“ªé‡Œï¼Ÿå¤šåŠæ˜¯èƒ½éª—ä¸€ä¸ªç®—ä¸€ä¸ªã€‚ æœ€åï¼Œåƒäºçš„åˆ°åº•æ˜¯è°ï¼Ÿ æ‰€ä»¥è¿™ä»¶äº‹å¯¹æˆ‘çš„å¯å‘æ˜¯ï¼Œæ— è®ºç»è¥è¿˜æ˜¯ç®¡ç†ï¼Œæ— è®ºå¯¹å¾…å®¢æˆ·è¿˜æ˜¯å¯¹å¾…å‘˜å·¥ï¼Œéƒ½è¿˜æ˜¯å›å½’æœ¬æ€§å¥½äº›ã€‚ ä¸èƒ½å› ä¸ºå‘˜å·¥èº«å¤„åº•å±‚ï¼Œä½ å°±é£æ‰¬è·‹æ‰ˆï¼›ä¹Ÿä¸è¦å› ä¸ºå®¢æˆ·æ‰‹æ¡è´¢æºï¼Œä½ å°±åªšé¢œç™¾çŒ®ã€‚ å¯¹äººå®å®åœ¨åœ¨ï¼ŒæŠŠè¯¥åšçš„åšå¥½ï¼Œæ¯”å•¥éƒ½å¼ºã€‚ä¹Ÿåˆ«å†é¼“å¹ä»€ä¹ˆâ€œç‹¼æ€§æ–‡åŒ–â€ï¼Œè¿™ä¸ªå¹´ä»£æ›´éœ€è¦çš„æ˜¯â€œäººæ€§æ–‡åŒ–â€ã€‚ - THE END - * ä½œè€…ï¼šå¾å¤§ç»´ï¼ŒçŸ¥ååŸ¹è®­é¡¾é—®ï¼ŒåŸå¹³å®‰é›†å›¢æ¸ é“æ€»ç›‘ï¼Œé¦™æ¸¯ç†å·¥å¤§å­¦ç®¡ç†ç¡•å£«ï¼Œç®€ä¹¦ç­¾çº¦ä½œè€…ã€‚å…¬ä¼—å·ï¼šè‰¯å¤§å¸ˆï¼ˆID:lang-da-shiï¼‰ã€‚","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://rovast.github.io/categories/éšæƒ³/"}],"tags":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://rovast.github.io/tags/è½¬è½½/"}]},{"title":"phpunit å¿«é€Ÿå…¥é—¨","slug":"start-phpunit","date":"2019-01-08T13:25:32.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2019/01/08/start-phpunit/","link":"","permalink":"https://rovast.github.io/2019/01/08/start-phpunit/","excerpt":"","text":"phpunit çš„å®˜æ–¹æ–‡æ¡£å¯¹å¦‚ä½•ä½¿ç”¨ phpunit è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ã€‚æœ¬äººåœ¨é€šè¯»æ–‡æ¡£åè¿›è¡Œäº†ä¸€äº›æ¦‚è¦æå‡ï¼ŒåŒæ—¶æ‘˜å½•äº†ä¸€äº›ç¤ºä¾‹ phpunit-demoï¼Œä¾¿äºä»¥åç†è§£å’ŒæŸ¥é˜…ã€‚ æ–‡æ¡£è¾ƒä¸ºç®€æ´ï¼Œä½†æ˜¯ä¹Ÿæ¶µç›–äº†å¹³æ—¶ä½¿ç”¨çš„åŸºæœ¬ç”¨æ³•ï¼Œé€‚åˆå…¥é—¨ä½¿ç”¨ã€‚ å®‰è£… phpunité¡¹ç›®å®‰è£…1composer require --dev phpunit/phpunit ä½¿ç”¨ ./vendor/bin/phpunit å…¨å±€å®‰è£…1composer global require --dev phpunit/phpunit ä½¿ç”¨ phpunit å¿«é€Ÿå…¥é—¨åŸºæœ¬æ ¼å¼ æµ‹è¯•ç±»å‘½åï¼š ç±»å + Test ï¼Œ eg FooClassTest æµ‹è¯•æ–¹æ³•å‘½åï¼š test + æ–¹æ³•å, eg testFoo ä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨é‡Š @test æ¥æ ‡æ³¨éœ€è¦æµ‹è¯•çš„æ–¹æ³• 1234567891011121314151617use PHPUnit\\Framework\\TestCase;class SampleTest extends TestCase&#123; public function testSomething() &#123; $this-&gt;assertTrue(true, 'This should already work.'); &#125; /** * @test */ public function something() &#123; $this-&gt;assertTrue(true, 'This should already work.'); &#125;&#125; æµ‹è¯•ä¾èµ–(@depends)æœ‰ä¸€äº›æµ‹è¯•æ–¹æ³•éœ€è¦ä¾èµ–äºå¦ä¸€ä¸ªæµ‹è¯•æ–¹æ³•çš„è¿”å›å€¼ï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨æµ‹è¯•ä¾èµ–ã€‚æµ‹è¯•ä¾èµ–é€šè¿‡æ³¨é‡Š @depends æ¥æ ‡è®°ã€‚ ä¸‹åˆ—ä¸­ï¼Œ depends æ–¹æ³•çš„ return å€¼ä½œä¸º testConsumer çš„å‚æ•°ä¼ å…¥ 1234567891011121314151617181920212223242526use PHPUnit\\Framework\\TestCase;class MultipleDependenciesTest extends TestCase&#123; public function testProducerFirst() &#123; $this-&gt;assertTrue(true); return 'first'; &#125; public function testProducerSecond() &#123; $this-&gt;assertTrue(true); return 'second'; &#125; /** * @depends testProducerFirst * @depends testProducerSecond */ public function testConsumer($a, $b) &#123; $this-&gt;assertSame('first', $a); $this-&gt;assertSame('second', $b); &#125;&#125; æ•°æ®æä¾›å™¨(@dataProvider)åœ¨ä¾èµ–ä¸­ï¼Œæ‰€ä¾èµ–å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºå‚æ•°ä¼ å…¥æµ‹è¯•å‡½æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ•°æ®æä¾›å™¨æ¥å®šä¹‰ä¼ å…¥çš„æ•°æ®ã€‚ 12345678910111213141516171819202122use PHPUnit\\Framework\\TestCase;class DataTest extends TestCase&#123; /** * @dataProvider additionProvider */ public function testAdd($a, $b, $expected) &#123; $this-&gt;assertSame($expected, $a + $b); &#125; public function additionProvider() &#123; return [ 'adding zeros' =&gt; [0, 0, 0], // 0 + 0 = 0 pass 'zero plus one' =&gt; [0, 1, 1], // 0 + 1 = 1 pass 'one plus zero' =&gt; [1, 0, 1], // 1 + 0 = 1 pass 'one plus one' =&gt; [1, 1, 2], // 1 + 1 = 2 pass ]; &#125;&#125; æµ‹è¯•å¼‚å¸¸(expectException)éœ€è¦åœ¨æµ‹è¯•æ–¹æ³•çš„å¼€å§‹å¤„å£°æ˜æ–­è¨€ï¼Œç„¶åæ‰§è¡Œè¯­å¥ã€‚è€Œä¸æ˜¯è°ƒç”¨åå†å£°æ˜ ä¹Ÿå¯ä»¥é€šè¿‡æ³¨é‡Šæ¥å£°æ˜ @expectedException, @expectedExceptionCode,@expectedExceptionMessage, @expectedExceptionMessageRegExp 123456789101112131415161718192021use PHPUnit\\Framework\\TestCase;class ExceptionTest extends TestCase&#123; public function testException() &#123; $this-&gt;expectException(\\Exception::class); throw new \\Exception('test'); &#125; /** * @throws \\Exception * @test * @expectedException \\Exception */ public function exceptionExpect() &#123; throw new \\Exception('test'); &#125;&#125; æµ‹è¯• PHP é”™è¯¯é€šè¿‡æå‰æ·»åŠ æœŸæœ›ï¼Œæ¥ä½¿æµ‹è¯•æ­£å¸¸è¿›è¡Œï¼Œè€Œä¸ä¼šæŠ¥å‡º PHP é”™è¯¯ 123456789101112use PHPUnit\\Framework\\TestCase;class ExpectedErrorTest extends TestCase&#123; /** * @expectedException PHPUnit\\Framework\\Error\\Error */ public function testFailingInclude() &#123; include 'not_existing_file.php'; &#125;&#125; æµ‹è¯•è¾“å‡ºç›´æ¥æ·»åŠ æœŸæœ›è¾“å‡ºï¼Œç„¶åæ‰§è¡Œç›¸å…³å‡½æ•°ã€‚å’Œæµ‹è¯•å¼‚å¸¸ç±»ä¼¼ï¼Œéœ€è¦å…ˆæ·»åŠ æœŸæœ›ï¼Œå†æ‰§è¡Œä»£ç ã€‚ 12345678910111213141516use PHPUnit\\Framework\\TestCase;class OutputTest extends TestCase&#123; public function testExpectFooActualFoo() &#123; $this-&gt;expectOutputString('foo'); print 'foo'; &#125; public function testExpectBarActualBaz() &#123; $this-&gt;expectOutputString('bar'); print 'baz'; &#125;&#125; å‘½ä»¤è¡Œæµ‹è¯•æ­¤ç« èŠ‚ä¸»è¦è¯´æ˜äº†å‘½ä»¤è¡Œçš„ä¸€äº›æ ¼å¼å’Œå¯ç”¨å‚æ•°ã€‚å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£è·å–ç»†èŠ‚ã€‚The Command-Line Test Runner åŸºå¢ƒåŸºå¢ƒå°±æ˜¯åœ¨æµ‹è¯•å‰éœ€è¦å‡†å¤‡çš„ä¸€ç³»åˆ—ä¸œè¥¿ã€‚ æ¯”å¦‚æœ‰çš„æµ‹è¯•éœ€è¦ä¾èµ–æ•°æ®åº“çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨æµ‹è¯•ç±»è¿ä½œå‰éœ€è¦è¿›è¡Œæ•°æ®çš„å‡†å¤‡ã€‚ ä¸»è¦æœ‰ä¸¤ä¸ªå‡½æ•° setUp å’Œ tearDownã€‚ é‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å‘¢ï¼Ÿæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæœ‰ä»–ç”¨ï¼Œå½“ç„¶ä½ å¯å¯ä»¥ç›´æ¥ç”¨æ„é€ å‡½æ•°ï¼Œç„¶åå†æ‰§è¡Œ parent::__constructï¼Œä½†ä¸æ˜¯éº»çƒ¦å˜›; ç»„ç»‡ä½ çš„æµ‹è¯•ä»£ç å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„ --bootstrap å‚æ•°æ¥æŒ‡å®šå¯åŠ¨æ–‡ä»¶ï¼Œç”¨äºæ–‡ä»¶åŠ è½½ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥æŒ‡å‘ composer çš„ autoload æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼ˆæ¨èï¼‰ã€‚ 12345678$ phpunit --bootstrap src/autoload.php testsPHPUnit |version|.0 by Sebastian Bergmann and contributors..................................Time: 636 ms, Memory: 3.50MbOK (33 tests, 52 assertions) 1234567&lt;phpunit bootstrap=\"src/autoload.php\"&gt; &lt;testsuites&gt; &lt;testsuite name=\"money\"&gt; &lt;directory&gt;tests&lt;/directory&gt; &lt;/testsuite&gt; &lt;/testsuites&gt;&lt;/phpunit&gt; æœ‰é£é™©çš„æµ‹è¯•(Risky Tests)æ— ç”¨æµ‹è¯•(Useless Tests)é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çš„æµ‹è¯•å‡½æ•°æ²¡æœ‰æ·»åŠ é¢„æœŸæˆ–è€…æ–­è¨€ï¼Œå°±ä¼šè¢«è®¤ä¸ºæ˜¯æ— ç”¨æµ‹è¯•ã€‚ é€šè¿‡è®¾ç½® --dont-report-useless-tests å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–è€…åœ¨ xml é…ç½®æ–‡ä»¶ä¸­é…ç½® beStrictAboutTestsThatDoNotTestAnything=&quot;false&quot; æ¥æ›´æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚ æ„å¤–çš„ä»£ç è¦†ç›–(Unintentionally Covered Code)å½“æ‰“å¼€è¿™ä¸ªé…ç½®åï¼Œå¦‚æœä½¿ç”¨ @covers æ³¨é‡Šæ¥åŒ…å«ä¸€äº›æ–‡ä»¶çš„è¦†ç›–æŠ¥å‘Šï¼Œå°±ä¼šè¢«åˆ¤å®šä¸ºæœ‰é£é™©çš„æµ‹è¯•ã€‚ é€šè¿‡è®¾ç½® --strict-coverage å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–è€…åœ¨ xml é…ç½®æ–‡ä»¶ä¸­é…ç½® beStrictAboutCoversAnnotation=&quot;true&quot; æ¥æ›´æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚ æµ‹è¯•è¿‡ç¨‹ä¸­æœ‰è¾“å‡º(Output During Test Execution)å¦‚æœåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è¾“å‡ºæ–‡æœ¬ï¼Œåˆ™ä¼šè¢«è®¤å®šä¸ºæœ‰é£é™©çš„æµ‹è¯•ã€‚ é€šè¿‡è®¾ç½® --disallow-test-output å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–è€…åœ¨ xml é…ç½®æ–‡ä»¶ä¸­é…ç½® beStrictAboutOutputDuringTests=&quot;true&quot; æ¥æ›´æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚ æµ‹è¯•è¶…æ—¶(Test Execution Timeout)é€šè¿‡æ³¨é‡Šæ¥é™åˆ¶æŸäº›æµ‹è¯•ä¸èƒ½è¶…è¿‡ä¸€å®šæ—¶é—´ï¼š @large 60ç§’ @medium 10ç§’ @small 1ç§’ é€šè¿‡è®¾ç½® --enforce-time-limit å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–è€…åœ¨ xml é…ç½®æ–‡ä»¶ä¸­é…ç½® enforceTimeLimit=&quot;true&quot; æ¥æ›´æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚ æ“ä½œå…¨å±€çŠ¶æ€(Global State Manipulation)phpunit å¯ä»¥å¯¹å…¨å±€çŠ¶æ€è¿›è¡Œæ£€æµ‹ã€‚ é€šè¿‡è®¾ç½® --strict-global-state å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–è€…åœ¨ xml é…ç½®æ–‡ä»¶ä¸­é…ç½® beStrictAboutChangesToGlobalState=&quot;true&quot; æ¥æ›´æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚ å¾…å®Œå–„çš„æµ‹è¯•å’Œè·³è¿‡çš„æµ‹è¯•å¤„äºä¸€äº›åŸå› ï¼Œæˆ‘ä»¬å¸Œæœ›è·³è¿‡æˆ–è€…å¯¹æŸäº›æµ‹è¯•æ–¹æ³•æ ‡è®°æœªå¾…å®Œå–„ å¾…å®Œå–„çš„æµ‹è¯•ä½¿ç”¨ $this-&gt;markTestIncomplete æ ‡è®°å¾…å®Œå–„çš„æµ‹è¯• 123456789101112use PHPUnit\\Framework\\TestCase;class SampleTest extends TestCase&#123; public function testSomething() &#123; $this-&gt;assertTrue(true, 'This should already work.'); $this-&gt;markTestIncomplete( 'This test has not been implemented yet.' ); &#125; è·³è¿‡çš„æµ‹è¯•ä½¿ç”¨ markTestSkipped æ¥æ ‡è®°è·³è¿‡çš„æµ‹è¯•ã€‚123456789101112131415161718use PHPUnit\\Framework\\TestCase;class DatabaseTest extends TestCase&#123; protected function setUp() &#123; if (!extension_loaded('mysqli')) &#123; $this-&gt;markTestSkipped( 'The MySQLi extension is not available.' ); &#125; &#125; public function testConnection() &#123; // ... &#125;&#125; ç»“åˆ @require æ¥è·³è¿‡æµ‹è¯•ä»¥ä¸‹çš„ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨ require æ¥é™å®šæµ‹è¯•éœ€è¦ä¾èµ– mysqli æ‹“å±•å’Œ 5.3 ä»¥ä¸Šçš„ PHP ç‰ˆæœ¬ï¼Œå¦åˆ™è·³è¿‡æµ‹è¯• 1234567891011121314151617use PHPUnit\\Framework\\TestCase;/** * @requires extension mysqli */class DatabaseTest extends TestCase&#123; /** * @requires PHP 5.3 */ public function testConnection() &#123; // Test requires the mysqli extension and PHP &gt;= 5.3 &#125; // ... All other tests require the mysqli extension&#125; æ•°æ®åº“æµ‹è¯•ä½¿ç”¨æ•°æ®åº“æµ‹è¯•ä¹‹å‰å…ˆå®‰è£…æ‹“å±• composer require --dev phpunit/dbunitã€‚ æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨å¥½å¤šçš„æµ‹è¯•åœºæ™¯ä¸­éƒ½ä¼šç”¨åˆ°æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆ PHPUnit çš„åŸºå¢ƒç« èŠ‚ä¸­æåˆ°çš„ setUp æ¥è¿›è¡Œæµ‹è¯•ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293use PHPUnit\\DbUnit\\DataSet\\ArrayDataSet;use PHPUnit\\DbUnit\\TestCaseTrait;use PHPUnit\\Framework\\TestCase;/** * æµ‹è¯•ä¹‹å‰ï¼Œéœ€è¦åœ¨ MySQL ä¸­æ–°å»ºæ•°æ®åº“ phpunitï¼Œå¹¶ä¸”æ–°å»ºè¡¨ guestbook * CREATE TABLE `guestbook` ( * `id` bigint(20) NOT NULL, * `content` varchar(255) COLLATE utf8mb4_bin NOT NULL, * `user` varchar(255) COLLATE utf8mb4_bin NOT NULL, * `created` datetime NOT NULL * ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin; * Class ConnectionTest. * * @requires extension pdo_mysql */class ConnectionTest extends TestCase&#123; use TestCaseTrait; /** * @return \\PHPUnit\\DbUnit\\Database\\DefaultConnection */ public function getConnection() &#123; $pdo = new \\PDO( 'mysql:host=127.0.0.1:33060;dbname=phpunit;charset=utf8mb4', 'root', '112233' ); return $this-&gt;createDefaultDBConnection($pdo); &#125; /** * è¯·æ³¨æ„ï¼Œphpunitæ¯æ¬¡ä¼šå…ˆ TRUNCATE æ•°æ®åº“ï¼Œç„¶åæŠŠä¸‹é¢æ•°ç»„çš„æ•°æ®æ’å…¥è¿›å». * * @return ArrayDataSet */ public function getDataSet() &#123; return new ArrayDataSet( [ 'guestbook' =&gt; [ [ 'id' =&gt; 1, 'content' =&gt; 'Hello buddy!', 'user' =&gt; 'joe', 'created' =&gt; '2010-04-24 17:15:23', ], [ 'id' =&gt; 2, 'content' =&gt; 'I like it!', 'user' =&gt; 'mike', 'created' =&gt; '2010-04-26 12:14:20', ], ], ] ); &#125; public function testCreateDataSet() &#123; $this-&gt;markTestSkipped('just an example, skipped'); $tableNames = ['guestbook']; $dataSet = $this-&gt;getConnection()-&gt;createDataSet(); &#125; public function testCreateQueryTable() &#123; $this-&gt;markTestSkipped('just an example, skipped'); $tableNames = ['guestbook']; $queryTable = $this-&gt;getConnection()-&gt;createQueryTable('guestbook', 'SELECT * FROM guestbook'); &#125; public function testGetRowCount() &#123; $this-&gt;assertSame(2, $this-&gt;getConnection()-&gt;getRowCount('guestbook')); &#125; /** * æµ‹è¯•è¡¨çš„å†…å®¹å’Œç»™å®šçš„æ•°æ®é›†ç›¸ç­‰. */ public function testAddEntry() &#123; $queryTable = $this-&gt;getConnection()-&gt;createQueryTable( 'guestbook', 'SELECT * FROM guestbook' ); $expectedTable = $this-&gt;createFlatXmlDataSet(__DIR__.'/expectedBook.xml') -&gt;getTable('guestbook'); $this-&gt;assertTablesEqual($expectedTable, $queryTable); &#125;&#125; å…¶ä¸­ getConnection å’Œ getDataSet éƒ½æ˜¯ TestCaseTrait ä¸­æä¾›çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ getConnection ä¸­è®¾å®šæ•°æ®åº“çš„é“¾æ¥åŠ¨ä½œï¼ŒåŒæ—¶åœ¨ getDataSet ä¸­è®¾å®šéœ€è¦å¾€æ•°æ®åº“ä¸­å†™å…¥çš„æ•°æ®ï¼Œæ³¨æ„ï¼Œæ¯æ¬¡æ‰§è¡Œè¿™ä¸ªæµ‹è¯•ç±»æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œ æ¸…ç©ºæ•°æ®åº“ TRUNCATE å¡«å……æ•°æ® å¦‚ä½•éªŒè¯å‘¢ï¼ŸåŠ ä¸€ä¸ªå­—æ®µä¸º datetime ç±»å‹ï¼Œè®¾ç½®ä½æ•°æ®åº“è‡ªåŠ¨æ›´æ–°æ—¶é—´ï¼Œå³å¯çœ‹åˆ°æ¯æ¬¡æ‰§è¡Œæµ‹è¯•æ—¶ï¼Œæ—¶é—´éƒ½åœ¨å˜åŒ– æµ‹è¯•æ¡©æ‰€è°“çš„æ¡©æµ‹è¯•ï¼Œå…¶å®å°±æ˜¯å¯¹ä¸€äº›ç±»çš„æ–¹æ³•è¿›è¡Œä¸€ç•ª mockï¼Œå¼ºåˆ¶å…¶è¿”å›ä¸€äº›æ•°æ®ã€‚å› ä¸ºåœ¨å¼€å‘ä¸­ï¼Œæœ‰ä¸€äº›ç±»ä¾èµ–äºç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œè€Œç¬¬ä¸‰æ–¹æœåŠ¡åˆå±äºâ€œä¸å¯æ§â€å› ç´ ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨â€œæ¡©â€äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141use PHPUnit\\Framework\\TestCase;class StubTest extends TestCase&#123; public function testStub() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;createMock(SomeClass::class); // Configure the stub. $stub-&gt;method('doSomething') -&gt;willReturn('foo'); // Calling $stub-&gt;doSomething() will now return // 'foo'. $this-&gt;assertSame('foo', $stub-&gt;doSomething()); &#125; public function testStub2() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;getMockBuilder(SomeClass::class) -&gt;disableOriginalConstructor() -&gt;disableOriginalClone() -&gt;disableArgumentCloning() -&gt;disallowMockingUnknownTypes() -&gt;getMock(); // Configure the stub. $stub-&gt;method('doSomething') -&gt;willReturn('foo'); // Calling $stub-&gt;doSomething() will now return // 'foo'. $this-&gt;assertSame('foo', $stub-&gt;doSomething()); &#125; public function testReturnArgumentStub() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;createMock(SomeClass::class); // Configure the stub. $stub-&gt;method('doSomething') -&gt;will($this-&gt;returnArgument(0)); // $stub-&gt;doSomething('foo') returns 'foo' $this-&gt;assertSame('foo', $stub-&gt;doSomething('foo')); // $stub-&gt;doSomething('bar') returns 'bar' $this-&gt;assertSame('bar', $stub-&gt;doSomething('bar')); &#125; public function testReturnSelf() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;createMock(SomeClass::class); // Configure the stub. $stub-&gt;method('doSomething') -&gt;will($this-&gt;returnSelf()); // $stub-&gt;doSomething() returns $stub $this-&gt;assertSame($stub, $stub-&gt;doSomething()); &#125; public function testReturnValueMapStub() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;createMock(SomeClass::class); // Create a map of arguments to return values. $map = [ ['a', 'b', 'c', 'd'], ['e', 'f', 'g', 'h'], ]; // Configure the stub. $stub-&gt;method('doSomething') -&gt;will($this-&gt;returnValueMap($map)); // $stub-&gt;doSomething() returns different values depending on // the provided arguments. $this-&gt;assertSame('d', $stub-&gt;doSomething('a', 'b', 'c')); $this-&gt;assertSame('h', $stub-&gt;doSomething('e', 'f', 'g')); &#125; public function testReturnCallbackStub() &#123; // Create a stub for the SomeClass class. $stub = $this-&gt;createMock(SomeClass::class); // Configure the stub. $stub-&gt;method('doSomething') -&gt;will($this-&gt;returnCallback('str_rot13')); // $stub-&gt;doSomething($argument) returns str_rot13($argument) $this-&gt;assertSame('fbzrguvat', $stub-&gt;doSomething('something')); &#125; /** * æŒ‰ç…§æŒ‡å®šé¡ºåºè¿”å›åˆ—è¡¨ä¸­çš„å€¼ */ public function testOnConsecutiveCallsStub() &#123; // ä¸º SomeClass ç±»åˆ›å»ºæ¡©ä»¶ã€‚ $stub = $this-&gt;createMock(SomeClass::class); // é…ç½®æ¡©ä»¶ã€‚ $stub-&gt;method('doSomething') -&gt;will($this-&gt;onConsecutiveCalls(2, 3, 5, 7)); // $stub-&gt;doSomething() æ¯æ¬¡è¿”å›å€¼éƒ½ä¸åŒ $this-&gt;assertSame(2, $stub-&gt;doSomething()); $this-&gt;assertSame(3, $stub-&gt;doSomething()); $this-&gt;assertSame(5, $stub-&gt;doSomething()); &#125; public function testThrowExceptionStub() &#123; $this-&gt;expectException(\\Exception::class); // ä¸º SomeClass ç±»åˆ›å»ºæ¡©ä»¶ $stub = $this-&gt;createMock(SomeClass::class); // é…ç½®æ¡©ä»¶ã€‚ $stub-&gt;method('doSomething') -&gt;will($this-&gt;throwException(new \\Exception())); // $stub-&gt;doSomething() æŠ›å‡ºå¼‚å¸¸ $stub-&gt;doSomething(); &#125;&#125;class SomeClass&#123; public function doSomething() &#123; // Do something. &#125;&#125; æˆ‘ä»¬çœ‹åˆ°ï¼Œ SomeClass çš„ doSomething() æœ¬èº«æ²¡æœ‰è¿”å›æ•°æ®ï¼Œæˆ‘ä»¬é€šè¿‡æ¡©åŠ¨ä½œï¼Œæ¥å®Œæˆäº†æµ‹è¯•ã€‚ è¿™ä¸ªåœ¨æµ‹è¯•ä¾èµ–äºç¬¬ä¸‰æ–¹æœåŠ¡çš„ç›¸å…³ä»£ç æ—¶å¾ˆç®¡ç”¨ã€‚ ä»£ç è¦†ç›–åº¦ç™½åå•æ–‡ä»¶(Whitelisting Files)æ·»åŠ åˆ°ç™½åå•æ–‡ä»¶çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œä¼šè¿›è¡Œä»£ç è¦†ç›–åº¦ç»Ÿè®¡çš„å·¥ä½œã€‚å…·ä½“çš„å‚æ•°å¯ä»¥çœ‹å¸®åŠ©æ–‡æ¡£ ### å¿½ç•¥ä»£ç å—(Ignoring Code Blocks) æˆ‘ä»¬å¯ä»¥æ·»åŠ éƒ¨åˆ†ä»£ç ä¸è¿›è¡Œè¦†ç›–åº¦ç»Ÿè®¡ã€‚é€šè¿‡ä¸€äº›æ³¨é‡Šæ¥æ ‡è®°å³å¯ 1234567891011121314151617181920212223242526272829use PHPUnit\\Framework\\TestCase;/** * @codeCoverageIgnore */class Foo&#123; public function bar() &#123; &#125;&#125;class Bar&#123; /** * @codeCoverageIgnore */ public function foo() &#123; &#125;&#125;if (false) &#123; // @codeCoverageIgnoreStart print '*'; // @codeCoverageIgnoreEnd&#125;exit; // @codeCoverageIgnore æ‰§è¡Œæ–¹æ³•è¿›è¡Œç»Ÿè®¡(Specifying Covered Methods)åŒæ ·é€šè¿‡æ·»åŠ æ³¨é‡Šæ ‡è®°çš„æ–¹æ³•æ¥æ‰§è¡Œéœ€è¦è¦†ç›–çš„æ–¹æ³•ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869use PHPUnit\\Framework\\TestCase;class BankAccountTest extends TestCase&#123; protected $ba; protected function setUp() &#123; $this-&gt;ba = new BankAccount; &#125; /** * @covers BankAccount::getBalance */ public function testBalanceIsInitiallyZero() &#123; $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance()); &#125; /** * @covers BankAccount::withdrawMoney */ public function testBalanceCannotBecomeNegative() &#123; try &#123; $this-&gt;ba-&gt;withdrawMoney(1); &#125; catch (BankAccountException $e) &#123; $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance()); return; &#125; $this-&gt;fail(); &#125; /** * @covers BankAccount::depositMoney */ public function testBalanceCannotBecomeNegative2() &#123; try &#123; $this-&gt;ba-&gt;depositMoney(-1); &#125; catch (BankAccountException $e) &#123; $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance()); return; &#125; $this-&gt;fail(); &#125; /** * @covers BankAccount::getBalance * @covers BankAccount::depositMoney * @covers BankAccount::withdrawMoney */ public function testDepositWithdrawMoney() &#123; $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance()); $this-&gt;ba-&gt;depositMoney(1); $this-&gt;assertSame(1, $this-&gt;ba-&gt;getBalance()); $this-&gt;ba-&gt;withdrawMoney(1); $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance()); &#125;&#125;","categories":[{"name":"æµç¨‹","slug":"æµç¨‹","permalink":"https://rovast.github.io/categories/æµç¨‹/"}],"tags":[]},{"title":"è°·æ­Œæµè§ˆå™¨æˆªå–æ•´ä¸ªç½‘é¡µ","slug":"capture-full-size-in-chrome","date":"2018-12-29T13:35:04.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/29/capture-full-size-in-chrome/","link":"","permalink":"https://rovast.github.io/2018/12/29/capture-full-size-in-chrome/","excerpt":"","text":"é—®ï¼ŒæŠŠå¤§è±¡è£…è¿›å†°ç®±è¦å‡ æ­¥ï¼Ÿ ç­”ï¼Œä¸‰æ­¥ã€‚å…ˆæ‰“å¼€å†°ç®±ï¼Œç„¶åå¡è¿›å»ï¼Œå†å…³ä¸Šå†°ç®±ã€‚ é—®ï¼Œchrome æˆªå–æ•´ä¸ªç½‘é¡µè¦å‡ æ­¥ï¼Ÿ ç­”ï¼šä¸‰æ­¥ã€‚ 1. æ‰“å¼€æ§åˆ¶å° 2. ä¾æ¬¡é”®å…¥ ctrl shift p 3. è¾“å…¥ captureï¼Œé€‰æ‹© capture full size å³å¯","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[]},{"title":"restful API çš„ code ç å®šä¹‰","slug":"define-restful-api-code","date":"2018-12-28T20:32:35.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/28/define-restful-api-code/","link":"","permalink":"https://rovast.github.io/2018/12/28/define-restful-api-code/","excerpt":"","text":"å‰è¨€éšç€ç½‘ç»œåº”ç”¨çš„ä¸æ–­å‘å±•ï¼Œè¡ç”Ÿå‡ºäº†ã€Œå‰åç«¯åˆ†ç¦»ã€çš„åŸºæœ¬æ¶æ„ã€‚å‰åç«¯åˆ†ç¦»çš„ä¼˜åŠ¿è¿™é‡Œä¸ä½œæ·±å…¥è®¨è®ºã€‚ å‰åç«¯å®Œå…¨åˆ†ç¦»åï¼Œå¤šç«¯ï¼ˆæµè§ˆå™¨ã€APPç­‰ï¼‰å’ŒæœåŠ¡ç«¯çš„äº¤äº’å¯ä»¥é€šè¿‡ API è¯·æ±‚çš„æ–¹å¼è¿›è¡Œï¼Œæœ¬æ–‡ä¸»è¦è®¨è®ºrestful api å®è·µä¸­çš„ä¸€ç¯ï¼šæ•°æ®è¿”å›æ ¼å¼çš„å®šä¹‰ã€‚ å…³äº rest çš„ä¸€äº›è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°æ€»ç»“çš„ä¸¤ç¯‡æ–‡ç« ï¼š ã€ŠRESTful API è®¾è®¡æŒ‡å—ã€‹ RESTful API æœ€ä½³å®è·µ æ•°æ®è¿”å›æ ¼å¼æ•°æ®è¿”å›ä¸»è¦è¦åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š æœåŠ¡å™¨çš„å“åº”çŠ¶æ€ï¼Œèµ·ç è¦çŸ¥é“æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥æ˜¯å§ è¯·æ±‚çš„æ•°æ®å†…å®¹ï¼Œæ¯”å¦‚æˆ‘è·å–äº†äº§å“åˆ—è¡¨ï¼Œä½ è¦å‘Šè¯‰æˆ‘æœ‰å“ªäº›äº§å“æ˜¯å§ è¯·æ±‚çš„æ›´å¤šè¯´æ˜ï¼Œå°±æ˜¯å¯¹1çš„è¯´æ˜ï¼Œæ¯”å¦‚å¤±è´¥äº†ï¼Œä½ è¦å‘Šè¯‰æˆ‘ä»€ä¹ˆåŸå› æ˜¯å§ æ€»ç»“ä¸‹æ¥ï¼ŒåŸºæœ¬ç»“æ„ä¸º 12345678&#123; code: 200, data: [ &#123; name: \"xiao mi\"&#125;, &#123; name: \"apple\"&#125; ], msg: \"success\"&#125; å…¶ä¸­ code ä¸ºæ¥å£è¿”å›çš„çŠ¶æ€ç ï¼ˆå’Œ http ç ä¸å¤ªä¸€æ ·ï¼Œå®Œå…¨å¯ä»¥è‡ªå·±å®šä¹‰ï¼‰ data ä¸ºè¿”å›çš„æ•°æ®ï¼Œä¸º json æ ¼å¼ï¼Œå¯ä»¥æ˜¯æ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯å•æ¡æ•°æ® msg ä¸º code çš„è¯´æ˜ï¼Œå°¤å…¶åœ¨è¯·æ±‚é”™è¯¯æ—¶ï¼Œè¿›è¡Œç›¸å…³æè¿° éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨è data å­—æ®µé‡‡å–æ ‡å‡†jsonè¿›è¡Œä¼ è¾“ï¼Œå³ä½¿æ˜¯å†ç®€å•çš„æ•°æ®ï¼Œä¸è¦è¿›è¡Œè‡ªå®šä¹‰æ ¼å¼ã€‚è¿™æ ·æ–¹ä¾¿å‰åç«¯ç¼–ç  code çš„å®šä¹‰è§„åˆ™code ä¸€èˆ¬é‡‡å–é€šç”¨ç å’Œä¸šåŠ¡ç ç›¸ç»“åˆçš„æ–¹å¼è¿›è¡Œã€‚ é€šç”¨ç é€šç”¨ç å¯ä»¥å‚è€ƒ http åè®®çš„çŠ¶æ€ç ï¼Œå®šä¹‰äº†æœ€åŸºæœ¬çš„ä¸€äº›æƒ…å†µï¼Œç®€å•åˆ—ä¸¾å¦‚ä¸‹ 200 è¯·æ±‚æˆåŠŸ 201 åˆ›å»ºæˆåŠŸ 400 é”™è¯¯çš„è¯·æ±‚ 401 æœªæˆæƒ 403 æ— æƒé™è®¿é—® 404 æ— æ•ˆçš„è¯·æ±‚åœ°å€ 500 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ -1 ä¸šåŠ¡é”™è¯¯ï¼Œå…·ä½“åŸå› çœ‹ msg é™¤äº†ä¸Šè¿°çš„é”™è¯¯å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šé‡åˆ°æ›´å¤šå’Œä¸šåŠ¡ç›¸å…³çš„é”™è¯¯ã€‚æ¯”å¦‚è¯·æ±‚æŸä¸ªäº§å“è¯¦æƒ…æ¥å£ï¼Œæ²¡æœ‰ä¼ é€’ product_id çš„ã€Œå‚æ•°é”™è¯¯ã€ï¼Œæˆ–è€…éœ€è¦ä¼ å…¥ id ä½†æ˜¯ä¼ å…¥å‚æ•°ä¸æ˜¯ç¬¦åˆè§„å®šçš„æ•°æ®ç±»å‹ï¼ˆå¦‚ï¼šintï¼‰ã€‚ ç”šè‡³æ˜¯å› ä¸ºä»“åº“äº§å“ä¸è¶³ï¼Œå¯¼è‡´è¯·æ±‚ä¸èƒ½æ‹¿åˆ°äº§å“åˆ—è¡¨éœ€è¦æç¤ºçš„ï¼Œç­‰ç­‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„é€šç”¨ç å°±ä¸å¤Ÿçœ‹äº†ï¼Œæœ‰ä¸ªæŠ˜è¡·çš„åŠæ³•ï¼Œå°±æ˜¯è¿”å›ç»Ÿä¸€çš„ code ç ï¼Œå¦‚ -1ã€‚ç„¶ååœ¨ msg ä¸­å¯¹å…·ä½“åŸå› åšè¯´æ˜ã€‚ å¯¹äºå‡ºç°é”™è¯¯æ’æŸ¥åŸå› ï¼Œæˆ‘ä»¬åªéœ€è¦çœ‹ code ä¸º 500 å’Œ -1 çš„è¯·æ±‚ï¼Œå†ç»“åˆ msg å³å¯æ’æŸ¥ ä¸šåŠ¡ç ç­‰ç­‰ï¼ä»…ä»…é  msg æ¥ä¹ˆï¼Œä¸‡ä¸€é¡¹ç›®æ¯”è¾ƒå¤§ï¼Œmsg è¿‘ä¼¼ï¼Œè¿˜æ€ä¹ˆæ’æŸ¥ï¼Ÿæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œæ ¹æ® code èƒ½å¿«é€Ÿå®šä½åˆ°é—®é¢˜å‘¢ï¼Ÿ å½“ç„¶å¯ä»¥ï¼ æˆ‘ä»¬å‡è®¾æœ‰å¦‚ä¸‹ä¸šåŠ¡æ¨¡å—ï¼šç”¨æˆ·ï¼ˆUserï¼‰ã€äº§å“ï¼ˆProductï¼‰ã€è¯„è®ºï¼ˆCommentï¼‰ æˆ‘ä»¬å¯ä»¥å¯¹ä¸šåŠ¡è¿›è¡Œç›¸å…³ç¼–ç ã€‚ User 01 Product 02 Comment 03 ç„¶åï¼Œæˆ‘ä»¬åœ¨å‡è®¾å„ä¸ªæ¨¡å—ä¸‹ï¼Œä¸åŒå…·ä½“åŠŸèƒ½å®šä¹‰ä¸åŒç ï¼Œå¦‚ï¼š User 01 user/list 01 user/detail 02 Product 02 product/list 01 product/detail 02 Comment 03 comment/list 01 comment/detail 03 å¥½äº†ï¼Œç›®å‰æˆ‘ä»¬æ ¹æ®ä¸šåŠ¡æ‹“å±•å‡ºäº†ä¸¤å±‚ç¼–ç ï¼Œå¦‚æœåé¢æœ‰æ›´å¤šçš„ä¸šåŠ¡å±‚çº§ï¼Œå¯ä»¥ç»§ç»­æ‹“å±•ä¸‹å»ã€‚ç”šè‡³æ˜¯ä¸åŒçš„é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ å°„å‡ºä¸€å¼  code tableï¼Œåœ¨ç¼–ç è¿‡ç¨‹ä¸­æŠ›å‡ºã€‚ è‡³æ­¤ï¼Œå¦‚æœè¯·æ±‚ç”¨æˆ·åˆ—è¡¨å‡ºé”™äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›12345&#123; code: 0101, data: null, msg: \"è¯·æ±‚ç”¨æˆ·åˆ—è¡¨å‡ºé”™\"&#125; æ€»ç»“å®šä¹‰è¿”å›å€¼çš„æ„ä¹‰åœ¨äºçº¦æŸå¤šç«¯å¼€å‘ï¼Œç»Ÿä¸€è§„èŒƒï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡å¤æ‚ç¨‹åº¦å’Œå›¢é˜Ÿè§„æ¨¡å»æŒ‡å®šç¬¦åˆè‡ªå·±çš„è§„èŒƒã€‚æ¯•ç«Ÿï¼Œå…¶å®å¥½å¤šå›¢é˜Ÿä¹Ÿä¸æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼Œå¤§å®¶å¤šå»çœ‹çœ‹ä¸€äº›æˆç†Ÿå¹³å°å®šä¹‰çš„ APIï¼Œå®Œå…¨å¯ä»¥å‚è€ƒï¼Œå¦‚ï¼š ç™¾åº¦åœ°å›¾ å¾®ä¿¡å¼€å‘æ–‡æ¡£","categories":[{"name":"æµç¨‹","slug":"æµç¨‹","permalink":"https://rovast.github.io/categories/æµç¨‹/"}],"tags":[]},{"title":"åœ¨MySQLä¸­ä½¿ç”¨utf8mb4æ¥å–ä»£utf8(åˆåï¼šutf8mb3)","slug":"use-utf8mb4-in-mysql","date":"2018-12-27T10:45:51.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2018/12/27/use-utf8mb4-in-mysql/","link":"","permalink":"https://rovast.github.io/2018/12/27/use-utf8mb4-in-mysql/","excerpt":"","text":"ç»“è®ºå…ˆæŠ›å‡ºä¸€ä¸ªç»“è®ºï¼š MySQLä¸­ï¼Œutf8 åˆå utf8mb3ï¼Œå­˜å‚¨çš„å­—ç¬¦ä½¿ç”¨ 1~3 ä¸ª byte utf8mb4ï¼Œå‚¨å­˜å­—ç¬¦æ—¶ï¼Œä½¿ç”¨ 1~4 ä¸ª byte utf8mb4 æ˜¯ utf8 çš„è¶…é›†ï¼Œå¯¹äº utf8 å­˜å‚¨çš„å†…å®¹ï¼Œ utf8mb4 ä½¿ç”¨ç›¸åŒçš„æ–¹å¼å­˜å‚¨ã€‚ utf8çš„å‚¨å­˜çš„ä¸œè¥¿ï¼Œå¯ä»¥æ— ç—›è½¬ä¸º utf8mb4 ç†è®ºæ”¯æ’‘ç»™å‡ºç»“è®ºï¼Œæ˜¯è¦æœ‰ç†è®ºä¾æ®çš„ï¼Œè®©æˆ‘ä»¬æ¥æŸ¥æŸ¥ MySQL å®˜æ–¹æ–‡æ¡£ï¼š 10.9.1 The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)The utfmb4 character set has these characteristics: Supports BMP and supplementary[ç¿»è¯‘ï¼šè¡¥å……çš„] characters. Requires a maximum of four bytes per multibyte character. utf8mb4 contrasts with the utf8mb3 character set, which supports only BMP characters and uses a maximum of three bytes per character: For a BMP character, utf8mb4 and utf8mb3 have identical[ç¿»è¯‘ï¼šå®Œå…¨ç›¸åŒ] storage characteristics: same code values, same encoding, same length. For a supplementary character, utf8mb4 requires four bytes to store it, whereas utf8mb3 cannot store the character at all. When converting utf8mb3 columns toutf8mb4, you need not worry about converting supplementary characters because there will be none. utf8mb4 is a superset of utf8mb3, so for an operation such as the following concatenation, the result has character set utf8mb4 and the collation of utf8mb4_col: undefined Similarly, the following comparison in the WHERE clause works according to the collation of utf8mb4_col: undefined For information about data type storage as it relates to multibyte character sets, see String Type Storage Requirements. @mysql.comdev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html æ³¨æ„æˆ‘æ ‡æ³¨çš„åŠ ç²—çš„éƒ¨åˆ†ã€‚ PHP ä¸­ç›®å‰ä¸»æµå¤„ç†PDOç›®å‰ php é“¾æ¥æ•°æ®åº“æ—¶ï¼Œå¯ä»¥è®¾å®šå­—ç¬¦é›†ã€‚æ¯”å¦‚ pdoï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨ pdo æ—¶ï¼Œå°±éœ€è¦è®¾å®š charset ä¸º utf8mb4 äº†ï¼Œ æ¥çœ‹ä¸€åˆ™ stackoverflow çš„é—®ç­” Question: when initializing PDO - should I do: charset=UTF8 or charset=UTF8MB4 ? hereâ€™s my intialization: undefined But should dsn be this: undefined if mysql database has a default charset UTF8MB4. mysql pdo character-encoding shareedit asked Jul 27 â€˜15 at 17:56 Dannyboy Answer You should use utf8mb4 for PDO and your database structures. undefined When possible, donâ€™t forget to set the character encoding of your pages as well. PHP example: undefined @stackoverflow.comstackoverflow.com/questions/31660005/when-initializing-pdo-should-i-do-charset-utf8-or-charset-utf8mb4 Laravelæˆ‘ä»¬æ¥çœ‹çœ‹ä¼˜é›…çš„ laravel å¦‚ä½•å¤„ç†çš„ï¼š file: config/database.php123456789101112131415'mysql' =&gt; [ 'driver' =&gt; 'mysql', 'host' =&gt; env('DB_HOST', '127.0.0.1'), 'port' =&gt; env('DB_PORT', '3306'), 'database' =&gt; env('DB_DATABASE', 'forge'), 'username' =&gt; env('DB_USERNAME', 'forge'), 'password' =&gt; env('DB_PASSWORD', ''), 'unix_socket' =&gt; env('DB_SOCKET', ''), 'charset' =&gt; 'utf8mb4', 'collation' =&gt; 'utf8mb4_unicode_ci', 'prefix' =&gt; '', 'prefix_indexes' =&gt; true, 'strict' =&gt; true, 'engine' =&gt; null,], æ‰€ä»¥ï¼Œ utf8mb4 ç”¨èµ·æ¥å§ï¼ è‡³äºä¸ºä»€ä¹ˆé»˜è®¤çš„ utf8 ä¸é‡‡å– 4 ä¸ª byte æ¥å­˜å‚¨ï¼Œæƒ³å¿…æ˜¯ MySQL è®¾è®¡åˆæœŸè¿˜æ²¡æœ‰è¿™ä¹ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„å­—ç¬¦å§ã€‚ä¸ºäº†æ€§èƒ½æ•ˆç‡ï¼Œæ‰€ä»¥ç”¨äº†æœ€å¤š 3 ä¸ªæ¥å‚¨å­˜ã€‚æ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥å»æœç½—ä¸‹ç›¸å…³èµ„æ–™ã€‚ è¡¥å……Note The utf8mb3 character set is deprecated and will be removed in a future MySQL release.Please use utf8mb4 instead. Although utf8 is currently an alias for utf8mb3,at that point utf8 will become a reference to utf8mb4.To avoid ambiguity about the meaning of utf8, consider specifying utf8mb4explicitly for character set referencesinstead of utf8. @mysql.comdev.mysql.com/doc/refman/8.0/en/charset-unicode-utf8mb3.html å•¥æ„æ€å‘¢ï¼Œå°±æ˜¯è¯´ï¼Œæœªæ¥å°±æ²¡æœ‰ utfbmb3 äº†ï¼Œé‚£æ—¶å€™ï¼Œutf8 ä»£è¡¨çš„å°±æ˜¯ utf8mb4 äº†ï¼ŒæœŸå¾…é‚£ä¸€å¤©å§ï¼","categories":[{"name":"MySQL","slug":"MySQL","permalink":"https://rovast.github.io/categories/MySQL/"}],"tags":[]},{"title":"URLå’ŒURIçš„åŒºåˆ«","slug":"url-and-uri","date":"2018-12-26T09:59:26.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2018/12/26/url-and-uri/","link":"","permalink":"https://rovast.github.io/2018/12/26/url-and-uri/","excerpt":"","text":"æ‘˜è‡ªï¼šã€ŠHTTPæƒå¨æŒ‡å—ã€‹ 1.3 èµ„æºWeb æœåŠ¡å™¨æ˜¯ Web èµ„æºï¼ˆWeb resourceï¼‰çš„å®¿ä¸»ã€‚Web èµ„æºæ˜¯ Web å†…å®¹çš„æºå¤´ã€‚æœ€ç®€å•çš„ Web èµ„æºå°±æ˜¯ Web æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„é™æ€æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥åŒ…å«ä»»æ„å†…å®¹ï¼šæ–‡æœ¬æ–‡ä»¶ã€ HTML æ–‡ä»¶ã€å¾®è½¯çš„ Word æ–‡ä»¶ã€ Adobe çš„ Acrobat æ–‡ä»¶ã€ JPEG å›¾ç‰‡æ–‡ä»¶ã€ AVI ç”µå½±æ–‡ä»¶ï¼Œæˆ–æ‰€æœ‰å…¶ä»–ä½ èƒ½å¤Ÿæƒ³åˆ°çš„æ ¼å¼ã€‚ ä½†èµ„æºä¸ä¸€å®šéå¾—æ˜¯é™æ€æ–‡ä»¶ã€‚èµ„æºè¿˜å¯ä»¥æ˜¯æ ¹æ®éœ€è¦ç”Ÿæˆå†…å®¹çš„è½¯ä»¶ç¨‹åºã€‚è¿™äº›åŠ¨æ€å†…å®¹èµ„æºå¯ä»¥æ ¹æ®ä½ çš„èº«ä»½ã€æ‰€è¯·æ±‚çš„ä¿¡æ¯æˆ–æ¯å¤©çš„ä¸åŒæ—¶æ®µæ¥äº§ç”Ÿå†…å®¹ã€‚å®ƒä»¬å¯ä»¥ä¸ºä½ æ˜¾ç¤ºç…§ç›¸æœºä¸­æ´»ç”Ÿç”Ÿçš„ç…§ç‰‡ï¼Œä¹Ÿå¯ä»¥å¸®ä½ è¿›è¡Œè‚¡ç¥¨äº¤æ˜“ï¼Œæœç´¢æˆ¿äº§æ•°æ®åº“ï¼Œæˆ–è€…ä»åœ¨çº¿å•†åº—ä¸­è´­ä¹°ç¤¼ç‰©ï¼ˆå‚è§å›¾ 1-2ï¼‰ã€‚ å›¾ 1-2 æ‰€æœ‰èƒ½å¤Ÿæä¾› Web å†…å®¹çš„ä¸œè¥¿éƒ½æ˜¯ Web èµ„æº æ€»ä¹‹ï¼Œæ‰€æœ‰ç±»å‹çš„å†…å®¹æ¥æºéƒ½æ˜¯èµ„æºã€‚åŒ…å«å…¬å¸é”€å”®é¢„æµ‹ç”µå­è¡¨æ ¼çš„æ–‡ä»¶æ˜¯ä¸€ç§èµ„æºã€‚æ‰«ææœ¬åœ°å…¬å…±å›¾ä¹¦é¦†ä¹¦æ¶çš„ Web ç½‘å…³æ˜¯ä¸€ç§èµ„æºã€‚å› ç‰¹ç½‘æœç´¢å¼•æ“ä¹Ÿæ˜¯ä¸€ç§èµ„æºã€‚ 1.3.1 åª’ä½“ç±»å‹å› ç‰¹ç½‘ä¸Šæœ‰æ•°åƒç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼ŒHTTP ä»”ç»†åœ°ç»™æ¯ç§è¦é€šè¿‡ Web ä¼ è¾“çš„å¯¹è±¡éƒ½æ‰“ä¸Šäº†åä¸º MIME ç±»å‹ï¼ˆMIME typeï¼‰çš„æ•°æ®æ ¼å¼æ ‡ç­¾ã€‚æœ€åˆè®¾è®¡ MIME ï¼ˆMultipurpose Internet Mail Extensionï¼Œå¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•ï¼‰æ˜¯ä¸ºäº†è§£å†³åœ¨ä¸åŒçš„ç”µå­é‚®ä»¶ç³»ç»Ÿä¹‹é—´æ¬ç§»æŠ¥æ–‡æ—¶å­˜åœ¨çš„é—®é¢˜ã€‚MIME åœ¨ç”µå­é‚®ä»¶ç³»ç»Ÿä¸­å·¥ä½œå¾—éå¸¸å¥½ï¼Œå› æ­¤ HTTP ä¹Ÿé‡‡çº³äº†å®ƒï¼Œç”¨å®ƒæ¥æè¿°å¹¶æ ‡è®°å¤šåª’ä½“å†…å®¹ã€‚ Web æœåŠ¡å™¨ä¼šä¸ºæ‰€æœ‰ HTTP å¯¹è±¡æ•°æ®é™„åŠ ä¸€ä¸ª MIME ç±»å‹ï¼ˆå‚è§å›¾ 1-3ï¼‰ã€‚å½“ Web æµè§ˆå™¨ä»æœåŠ¡å™¨ä¸­å–å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šå»æŸ¥çœ‹ç›¸å…³çš„ MIME ç±»å‹ï¼Œçœ‹çœ‹å®ƒ æ˜¯å¦çŸ¥é“åº”è¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªå¯¹è±¡ã€‚å¤§å¤šæ•°æµè§ˆå™¨éƒ½å¯ä»¥å¤„ç†æ•°ç™¾ç§å¸¸è§çš„å¯¹è±¡ç±»å‹ï¼šæ˜¾ç¤ºå›¾ç‰‡æ–‡ä»¶ã€è§£æå¹¶æ ¼å¼åŒ– HTML æ–‡ä»¶ã€é€šè¿‡è®¡ç®—æœºå£°å¡æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ï¼Œæˆ–è€…è¿è¡Œå¤–éƒ¨æ’ä»¶è½¯ä»¶æ¥å¤„ç†ç‰¹æ®Šæ ¼å¼çš„æ•°æ®ã€‚ å›¾ 1-3 ä¸æ•°æ®å†…å®¹ä¸€åŒå›é€çš„ MIME ç±»å‹ MIME ç±»å‹æ˜¯ä¸€ç§æ–‡æœ¬æ ‡è®°ï¼Œè¡¨ç¤ºä¸€ç§ä¸»è¦çš„å¯¹è±¡ç±»å‹å’Œä¸€ä¸ªç‰¹å®šçš„å­ç±»å‹ï¼Œä¸­é—´ç”±ä¸€æ¡æ–œæ æ¥åˆ†éš”ã€‚ HTML æ ¼å¼çš„æ–‡æœ¬æ–‡æ¡£ç”± text/html ç±»å‹æ¥æ ‡è®°ã€‚ æ™®é€šçš„ ASCII æ–‡æœ¬æ–‡æ¡£ç”± text/plain ç±»å‹æ¥æ ‡è®°ã€‚ JPEG æ ¼å¼çš„å›¾ç‰‡ä¸º image/jpeg ç±»å‹ã€‚ GIF æ ¼å¼çš„å›¾ç‰‡ä¸º image/gif ç±»å‹ã€‚ Apple çš„ QuickTime ç”µå½±ä¸º video/quicktime ç±»å‹ã€‚ å¾®è½¯çš„ PowerPoint æ¼”ç¤ºæ–‡ä»¶ä¸º application/vnd.ms-powerpoint ç±»å‹ã€‚ å¸¸è§çš„ MIME ç±»å‹æœ‰æ•°ç™¾ä¸ªï¼Œå®éªŒæ€§æˆ–ç”¨é€”æœ‰é™çš„ MIME ç±»å‹åˆ™æ›´å¤šã€‚é™„å½• D æä¾›äº†ä¸€ä¸ªéå¸¸å®Œæ•´çš„ MIME ç±»å‹åˆ—è¡¨ã€‚ 1.3.2 URIæ¯ä¸ª Web æœåŠ¡å™¨èµ„æºéƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥è¯´æ˜å®ƒä»¬æ„Ÿå…´è¶£çš„èµ„æºæ˜¯ä»€ä¹ˆäº†ã€‚æœåŠ¡å™¨èµ„æºåè¢«ç§°ä¸ºç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifier, URIï¼‰ã€‚URI å°±åƒå› ç‰¹ç½‘ä¸Šçš„é‚®æ”¿åœ°å€ä¸€æ ·ï¼Œåœ¨ä¸–ç•ŒèŒƒå›´å†…å”¯ä¸€æ ‡è¯†å¹¶å®šä½ä¿¡æ¯èµ„æºã€‚ è¿™æ˜¯ Joe çš„äº”é‡‘å•†åº—çš„ Web æœåŠ¡å™¨ä¸Šä¸€ä¸ªå›¾ç‰‡èµ„æºçš„ URIï¼š http://www.joes-hardware.com/specials/saw-blade.gif å›¾ 1-4 æ˜¾ç¤ºäº† URI æ˜¯æ€æ ·æŒ‡ç¤º HTTP åè®®å»è®¿é—® Joe å•†åº—æœåŠ¡å™¨ä¸Šçš„å›¾ç‰‡èµ„æºçš„ã€‚ç»™å®šäº† URIï¼ŒHTTP å°±å¯ä»¥è§£æå‡ºå¯¹è±¡ã€‚URI æœ‰ä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«ç§°ä¸º URL å’Œ URNã€‚ç°åœ¨æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹çœ‹è¿™äº›èµ„æºæ ‡è¯†ç¬¦ç±»å‹ã€‚ 1.3.3. URLç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰æ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼ã€‚URL æè¿°äº†ä¸€å°ç‰¹å®šæœåŠ¡å™¨ä¸ŠæŸèµ„æºçš„ç‰¹å®šä½ç½®ã€‚å®ƒä»¬å¯ä»¥æ˜ç¡®è¯´æ˜å¦‚ä½•ä»ä¸€ä¸ªç²¾ç¡®ã€å›ºå®šçš„ä½ç½®è·å–èµ„æºã€‚å›¾ 1-4 æ˜¾ç¤ºäº† URL å¦‚ä½•ç²¾ç¡®åœ°è¯´æ˜æŸèµ„æºçš„ä½ç½®ä»¥åŠå¦‚ä½•å»è®¿é—®å®ƒã€‚è¡¨ 1-1 æ˜¾ç¤ºäº†å‡ ä¸ª URL å®ä¾‹ã€‚ è¡¨ 1-1 URLå®ä¾‹ URL æ è¿° http://www.oreilly.com/index.html Oâ€™Reilly &amp; Associates å…¬å¸çš„ä¸»URL http://www.yahoo.com/images/logo.gif Yahoo! çš„Web ç«™ç‚¹æ ‡å¿—URL http://www.joes-hardware.com/inventory-check.cgi?item=12731 ä¸€ä¸ªæŸ¥çœ‹åº“å­˜æ¡ç›®#12731 æ˜¯å¦æœ‰ç°è´§çš„ç¨‹åºçš„URL ftp://joe:tools4u@ftp.joes-hardware.com/lockingpliers.gif ä»¥å¯†ç ä¿æŠ¤çš„FTP ä½œä¸ºè®¿é—®åè®®çš„lockingpliers.gif å›¾ç‰‡æ–‡ä»¶çš„URL å¤§éƒ¨åˆ† URL éƒ½éµå¾ªä¸€ç§æ ‡å‡†æ ¼å¼ï¼Œè¿™ç§æ ¼å¼åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ã€‚ URL çš„ç¬¬ä¸€éƒ¨åˆ†è¢«ç§°ä¸ºæ–¹æ¡ˆï¼ˆschemeï¼‰ï¼Œè¯´æ˜äº†è®¿é—®èµ„æºæ‰€ä½¿ç”¨çš„åè®®ç±»å‹ã€‚è¿™éƒ¨åˆ†é€šå¸¸å°±æ˜¯ HTTP åè®®ï¼ˆhttp://ï¼‰ã€‚ ç¬¬äºŒéƒ¨åˆ†ç»™å‡ºäº†æœåŠ¡å™¨çš„å› ç‰¹ç½‘åœ°å€ï¼ˆæ¯”å¦‚ï¼Œwww.joes-hardware.comï¼‰ã€‚ å…¶ä½™éƒ¨åˆ†æŒ‡å®šäº† Web æœåŠ¡å™¨ä¸Šçš„æŸä¸ªèµ„æºï¼ˆæ¯”å¦‚ï¼Œ/specials/saw-blade.gifï¼‰ã€‚ ç°åœ¨ï¼Œå‡ ä¹æ‰€æœ‰çš„ URI éƒ½æ˜¯ URLã€‚ 1.3.4. URNURI çš„ç¬¬äºŒç§å½¢å¼å°±æ˜¯ç»Ÿä¸€èµ„æºåï¼ˆURNï¼‰ã€‚URN æ˜¯ä½œä¸ºç‰¹å®šå†…å®¹çš„å”¯ä¸€åç§°ä½¿ç”¨çš„ï¼Œä¸ç›®å‰çš„èµ„æºæ‰€åœ¨åœ°æ— å…³ã€‚ä½¿ç”¨è¿™äº›ä¸ä½ç½®æ— å…³çš„ URNï¼Œå°±å¯ä»¥å°†èµ„æºå››å¤„æ¬ç§»ã€‚é€šè¿‡ URNï¼Œè¿˜å¯ä»¥ç”¨åŒä¸€ä¸ªåå­—é€šè¿‡å¤šç§ç½‘ç»œè®¿é—®åè®®æ¥è®¿é—®èµ„æºã€‚ æ¯”å¦‚ï¼Œä¸è®ºå› ç‰¹ç½‘æ ‡å‡†æ–‡æ¡£ RFC 2141 ä½äºä½•å¤„ï¼ˆç”šè‡³å¯ä»¥å°†å…¶å¤åˆ¶åˆ°å¤šä¸ªåœ°æ–¹ï¼‰ï¼Œéƒ½å¯ä»¥ç”¨ä¸‹åˆ— URN æ¥å‘½åå®ƒï¼š urn:ietf:rfc:2141 URN ä»ç„¶å¤„äºè¯•éªŒé˜¶æ®µï¼Œè¿˜æœªå¤§èŒƒå›´ä½¿ç”¨ã€‚ä¸ºäº†æ›´æœ‰æ•ˆåœ°å·¥ä½œï¼ŒURN éœ€è¦ä¸€ä¸ªæ”¯æ’‘æ¶æ„æ¥è§£æèµ„æºçš„ä½ç½®ã€‚è€Œæ­¤ç±»æ¶æ„çš„ç¼ºä¹ä¹Ÿå»¶ç¼“äº†å…¶è¢«é‡‡ç”¨çš„è¿›åº¦ã€‚ä½† URN ç¡®å®ä¸ºæœªæ¥å‘å±•ä½œå‡ºäº†ä¸€äº›ä»¤äººå…´å¥‹çš„æ‰¿è¯ºã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 2 ç« è¾ƒä¸ºè¯¦ç»†åœ°è®¨è®º URNï¼Œè€Œæœ¬ä¹¦çš„å…¶ä½™éƒ¨åˆ†è®¨è®ºçš„åŸºæœ¬ä¸Šéƒ½æ˜¯ URLã€‚ é™¤éç‰¹æ®Šè¯´æ˜ï¼Œå¦åˆ™æœ¬ä¹¦çš„å…¶ä½™éƒ¨åˆ†éƒ½ä¼šä½¿ç”¨çº¦å®šçš„æœ¯è¯­ï¼Œå¹¶ä¸”ä¼šä¸åŠ åŒºåˆ«åœ°ä½¿ç”¨ URI å’Œ URLã€‚","categories":[],"tags":[]},{"title":"ã€è½¬ã€‘è“ç»¿éƒ¨ç½²ã€é‡‘ä¸é›€å‘å¸ƒï¼ˆç°åº¦å‘å¸ƒï¼‰ã€A/Bæµ‹è¯•çš„å‡†ç¡®å®šä¹‰","slug":"deploy-enviroment-words","date":"2018-12-21T17:30:17.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/21/deploy-enviroment-words/","link":"","permalink":"https://rovast.github.io/2018/12/21/deploy-enviroment-words/","excerpt":"","text":"åŸæ–‡æ ‡é¢˜ï¼šè“ç»¿éƒ¨ç½²ã€é‡‘ä¸é›€å‘å¸ƒï¼ˆç°åº¦å‘å¸ƒï¼‰ã€A/Bæµ‹è¯•çš„å‡†ç¡®å®šä¹‰åŸæ–‡é“¾æ¥ï¼šhttps://www.lijiaocn.com/%E6%96%B9%E6%B3%95/2018/10/23/devops-blue-green-deployment-ab-test-canary.html è¯´æ˜è“ç»¿éƒ¨ç½²ã€A/Bæµ‹è¯•ã€é‡‘ä¸é›€å‘å¸ƒï¼Œä»¥åŠç°åº¦å‘å¸ƒã€æµé‡åˆ‡åˆ†ç­‰ï¼Œç»å¸¸è¢«æ··ä¸ºä¸€è°ˆï¼Œå½±å“æ²Ÿé€šæ•ˆç‡ã€‚ æ ¹æœ¬åŸå› æ˜¯è¿™äº›åè¯ç»å¸¸å‡ºç°ï¼Œäººä»¬è€³ç†Ÿèƒ½è¯¦èƒ½å¤Ÿç†Ÿç»ƒåœ°è°ˆèµ·ï¼Œå¯¹è¿™äº›æœ¯è¯­çš„ç†è§£å´æ²¡æœ‰è¾¾æˆä¸€è‡´ã€‚ ä¸‹é¢æ˜¯ä»Blue-green Deployments, A/B Testing, and Canary Releasesä¸­æ•´ç†å‡ºæ¥çš„å®šä¹‰ã€‚ è“ç»¿éƒ¨ç½²è“ç»¿éƒ¨ç½²çš„ç›®çš„æ˜¯å‡å°‘å‘å¸ƒæ—¶çš„ä¸­æ–­æ—¶é—´ã€èƒ½å¤Ÿå¿«é€Ÿæ’¤å›å‘å¸ƒã€‚ Itâ€™s basically a technique for releasing your application in a predictable manner with an goal of reducing any downtime associated with a release. Itâ€™s a quick way to prime your app before releasing, and also quickly roll back if you find issues. è“ç»¿éƒ¨ç½²ä¸­ï¼Œä¸€å…±æœ‰ä¸¤å¥—ç³»ç»Ÿï¼šä¸€å¥—æ˜¯æ­£åœ¨æä¾›æœåŠ¡ç³»ç»Ÿï¼Œæ ‡è®°ä¸ºâ€œç»¿è‰²â€ï¼›å¦ä¸€å¥—æ˜¯å‡†å¤‡å‘å¸ƒçš„ç³»ç»Ÿï¼Œæ ‡è®°ä¸ºâ€œè“è‰²â€ã€‚ä¸¤å¥—ç³»ç»Ÿéƒ½æ˜¯åŠŸèƒ½å®Œå–„çš„ï¼Œå¹¶ä¸”æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿï¼Œåªæ˜¯ç³»ç»Ÿç‰ˆæœ¬å’Œå¯¹å¤–æœåŠ¡æƒ…å†µä¸åŒã€‚ æœ€åˆï¼Œæ²¡æœ‰ä»»ä½•ç³»ç»Ÿï¼Œæ²¡æœ‰è“ç»¿ä¹‹åˆ†ã€‚ ç„¶åï¼Œç¬¬ä¸€å¥—ç³»ç»Ÿå¼€å‘å®Œæˆï¼Œç›´æ¥ä¸Šçº¿ï¼Œè¿™ä¸ªè¿‡ç¨‹åªæœ‰ä¸€ä¸ªç³»ç»Ÿï¼Œä¹Ÿæ²¡æœ‰è“ç»¿ä¹‹åˆ†ã€‚ åæ¥ï¼Œå¼€å‘äº†æ–°ç‰ˆæœ¬ï¼Œè¦ç”¨æ–°ç‰ˆæœ¬æ›¿æ¢çº¿ä¸Šçš„æ—§ç‰ˆæœ¬ï¼Œåœ¨çº¿ä¸Šçš„ç³»ç»Ÿä¹‹å¤–ï¼Œæ­å»ºäº†ä¸€ä¸ªä½¿ç”¨æ–°ç‰ˆæœ¬ä»£ç çš„å…¨æ–°ç³»ç»Ÿã€‚ è¿™æ—¶å€™ï¼Œä¸€å…±æœ‰ä¸¤å¥—ç³»ç»Ÿåœ¨è¿è¡Œï¼Œæ­£åœ¨å¯¹å¤–æä¾›æœåŠ¡çš„è€ç³»ç»Ÿæ˜¯ç»¿è‰²ç³»ç»Ÿï¼Œæ–°éƒ¨ç½²çš„ç³»ç»Ÿæ˜¯è“è‰²ç³»ç»Ÿã€‚ è“è‰²ç³»ç»Ÿä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œç”¨æ¥åšå•¥ï¼Ÿ ç”¨æ¥åšå‘å¸ƒå‰æµ‹è¯•ï¼Œæµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥åœ¨è“è‰²ç³»ç»Ÿä¸Šä¿®æ”¹ï¼Œä¸å¹²æ‰°ç”¨æˆ·æ­£åœ¨ä½¿ç”¨çš„ç³»ç»Ÿã€‚ï¼ˆæ³¨æ„ï¼Œä¸¤å¥—ç³»ç»Ÿæ²¡æœ‰è€¦åˆçš„æ—¶å€™æ‰èƒ½ç™¾åˆ†ç™¾ä¿è¯ä¸å¹²æ‰°ï¼‰ è“è‰²ç³»ç»Ÿç»è¿‡åå¤çš„æµ‹è¯•ã€ä¿®æ”¹ã€éªŒè¯ï¼Œç¡®å®šè¾¾åˆ°ä¸Šçº¿æ ‡å‡†ä¹‹åï¼Œç›´æ¥å°†ç”¨æˆ·åˆ‡æ¢åˆ°è“è‰²ç³»ç»Ÿï¼š åˆ‡æ¢åçš„ä¸€æ®µæ—¶é—´å†…ï¼Œä¾æ—§æ˜¯è“ç»¿ä¸¤å¥—ç³»ç»Ÿå¹¶å­˜ï¼Œä½†æ˜¯ç”¨æˆ·è®¿é—®çš„å·²ç»æ˜¯è“è‰²ç³»ç»Ÿã€‚è¿™æ®µæ—¶é—´å†…è§‚å¯Ÿè“è‰²ç³»ç»Ÿï¼ˆæ–°ç³»ç»Ÿï¼‰å·¥ä½œçŠ¶æ€ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œç›´æ¥åˆ‡æ¢å›ç»¿è‰²ç³»ç»Ÿã€‚ å½“ç¡®ä¿¡å¯¹å¤–æä¾›æœåŠ¡çš„è“è‰²ç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼Œä¸å¯¹å¤–æä¾›æœåŠ¡çš„ç»¿è‰²ç³»ç»Ÿå·²ç»ä¸å†éœ€è¦çš„æ—¶å€™ï¼Œè“è‰²ç³»ç»Ÿæ­£å¼æˆä¸ºå¯¹å¤–æä¾›æœåŠ¡ç³»ç»Ÿï¼Œæˆä¸ºæ–°çš„ç»¿è‰²ç³»ç»Ÿã€‚ åŸå…ˆçš„ç»¿è‰²ç³»ç»Ÿå¯ä»¥é”€æ¯ï¼Œå°†èµ„æºé‡Šæ”¾å‡ºæ¥ï¼Œç”¨äºéƒ¨ç½²ä¸‹ä¸€ä¸ªè“è‰²ç³»ç»Ÿã€‚ è“ç»¿éƒ¨ç½²åªæ˜¯ä¸Šçº¿ç­–ç•¥ä¸­çš„ä¸€ç§ï¼Œå®ƒä¸æ˜¯å¯ä»¥åº”å¯¹æ‰€æœ‰æƒ…å†µçš„ä¸‡èƒ½æ–¹æ¡ˆã€‚ è“ç»¿éƒ¨ç½²èƒ½å¤Ÿç®€å•å¿«æ·å®æ–½çš„å‰æå‡è®¾æ˜¯ç›®æ ‡ç³»ç»Ÿæ˜¯éå¸¸å†…èšçš„ï¼Œå¦‚æœç›®æ ‡ç³»ç»Ÿç›¸å½“å¤æ‚ï¼Œé‚£ä¹ˆå¦‚ä½•åˆ‡æ¢ã€ä¸¤å¥—ç³»ç»Ÿçš„æ•°æ®æ˜¯å¦éœ€è¦ä»¥åŠå¦‚ä½•åŒæ­¥ç­‰ï¼Œéƒ½éœ€è¦ä»”ç»†è€ƒè™‘ã€‚ BlueGreenDeploymentä¸­ç»™å‡ºçš„ä¸€å¼ å›¾ç‰¹åˆ«å½¢è±¡ï¼š é‡‘ä¸é›€å‘å¸ƒé‡‘ä¸é›€å‘å¸ƒï¼ˆCanaryï¼‰ä¹Ÿæ˜¯ä¸€ç§å‘å¸ƒç­–ç•¥ï¼Œå’Œå›½å†…å¸¸è¯´çš„ç°åº¦å‘å¸ƒæ˜¯åŒä¸€ç±»ç­–ç•¥ã€‚ è“ç»¿éƒ¨ç½²æ˜¯å‡†å¤‡ä¸¤å¥—ç³»ç»Ÿï¼Œåœ¨ä¸¤å¥—ç³»ç»Ÿä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œé‡‘ä¸é›€ç­–ç•¥æ˜¯åªæœ‰ä¸€å¥—ç³»ç»Ÿï¼Œé€æ¸æ›¿æ¢è¿™å¥—ç³»ç»Ÿã€‚ è­¬å¦‚è¯´ï¼Œç›®æ ‡ç³»ç»Ÿæ˜¯ä¸€ç»„æ— çŠ¶æ€çš„WebæœåŠ¡å™¨ï¼Œä½†æ˜¯æ•°é‡éå¸¸å¤šï¼Œå‡è®¾æœ‰ä¸€ä¸‡å°ã€‚ è¿™æ—¶å€™ï¼Œè“ç»¿éƒ¨ç½²å°±ä¸èƒ½ç”¨äº†ï¼Œå› ä¸ºä½ ä¸å¯èƒ½ç”³è¯·ä¸€ä¸‡å°æœåŠ¡å™¨ä¸“é—¨ç”¨æ¥éƒ¨ç½²è“è‰²ç³»ç»Ÿï¼ˆåœ¨è“ç»¿éƒ¨ç½²çš„å®šä¹‰ä¸­ï¼Œè“è‰²çš„ç³»ç»Ÿè¦èƒ½å¤Ÿæ‰¿æ¥æ‰€æœ‰è®¿é—®ï¼‰ã€‚ å¯ä»¥æƒ³åˆ°çš„ä¸€ä¸ªæ–¹æ³•æ˜¯ï¼š åªå‡†å¤‡å‡ å°æœåŠ¡å™¨ï¼Œåœ¨ä¸Šé¢éƒ¨ç½²æ–°ç‰ˆæœ¬çš„ç³»ç»Ÿå¹¶æµ‹è¯•éªŒè¯ã€‚æµ‹è¯•é€šè¿‡ä¹‹åï¼Œæ‹…å¿ƒå‡ºç°æ„å¤–ï¼Œè¿˜ä¸æ•¢ç«‹å³æ›´æ–°æ‰€æœ‰çš„æœåŠ¡å™¨ã€‚ å…ˆå°†çº¿ä¸Šçš„ä¸€ä¸‡å°æœåŠ¡å™¨ä¸­çš„10å°æ›´æ–°ä¸ºæœ€æ–°çš„ç³»ç»Ÿï¼Œç„¶åè§‚å¯ŸéªŒè¯ã€‚ç¡®è®¤æ²¡æœ‰å¼‚å¸¸ä¹‹åï¼Œå†å°†å‰©ä½™çš„æ‰€æœ‰æœåŠ¡å™¨æ›´æ–°ã€‚ è¿™ä¸ªæ–¹æ³•å°±æ˜¯é‡‘ä¸é›€å‘å¸ƒã€‚ å®é™…æ“ä½œä¸­è¿˜å¯ä»¥åšæ›´å¤šæ§åˆ¶ï¼Œè­¬å¦‚è¯´ï¼Œç»™æœ€åˆæ›´æ–°çš„10å°æœåŠ¡å™¨è®¾ç½®è¾ƒä½çš„æƒé‡ã€æ§åˆ¶å‘é€ç»™è¿™10å°æœåŠ¡å™¨çš„è¯·æ±‚æ•°ï¼Œç„¶åé€æ¸æé«˜æƒé‡ã€å¢åŠ è¯·æ±‚æ•°ã€‚ è¿™ä¸ªæ§åˆ¶å«åšâ€œæµé‡åˆ‡åˆ†â€ï¼Œæ—¢å¯ä»¥ç”¨äºé‡‘ä¸é›€å‘å¸ƒï¼Œä¹Ÿå¯ä»¥ç”¨äºåé¢çš„A/Bæµ‹è¯•ã€‚ è“ç»¿éƒ¨ç½²å’Œé‡‘ä¸é›€å‘å¸ƒæ˜¯ä¸¤ç§å‘å¸ƒç­–ç•¥ï¼Œéƒ½ä¸æ˜¯ä¸‡èƒ½çš„ã€‚æœ‰æ—¶å€™ä¸¤è€…éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæœ‰æ—¶å€™åªèƒ½ç”¨å…¶ä¸­ä¸€ç§ã€‚ ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥ç”¨é‡‘ä¸é›€ï¼Œä¸èƒ½ç”¨è“ç»¿ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨è“ç»¿ï¼Œä¸èƒ½ç”¨é‡‘ä¸é›€å‘¢ï¼Ÿæ•´ä¸ªç³»ç»Ÿåªæœ‰ä¸€å°æœåŠ¡å™¨çš„æ—¶å€™ã€‚ A/Bæµ‹è¯•é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼ŒA/Bæµ‹è¯•å’Œè“ç»¿éƒ¨ç½²ä»¥åŠé‡‘ä¸é›€ï¼Œå®Œå…¨æ˜¯ä¸¤å›äº‹ã€‚ è“ç»¿éƒ¨ç½²å’Œé‡‘ä¸é›€æ˜¯å‘å¸ƒç­–ç•¥ï¼Œç›®æ ‡æ˜¯ç¡®ä¿æ–°ä¸Šçº¿çš„ç³»ç»Ÿç¨³å®šï¼Œå…³æ³¨çš„æ˜¯æ–°ç³»ç»Ÿçš„BUGã€éšæ‚£ã€‚ A/Bæµ‹è¯•æ˜¯æ•ˆæœæµ‹è¯•ï¼ŒåŒä¸€æ—¶é—´æœ‰å¤šä¸ªç‰ˆæœ¬çš„æœåŠ¡å¯¹å¤–æœåŠ¡ï¼Œè¿™äº›æœåŠ¡éƒ½æ˜¯ç»è¿‡è¶³å¤Ÿæµ‹è¯•ï¼Œè¾¾åˆ°äº†ä¸Šçº¿æ ‡å‡†çš„æœåŠ¡ï¼Œæœ‰å·®å¼‚ä½†æ˜¯æ²¡æœ‰æ–°æ—§ä¹‹åˆ†ï¼ˆå®ƒä»¬ä¸Šçº¿æ—¶å¯èƒ½é‡‡ç”¨äº†è“ç»¿éƒ¨ç½²çš„æ–¹å¼ï¼‰ã€‚ A/Bæµ‹è¯•å…³æ³¨çš„æ˜¯ä¸åŒç‰ˆæœ¬çš„æœåŠ¡çš„å®é™…æ•ˆæœï¼Œè­¬å¦‚è¯´è½¬åŒ–ç‡ã€è®¢å•æƒ…å†µç­‰ã€‚ A/Bæµ‹è¯•æ—¶ï¼Œçº¿ä¸ŠåŒæ—¶è¿è¡Œå¤šä¸ªç‰ˆæœ¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€šå¸¸ä¼šæœ‰ä¸€äº›ä½“éªŒä¸Šçš„å·®å¼‚ï¼Œè­¬å¦‚è¯´é¡µé¢æ ·å¼ã€é¢œè‰²ã€æ“ä½œæµç¨‹ä¸åŒã€‚ç›¸å…³äººå‘˜é€šè¿‡åˆ†æå„ä¸ªç‰ˆæœ¬æœåŠ¡çš„å®é™…æ•ˆæœï¼Œé€‰å‡ºæ•ˆæœæœ€å¥½çš„ç‰ˆæœ¬ã€‚ åœ¨A/Bæµ‹è¯•ä¸­ï¼Œéœ€è¦èƒ½å¤Ÿæ§åˆ¶æµé‡çš„åˆ†é…ï¼Œè­¬å¦‚è¯´ï¼Œä¸ºAç‰ˆæœ¬åˆ†é…10%çš„æµé‡ï¼Œä¸ºBç‰ˆæœ¬åˆ†é…10%çš„æµé‡ï¼Œä¸ºCç‰ˆæœ¬åˆ†é…80%çš„æµé‡ã€‚ å‚è€ƒ Blue-green Deployments, A/B Testing, and Canary Releases BlueGreenDeployment","categories":[{"name":"æµç¨‹","slug":"æµç¨‹","permalink":"https://rovast.github.io/categories/æµç¨‹/"}],"tags":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://rovast.github.io/tags/è½¬è½½/"}]},{"title":"åˆæ¢laravel-facadeå®ç°","slug":"how-laravel-facade-works","date":"2018-12-21T17:13:24.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/21/how-laravel-facade-works/","link":"","permalink":"https://rovast.github.io/2018/12/21/how-laravel-facade-works/","excerpt":"","text":"Facade é—¨é¢æ¨¡å¼å®šä¹‰ï¼š é—¨é¢æ¨¡å¼ï¼ˆFacadeï¼‰åˆç§°å¤–è§‚æ¨¡å¼ï¼Œç”¨äºä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ã€‚é—¨é¢æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ï¼šå¼•å…¥é—¨é¢è§’è‰²ä¹‹åï¼Œç”¨æˆ·åªéœ€è¦ç›´æ¥ä¸é—¨é¢è§’è‰²äº¤äº’ï¼Œç”¨æˆ·ä¸å­ç³»ç»Ÿä¹‹é—´çš„å¤æ‚å…³ç³»ç”±é—¨é¢è§’è‰²æ¥å®ç°ï¼Œä»è€Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ åœ¨ laravel ä¸­ï¼Œä½¿ç”¨ facade å¯ä»¥æé«˜å¾ˆé«˜çš„ä¾¿åˆ©æ€§ï¼Œæ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ç¼“å­˜ï¼Œå¯ç”¨ä¸‹è¿°ä»£ç å®ç° 12345use Illuminate\\Support\\Facades\\Cache;Route::get('/cache', function () &#123; return Cache::get('key');&#125;); é‚£ä¹ˆï¼Œåœ¨ laravel ä¸­ï¼Œæ˜¯å¦‚ä½•åšåˆ°è¿™ä¸ªçš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥ä½¿ç”¨é™æ€è°ƒç”¨å‘¢ï¼Ÿä»¥ cache ä¸ºä¾‹ï¼Œæˆ‘ä»¬ä¸€æ¢ç©¶ç«Ÿã€‚ è°ƒç”¨æ–¹ä»£ç  12345use Illuminate\\Support\\Facades\\Cache;Route::get('/cache', function () &#123; return Cache::get('key');&#125;); æˆ‘ä»¬å†çœ‹çœ‹ vendor/laravel/framework/src/Illuminate/Support/Facades/Cache.php ä»£ç  1234567891011121314namespace Illuminate\\Support\\Facades;class Cache extends Facade&#123; /** * Get the registered name of the component. * * @return string */ protected static function getFacadeAccessor() &#123; return 'cache'; &#125;&#125; æˆ‘ä»¬å‘ç°ç»§æ‰¿äº† vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php çš„ abstract class Facadeï¼Œå¹¶ä¸”é‡å†™äº† getFacadeAccessor()ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‘˜å½• abstract class Facade ä¸­å‡ å¤„æœ‰æ„æ€çš„ä»£ç ï¼Œæ³¨æ„çœ‹æˆ‘çš„æ³¨é‡Šï¼š123456789101112131415161718192021222324252627282930313233343536namespace Illuminate\\Support\\Facades;abstract class Facade&#123; // å½“è°ƒç”¨ Cache::get() æ—¶ï¼Œç”±äº Facade ç±»æœ¬èº«æ²¡æœ‰ get è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œ __callStatic public static function __callStatic($method, $args) &#123; // çœ‹ Illuminate\\Support\\Facades\\Cache ä¸­å®ç°çš„ï¼Œå°±æ˜¯è¿”å›äº† cache å­—ç¬¦ä¸²ï¼Œå…¶å®å°±æ˜¯æœåŠ¡åç§° $instance = static::getFacadeRoot(); if (! $instance) &#123; throw new RuntimeException('A facade root has not been set.'); &#125; // æ‰§è¡ŒæœåŠ¡å¯¹åº”çš„æ–¹æ³•ï¼Œå³ï¼š vendor/laravel/framework/src/Illuminate/Cache/CacheManager.php çš„æ–¹æ³• return $instance-&gt;$method(...$args); &#125; public static function getFacadeRoot() &#123; return static::resolveFacadeInstance(static::getFacadeAccessor()); &#125; protected static function resolveFacadeInstance($name) &#123; if (is_object($name)) &#123; return $name; &#125; if (isset(static::$resolvedInstance[$name])) &#123; return static::$resolvedInstance[$name]; &#125; return static::$resolvedInstance[$name] = static::$app[$name]; &#125;&#125; è¿™ä¸‹æ€è·¯ä¸€ä¸‹å­ç®€å•äº†ï¼šä½¿ç”¨ Facade æ—¶ï¼Œå…¶å®å°±æ˜¯ç›´æ¥è°ƒç”¨çš„ç›¸å…³æœåŠ¡çš„æŸä¸ªæ–¹æ³•ã€‚åªä¸è¿‡å†™æ³•ä¸Šæ˜¯é™æ€æ–¹æ³•ï¼Œç„¶åç»§æ‰¿äº†åŸºç¡€çš„ vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.phpï¼Œç”±äºé™æ€æ–¹æ³•ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨è°ƒç”¨é­”æœ¯æ–¹æ³• __callStaticï¼Œåœ¨é­”æœ¯æ–¹æ³•ä¸­è¿›è¡Œäº†æŸ¥æ‰¾å¯¹åº”æœåŠ¡ï¼Œå¹¶æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚ çœ‹ä¸‹å›¾ä¸­è“è‰²æ ‡æ³¨çš„éƒ¨åˆ†ï¼Œåƒä¸åƒä¸ªä»£ç†ï¼Ÿå…¶å®åœ¨ laravel å®˜æ–¹æ–‡æ¡£ ä¸­æ­£æœ‰æ­¤ä»‹ç» Facades provide a â€œstaticâ€ interface to classes that are available in the applicationâ€™s service container. Laravel ships with many facades which provide access to almost all of Laravelâ€™s features. Laravel facades serve as â€œstatic proxiesâ€ to underlying classes in the service container, providing the benefit of a terse, expressive syntax while maintaining more testability and flexibility than traditional static methods","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"laravel","slug":"laravel","permalink":"https://rovast.github.io/tags/laravel/"}]},{"title":"ã€è½¬ã€‘ä¸è¦è‡ªç§°æ˜¯ç¨‹åºå‘˜ï¼Œæˆ‘åå¤šå¹´çš„ IT èŒåœºæ€»ç»“","slug":"dont-call-yourself-a-programmer","date":"2018-12-21T16:11:24.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/21/dont-call-yourself-a-programmer/","link":"","permalink":"https://rovast.github.io/2018/12/21/dont-call-yourself-a-programmer/","excerpt":"","text":"åŸæ–‡æ ‡é¢˜ï¼šã€Šä¸è¦è‡ªç§°æ˜¯ç¨‹åºå‘˜ï¼Œæˆ‘åå¤šå¹´çš„ IT èŒåœºæ€»ç»“ã€‹åŸæ–‡é“¾æ¥ï¼šhttps://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655438297&amp;idx=1&amp;sn=708c99f61f9843e9fd32b8495e42aac5&amp;chksm å¦‚æœæˆ‘å¯ä»¥ç»™æ¯ä¸ªå·¥ç¨‹æ•™è‚²å¢åŠ ä¸€é—¨è¯¾ï¼Œå®ƒä¸ä¼šæ¶‰åŠç¼–è¯‘å™¨ã€é—¨ç”µè·¯æˆ–æ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œè€Œæ˜¯ä¸€é—¨ä»‹ç»è¡Œä¸šç°å®çš„å…¥é—¨è¯¾ï¼Œå› ä¸ºæ²¡äººæ•™è¿‡è¿™äº›ï¼Œæ‰€ä»¥æˆ‘ä»¬é­å—äº†å¾ˆå¤šä¸å¿…è¦çš„ç—›è‹¦å’ŒæŠ˜ç£¨ã€‚ å¸Œæœ›æœ¬æ–‡å¯ä»¥æˆä¸ºå¹´è½»å·¥ç¨‹å¸ˆèŒä¸šç”Ÿæ¶¯çš„è‡ªè¿°æ–‡æ¡£ï¼ˆ readme.txtï¼‰ã€‚ç›®çš„æ˜¯å¡«è¡¥â€œç°å®ä¸–ç•Œâ€è¿ä½œæ–¹å¼ä¸æ•™è‚²ä¹‹é—´çš„ç©ºç™½ï¼Œå¹¶è®©ä½ å¿«ä¹èµ·æ¥ã€‚æˆ‘ä»â€œä¸€ä¸ªè¿˜ç®—èªæ˜ï¼Œä½†æ˜¯ä¸è‡ªä¿¡ã€æ¯«æ— å•†ä¸šç»éªŒçš„å·¥ç¨‹å¸ˆâ€ï¼Œè€—è´¹äº†åå¹´å¤šçš„æ—¶é—´ï¼Œç»å—äº†å¾ˆå¤šçš„è‹¦éš¾ï¼Œæ‰æ€»ç»“å‡ºè¿™äº›ç»éªŒä¹‹è°ˆã€‚æˆ‘ä¸ä¼šæŠŠè¿™äº›å½“æˆé‡‘ç§‘ç‰å¾‹ï¼Œä½†å¸Œæœ›å®ƒå¯ä»¥å‘Šè¯‰ä½ ä¸€äº›å¤§å­¦èŒä¸šä¸­å¿ƒæ²¡æœ‰å‘Šè¯‰ä½ çš„äº‹æƒ…ã€‚ 90% çš„ç¼–ç¨‹å·¥ä½œæ¥è‡ªå†…éƒ¨è½¯ä»¶ ç»æµå…¥é—¨è¯¾ç¨‹å°±è¯´è¿‡ï¼šä»»ä½•ä¸œè¥¿ï¼ˆåŒ…æ‹¬ä½ åœ¨å†…ï¼‰çš„ä»·å€¼éƒ½å–å†³äºä¾›æ±‚å…³ç³»ã€‚é¦–å…ˆè®©æˆ‘ä»¬æ¥è°ˆè°ˆéœ€æ±‚æ–¹é¢ã€‚å¤§å¤šæ•°è½¯ä»¶ä¸æ˜¯è£…åœ¨ç›’å­é‡Œå–çš„ï¼Œä¹Ÿä¸å¯èƒ½ä»äº’è”ç½‘ä¸Šå¾—åˆ°æˆ–è€…ä» App Store ä¸‹è½½ã€‚å¤§å¤šæ•°è½¯ä»¶éƒ½æ˜¯å…¬å¸å†…éƒ¨çš„åº”ç”¨ç¨‹åºï¼Œå®ƒä»¬é€šå¸¸ä»¤äººåŒå€¦ï¼Œç¼ºä¹é•¿è¿œè€ƒè™‘ã€‚ä½†å´æœåŠ¡äºå…¨çƒç»æµçš„æ–¹æ–¹é¢é¢ï¼Œæ¯”å¦‚è·Ÿè¸ªè´¹ç”¨ã€ä¼˜åŒ–è¿è´¹ã€ååŠ©ä¼šè®¡éƒ¨é—¨åšé¢„ç®—ã€å¸®åŠ©è®¾è®¡æ–°çš„å·¥å…·ã€è®¡ç®—ä¿å•ä»·æ ¼å’Œè¯†åˆ«æ¶æ„è®¢å•ç­‰ç­‰ã€‚è½¯ä»¶è§£å†³å†…éƒ¨é—®é¢˜ã€‚è½¯ä»¶æ€»æ˜¯ç”¨æ¥è§£å†³å†…éƒ¨çš„é—®é¢˜ï¼Œå°½ç®¡è¿™äº›é—®é¢˜å¾€å¾€æ˜¯ä»¤äººä¹å‘³å’Œæ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡çš„ã€‚æ¯”å¦‚ä»¥ä¸€ä¸ªå†…éƒ¨å‡ºå·®è´¹ç”¨çš„ç”³æŠ¥è¡¨ä¸ºä¾‹ã€‚å‡è®¾ä¸€å®¶å…¬å¸æœ‰ 2000 åé›‡å‘˜ï¼Œå’Œåœ¨çº¸é¢ä¸Šå¤„ç†è´¹ç”¨ç›¸æ¯”ï¼Œä¸€å¹´å¯ä»¥èŠ‚çœ 5000 ä¸ªå·¥æ—¶ï¼ˆå¹³å‡æ»¡è´Ÿè·ä¸‹çš„æˆæœ¬æ˜¯æ¯å°æ—¶ 50 ç¾å…ƒï¼‰ï¼Œä¸€å¹´ä¸€å…±å¯ä»¥èŠ‚çœ 25 ä¸‡ç¾å…ƒã€‚è¿™å®¶å…¬å¸ä¸åœ¨ä¹è¿™ä¸ªç”³æŠ¥è¡¨æ˜¯ä¸æ˜¯ä¸–ä¸Šæœ€ç®€å•çš„ CRUDï¼ˆå³ä¸º Createã€Readã€Updateã€Delete ç­‰å››é¡¹åŸºæœ¬æ•°æ®åº“æ“ä½œï¼‰åº”ç”¨ç¨‹åº ï¼Œåªåœ¨ä¹å¯ä»¥èŠ‚çœå…¬å¸çš„æˆæœ¬è¿˜æ˜¯å¯ä»¥åˆ›é€ é¢å¤–çš„æ”¶å…¥ã€‚ å½“ä½ æƒ³åˆ°è½¯ä»¶æ—¶ï¼Œä¼šè®¤ä¸ºå…¬å¸å¼€å‘çš„è½¯ä»¶éƒ½æ˜¯æä¾›ç»™å®¢æˆ·ä½¿ç”¨çš„ã€‚ä½†å®é™…ä¸Šä½ ä¸å¤ªå¯èƒ½åœ¨è¿™æ ·çš„å…¬å¸å·¥ä½œã€‚å°±ç®—ä½ åœ¨è¿™æ ·çš„å…¬å¸å·¥ä½œï¼Œä¹Ÿåªæœ‰æå°‘æ•°ç¨‹åºå‘˜ç›´æ¥ç¼–å†™é¢å‘å¤–éƒ¨å®¢æˆ·çš„è½¯ä»¶ã€‚ åˆ«äººé›‡ç”¨ä½ çš„ç›®çš„ï¼Œæ˜¯è®©ä½ åˆ›é€ ä»·å€¼ï¼Œè€Œä¸æ˜¯è®©ä½ ç¼–ç¨‹ å…¬å¸æ€»æ˜¯å‡ºäºéç†æ€§å’Œæ”¿æ²»çš„åŸå› åšäº‹æƒ…ï¼ˆè¯·çœ‹ä¸‹é¢ï¼‰ï¼Œä½†ä»–ä»¬èšåœ¨ä¸€èµ·åšäº‹æƒ…çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å¢åŠ æ”¶å…¥æˆ–è€…é™ä½æˆæœ¬ã€‚è¿è¡Œè‰¯å¥½çš„ä¸šåŠ¡å¾€å¾€å¾—ç›Šäºåœ¨æŸä¸€æ–¹é¢éå¸¸æ“…é•¿çš„äººã€‚ï¼ˆå¯ä»¥ï¼Œä½†ä¸ä¸€å®šéè¦è¿™æ ·åšã€‚ï¼‰å†³å®šå†å¤šæ‹›è˜ä¸€åå·¥ç¨‹å¸ˆçš„äººï¼Œä¸æ˜¯å› ä¸ºä»–ä»¬å–œæ¬¢æœ‰ä¸€ä¸ª Geek åœ¨æˆ¿é—´é‡Œï¼Œåªæ˜¯å› ä¸ºå¢åŠ è¿™ä¸ª Geek å¯ä»¥å®Œæˆä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–å¤šä¸ªé¡¹ç›®ï¼‰ï¼Œå¢åŠ æ”¶å…¥å’Œé™ä½æˆæœ¬ã€‚å¼€å‘ä¼˜ç¾çš„è½¯ä»¶ã€è§£å†³å¤æ‚çš„æŠ€æœ¯é—®é¢˜ã€ç¼–å†™æ²¡æœ‰ bug çš„ä»£ç ã€ä½¿ç”¨è¿·äººçš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™äº›ç»Ÿç»Ÿä¸æ˜¯ç›®çš„ã€‚å”¯ä¸€çš„ç›®çš„å°±æ˜¯å¢åŠ æ”¶å…¥ã€é™ä½æˆæœ¬ã€‚ å½¼å¾—Â·å¾·é²å…‹æå‡ºäº†åˆ©æ¶¦ä¸­å¿ƒå’Œæˆæœ¬ä¸­å¿ƒçš„æ¦‚å¿µã€‚åˆ©æ¶¦ä¸­å¿ƒæ˜¯ä¸€ä¸ªç»„ç»‡ä¸­ç”¨æ¥èµšé’±çš„ï¼šå¾‹å¸ˆäº‹åŠ¡æ‰€çš„åˆä¼™äººã€ä¼ä¸šçº§è½¯ä»¶å…¬å¸çš„é”€å”®ä»¥åŠåå°”è¡—çš„å¤§é³„ä»¬ç­‰ç­‰ã€‚æˆæœ¬ä¸­å¿ƒï¼Œå°±æ˜¯å‰©ä¸‹çš„äººã€‚äººäººéƒ½æƒ³è¿›å…¥åˆ©æ¶¦ä¸­å¿ƒï¼Œå› ä¸ºè¿™æ ·ä¼šå¸¦æ¥æ›´é«˜çš„å·¥èµ„ã€æ›´å¤šçš„å°Šæ•¬ä»¥åŠæ›´å¤šè·å¾—å¥½å¤„çš„æœºä¼šã€‚è¿™å¹¶ä¸éš¾ï¼šä¸€ä¸ªèªæ˜çš„ä¸­å­¦ç”Ÿï¼Œåªè¦çœ‹è¿‡ä¸€æ®µå…³äºä¸šåŠ¡çš„æè¿°ï¼Œé€šå¸¸å°±å¯ä»¥ç¡®è®¤åˆ©æ¶¦ä¸­å¿ƒåœ¨å“ªé‡Œã€‚å¦‚æœä½ æƒ³åœ¨é‚£é‡Œå·¥ä½œï¼Œå°±è¦ä¸ºä¹‹åŠªåŠ›ã€‚å¦‚æœä½ ä¸èƒ½è¿™æ ·ï¼Œè¦ä¹ˆåœ¨å…¶ä»–åœ°æ–¹å·¥ä½œï¼Œè¦ä¹ˆå…ˆè¿›å…¥å…¬å¸å†è½¬æ¢å·¥ä½œã€‚ å½¼å¾—Â·å¾·é²å…‹ Peter Druckerï¼Œç°ä»£ç®¡ç†å­¦ä¹‹çˆ¶ï¼Œä½ å¯èƒ½æ²¡æœ‰å¬è¯´è¿‡ä»–ï¼Œä½†ä»–æ˜¯è€æ¿ä»¬ä¸­çš„å…ˆçŸ¥ã€‚ é€šå¸¸å·¥ç¨‹å¸ˆçš„æˆæœ¬éƒ½éå¸¸é«˜ï¼Œè¿™ä¼šè§¦å‘ MBA ä¼˜åŒ–æˆæœ¬çš„æœ¬èƒ½ã€‚äºæ˜¯å°±æœ‰äº†ç±»ä¼¼å¤–åŒ…è¿™æ ·å¾ˆæ£’çš„æƒ³æ³•ï¼Œâ€œç”¨ä¸€ä¸ªä½å·¥èµ„å›½å®¶çš„æˆæœ¬ä¸­å¿ƒï¼Œæ›¿æ¢æ‰è¿™äº›ç›¸å½“æ˜‚è´µçš„æˆæœ¬ä¸­å¿ƒï¼Œè¿™äº›æ˜‚è´µçš„æˆæœ¬ä¸­å¿ƒå¹¶ä¸èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆã€‚â€ï¼ˆæç¤ºï¼šå¦‚æœä½ è¯»åˆ°è¿™ä¸ªæŒ‡å¯¼åé¢çš„éƒ¨åˆ†ï¼Œä½ å®Œå…¨å¯ä»¥å¿½ç•¥å¤–åŒ…ï¼Œä¸ç”¨æŠŠå®ƒå½“ä½œèŒä¸šç”Ÿæ¶¯ä¸­çš„å¨èƒã€‚ï¼‰æ²¡æœ‰äººä¼šå¤–åŒ…åˆ©æ¶¦ä¸­å¿ƒã€‚åªæœ‰åœ¨ MBA å¼€çš„ç©ç¬‘ä¸­æ‰ä¼šå‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ã€‚è¿™å°±å¥½æ¯”å»ºè®®ç”¨è½¯ç›˜ä¿å­˜ä¸€å †å‰¯æœ¬ï¼Œç”¨æ¥ä»£æ›¿æºç æ§åˆ¶ç³»ç»Ÿã€‚ ä¸è¦è‡ªç§°ä¸ºç¨‹åºå‘˜ â€œç¨‹åºå‘˜â€å¬ä¸Šå»â€œåªä¼šåœ¨ä¸€å°å¤æ‚çš„æœºå™¨ä¸Šå¹²ä¸€äº›éš¾æ‡‚çš„äº‹æƒ…ï¼Œè€Œä¸”æˆæœ¬å¥‡é«˜ã€‚â€ å¦‚æœä½ è‡ªç§°ä¸ºç¨‹åºå‘˜ï¼Œæœ‰äº›äººå·²ç»åœ¨æƒ³åŠæ³•æŠŠä½ è§£é›‡æ‰ã€‚æœ‰ä¸€å®¶å…¬å¸å« Salesforceï¼Œå·¥ç¨‹å¸ˆç†ŸçŸ¥ä»–ä»¬æ‰€æå‡ºçš„â€œè½¯ä»¶å³æœåŠ¡â€ï¼ˆSaaSï¼ŒSoftware as a Servicesï¼‰ã€‚ä»–ä»¬çš„å£å·å°±æ˜¯â€œæ²¡æœ‰è½¯ä»¶â€ï¼Œä»–ä»¬å‘å®é™…å®¢æˆ·çŒè¾“è¿™æ ·çš„è§‚ç‚¹ï¼Œâ€œä½ çŸ¥é“ä½ ä»¬å†…éƒ¨çš„ç¨‹åºå‘˜åœ¨åšä»€ä¹ˆå— ï¼Ÿå¦‚æœä½ ä½¿ç”¨ Saleforceï¼Œä½ å¯ä»¥è§£é›‡ä¸€åŠçš„ç¨‹åºå‘˜ï¼Œå¹¶æŠŠèŠ‚çœä¸‹æ¥çš„ä¸€éƒ¨åˆ†é’±ä½œä¸ºå¥–é‡‘æ”¾è¿›ä½ è‡ªå·±çš„å£è¢‹ã€‚â€ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œè¿™æ ·æ²¡æœ‰é”™ã€‚ä½ æ•ˆåŠ›çš„å…¬å¸ä¼šè®©åˆ«äººå¤±ä¸šã€‚å¦‚æœä½ è®¤ä¸ºè¿™ä¸å…¬å¹³ï¼Œå›åˆ°å­¦æ ¡çˆ±å¹²å˜›å¹²å˜›ã€‚ï¼‰ æ­£ç¡®çš„åšæ³•æ˜¯ï¼Œä½ åº”è¯¥æŠŠè‡ªå·±æè¿°æˆä¸å¢åŠ æ”¶å…¥ã€é™ä½æˆæœ¬æœ‰å…³ç³»çš„äººã€‚å¦‚æœä½ è¿˜æ²¡æœ‰æœºä¼šåšåˆ°è¿™äº›ï¼Œåº”è¯¥è¯´æ˜ä½ æœ‰èƒ½åŠ›å»å¢åŠ æ”¶å…¥æˆ–é™ä½æˆæœ¬ï¼Œæˆ–è€…æœ‰è¿™æ ·çš„æƒ³æ³•ã€‚ å¾ˆå¤šæ‹¿ç€ä¸é”™è–ªæ°´çš„ç¼–ç ä¸“å®¶ï¼Œå¹¶ä¸æŠŠä»–ä»¬è‡ªå·±å½¢å®¹æˆæ˜¯ä»¥ç ä»£ç è°‹ç”Ÿçš„ã€‚åå°”è¡—çš„å®½å®¢å°±æ˜¯ç¬¬ä¸€ä¸ªå’Œæœ€è‘—åçš„ä¾‹å­ï¼š å’Œé‚£äº›æ²¡æœ‰å¸®åŠ©çš„äººç›¸æ¯”ï¼Œä»–ä»¬ä½¿ç”¨è®¡ç®—æœºå’Œæ•°å­¦ä½œä¸ºæ æ†ï¼Œå¯ä»¥æ›´å¿«æ›´å¥½åœ°åšå‡ºåæœä¸¥é‡çš„å†³å®šï¼Œè¿™äº›å†³å®šå¯ç¬‘çš„åœ°æ–¹åœ¨äºâ€œæˆ‘ä»¬å…¬å¸èµšäº†æ•°åäº¿ç¾å…ƒã€‚â€ ï¼ˆè¯‘è€…æ³¨ï¼šå¯¹é‡‘èè¡ç”Ÿå“çš„è®½åˆºï¼Ÿï¼‰å¹´æ™¯å¥½çš„æ—¶å€™ï¼ŒæˆåŠŸå®½å®¢ä¸€å¹´çš„å¥–é‡‘ï¼Œè¦æ¯”åŒæ ·æ‰æ™ºçš„å·¥ç¨‹å¸ˆå¹²åå¹´æˆ–ä¸€è¾ˆå­èµšçš„é’±è¿˜è¦æ¥å¾—å¤šã€‚ å®½å®¢ï¼ˆquantï¼‰ï¼šæŒ‡ä¸€ç¾¤é æ•°å­¦æ¨¡å‹åˆ†æé‡‘èå¸‚åœºçš„ç‰©ç†å­¦å®¶å’Œæ•°å­¦å®¶ã€‚ä»–ä»¬ç›¸ä¿¡æ•°å­¦çš„ç²¾ç¡®æ€§æ˜¯åˆ†ææœ€å¤æ‚çš„äººç±»æ´»åŠ¨çš„åŸºç¡€ï¼Œè¿˜æ›¾ç”¨åˆ†æç¥ç»ç³»ç»Ÿçš„æ•°å­¦æŠ€å·§æ¥èµšé’±ã€‚ä¹Ÿè¢«ç§°ä¸ºé‡‘èå·¥ç¨‹å¸ˆï¼Œä»–ä»¬å°†è‡ªå·±æˆç§°ä¸ºâ€œçŸ¿å·¥â€ã€‚ åŒæ ·å°±ç®—ä½ è®¤ä¸º Google çœ‹ä¸Šå»æ˜¯ä¸€å®¶å¯¹ç¨‹åºå‘˜å‹å¥½çš„å…¬å¸ï¼Œé‚£é‡Œæœ‰ç¨‹åºå‘˜ï¼Œä¹Ÿæœ‰ä¸€äº›äººå¯¹ AdWords ç‚¹å‡»ç‡ æå‡ 1% éƒ½ç›¸å½“å…³æ³¨ã€‚ï¼ˆæç¤ºï¼šè¯æ˜ä»·å€¼æ˜¯æ•°åäº¿ç¾å…ƒã€‚ï¼‰æˆ‘æœ€è¿‘å¶ç„¶å‘ç°ä¸€ä¸ªå®¶ä¼™çš„ç½‘é¡µï¼Œä»–ä¸Šé¢çš„å±¥å†æ˜¯è¿™æ ·å†™çš„ï¼Œâ€œç¼–å†™äº†åå°è®¡è´¹ä»£ç ï¼ŒGoogleå…¬å¸ 97% çš„æ”¶å…¥ï¼Œä¸æˆ‘çš„ä»£ç æœ‰å…³â€ã€‚ä»–ç°åœ¨æ˜¯ä¸€ä¸ªå¤©ä½¿æŠ•èµ„äººï¼ˆâ€œæœ‰é’±äººâ€å¦ä¸€ä¸ªç¤¼è²Œç‚¹çš„ç§°å‘¼ï¼‰ã€‚ ä¸è¦å—åˆ¶äºä½ çš„æŠ€æœ¯æ ˆ æˆ‘æœ€è¿‘åœ¨ Twitter ä¸Šé—®äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºèŒä¸šç”Ÿæ¶¯ï¼Œå¹´è½»å·¥ç¨‹å¸ˆæƒ³çŸ¥é“äº›ä»€ä¹ˆã€‚å¾ˆå¤šäººéƒ½é—®åˆ°å¦‚ä½•å­¦ä¹ æŸæŸè¯­è¨€æˆ–è€…åè®®æ ˆã€‚è¿™äº›ä¸é‡è¦ï¼Œè¯·å¾€ä¸‹é¢çœ‹ã€‚ Java ç¨‹åºå‘˜æ¯” .Net ç¨‹åºå‘˜æ›´èƒ½èµšé’±å—ï¼Ÿä»»ä½•æŠŠä»–ä»¬è‡ªå·±é™å®šæˆ Java æˆ–è€… .Net ç¨‹åºå‘˜çš„äººå·²ç»æ˜¯å¢ç‘Ÿäº†ï¼Œå› ä¸ºé¦–å…ˆä»–ä»¬æ˜¯ç¨‹åºå‘˜ï¼ˆç†ç”±å‚è€ƒä¸Šé¢ï¼‰ï¼Œå…¶æ¬¡è¿™ç§é™å®šä½¿å¾—ä»–ä»¬è‡ªåŠ¨è¢«æ’é™¤åœ¨ä¸–ç•Œä¸Šå¤§å¤šæ•°ç¼–ç¨‹å·¥ä½œä¹‹å¤–ã€‚ç°å®ç”Ÿæ´»ä¸­ï¼Œå­¦ä¼šä¸€ç§æ–°è¯­è¨€åªéœ€è¦å‡ ä¸ªæ˜ŸæœŸï¼Œç„¶åå†è¿‡åŠå¹´åˆ°ä¸€å¹´ï¼Œä½ å°±ä¼šå˜æˆè€æ‰‹ã€‚é‚£æ—¶ï¼Œæ ¹æœ¬æ²¡äººåœ¨ä¹ä½ ä»¥å‰ç”¨ä»€ä¹ˆè¯­è¨€ã€‚æ—©åœ¨ 2010 å¹´ 3 æœˆï¼Œæˆ‘è¿˜å¼€å‘äº†Java Web åº”ç”¨ç¨‹åºçš„åå°ã€‚ç›¸ä¿¡æˆ‘ï¼Œæ²¡æœ‰äººåœ¨ä¹é‚£äº›ã€‚å¦‚æœä¸€å®¶ Python å…¬å¸æ­£åœ¨å¯»æ‰¾ä¸€ä½æŠ€æœ¯ä¸“å®¶ä¸ºä»–ä»¬èµšä¸€å¤§ç¬”é’±ï¼Œè™½ç„¶äº‹å®ä¸Šæˆ‘æ²¡æœ‰å†™è¿‡ä¸€è¡Œ Python ä»£ç ï¼Œä½†è¿™ä¹Ÿé˜»æ­¢ä¸äº†æˆ‘ã€‚ å¤©æ‰ç¨‹åºå‘˜æ˜¯å¾ˆå°‘çš„ â€”â€” å¯æ˜¯éœ€è¦å¤©æ‰ç¨‹åºå‘˜çš„å·¥ä½œæœºä¼šå´å¾ˆå¤šå¾ˆå¤š â€”â€” å¤§å¤šæ•°åœºåˆéƒ½æ˜¯éœ€æ±‚è¿œè¿œå¤§äºä¾›ç»™ã€‚Matasono å…¬å¸çš„äººéƒ½åœ¨ä½¿ç”¨ Rubyã€‚å¦‚æœä½ ä¸ä¼šï¼Œåªè¦ä½ æ˜¯ä¸€ä¸ªä¼˜ ç§€å·¥ç¨‹å¸ˆï¼Œä»–ä»¬ä¹Ÿä¼šç«‹åˆ»å½•ç”¨ä½ ã€‚ï¼ˆé‡å¤ä¸€éï¼Œæ‰€è°“â€ä¼˜ç§€å·¥ç¨‹å¸ˆâ€ï¼Œå°±æ˜¯ä½ çš„å±¥å†ä¸Šæœ‰ä¸€è¿ä¸²å¢åŠ æ”¶å…¥ã€é™ä½æˆæœ¬çš„è®°å½•ã€‚ï¼‰Frog Creek ä¸­å¤§å¤šæ•°äººéƒ½ä½¿ç”¨ Microsoft çš„åè®®æ ˆã€‚æˆ‘ç”šè‡³ä¸ä¼šæ‹¼å†™ ASP.NETï¼Œä½†ä»–ä»¬è¿˜æ˜¯ä¼šé›‡æˆ‘ã€‚ æœ‰äº›å…¬å¸çš„äººäº‹éƒ¨é—¨ï¼Œä¼šæ ¹æ®æŸä¸ªå…³é”®è¯è¿‡æ»¤ç®€å†ã€‚è™½ç„¶è¿™æ ·çš„å…¬å¸æ ¹æœ¬ä¸å€¼å¾—å»ï¼Œä½†æ˜¯å¦‚æœä½ çœŸçš„æƒ³è¿‡è¿™ä¸€å…³ï¼Œä¹Ÿå¾ˆå®¹æ˜“ï¼šæŠ•å…¥å‡ ä¸ªæ™šä¸Šå’Œå‘¨æœ«ï¼Œåœ¨ä½ å½“å‰çš„é¡¹ç›®ä¸­è®¾æ³•ç”¨åˆ°è¿™ä¸ªå…³é”®è¯ï¼Œç„¶åå†æŠŠå®ƒå†™è¿›ç®€å†å°±è¡Œäº†ã€‚æƒ³åœ¨ä¸€å®¶ .NET å…¬å¸ç´¯ç§¯ Ruby çš„ç»éªŒï¼Ÿç”¨ Ruby å®Œæˆä¸€ä¸ªä¸€æ¬¡æ€§çš„é¡¹ç›®ï¼Œä½ å°±æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ Ruby ç¨‹åºå‘˜ â€”â€” ä½ ç¼–å†™äº† Ruby ä»£ç è¿˜èµšäº†é’±ã€‚ï¼ˆä½ ä¹äº†å§ï¼Ÿæˆ‘åœ¨ä¸€å®¶ Java å…¬å¸å¹²è¿‡ç±»ä¼¼çš„äº‹ã€‚æœ‰ä¸ªä¸€æ¬¡æ€§çš„é¡¹ç›®ç»™å…¬å¸èµšäº† 3 ä¸‡ç¾å…ƒã€‚ä¸å‡ºæ‰€æ–™ï¼Œæˆ‘è€æ¿ä¹åäº†ï¼Œç”šè‡³éƒ½æ²¡æœ‰é—®è¿‡è¦äº¤ä»˜ä»€ä¹ˆã€‚ï¼‰ åŒäº‹å’Œè€æ¿é€šå¸¸ä¸æ˜¯ä½ çš„æœ‹å‹ ä½ æœ‰å¾ˆé•¿æ—¶é—´å’ŒåŒäº‹ä»¬åœ¨ä¸€èµ·ã€‚æœ€åä½ å¯èƒ½ä¼šå’Œä»–ä»¬ä¸­çš„ä¸€äº›äººæˆä¸ºå¾ˆäº²å¯†çš„æœ‹å‹ï¼Œä½†é€šå¸¸ä¸‰å¹´å†…ä½ ä»¬å°±ä¼šåˆ†å¼€ï¼Œé™¤äº†ä¿æŒå‹å¥½çš„å…³ç³»å¤–ï¼Œä½ ä¸ä¼šå†é‚€è¯·ä»–ä»¬å‡ºå»å…±è¿›æ™šé¤ã€‚ä»–ä»¬ä¹Ÿå°†åŒæ ·å¯¹å¾…ä½ ã€‚ä»»ä½•è§è¿‡ä½ çš„äººéƒ½ä¼šè®¤ä¸ºä½ æ˜¯ä¸ªå¥½äºº â€”â€” è¿™æ˜¯é“å¾·å±‚é¢çš„äº‹æƒ…ï¼Œå¯¹ä½ çš„äººé™…å…³ç³»æœ‰æ‰€å¸®åŠ© â€”â€” ä½†æ˜¯ä¸èƒ½ç”±æ­¤å¦„æƒ³æ‰€æœ‰äººéƒ½æ˜¯ä½ çš„æœ‹å‹ã€‚ æ¯”å¦‚åœ¨ä¸€ä¸ªé¢è¯•ä¸­ï¼Œä½ å’Œä¸€ä¸ª 28 å²çš„å‹å–„çš„å®¶ä¼™ç›¸è°ˆç”šæ¬¢ï¼Œè®©ä½ æ„Ÿè§‰ä»–å°±æ˜¯å‡ å¹´åçš„ä½ ï¼Œä½†ä»–è¿˜æ˜¯å¤„åœ¨ä¸€ä¸ªäº¤æ˜“ä¸­ã€‚ä½ ä¸æ˜¯ä»–çš„æœ‹å‹ï¼Œä½ åªæ˜¯ä¸€ä¸ªå·¥ä¸šæµç¨‹çš„è¾“å…¥ï¼Œä»–ä¼šä¸ºå…¬å¸ç”¨æœ€å°‘çš„é’±å»é›‡ä½ ã€‚ä»–ç”¨é­”å…½ä¸–ç•Œçš„è¯é¢˜è·Ÿä½ å¥—è¿‘ä¹ï¼Œå…¶å®æ˜¯åœ¨å»ºç«‹ä¸€ç§èŒä¸šå…³ç³»ï¼Œä»–ä¼šå°è¯•ï¼ˆå½“ç„¶æ˜¯ç»å¯¹ç¬¦åˆèŒä¸šé“å¾·åœ°ï¼‰åšé‚£äº›ä½ çœŸæ­£æœ‹å‹ä¸ä¼šå¯¹ä½ åšçš„äº‹æƒ…ã€‚æ¯”å¦‚è¯•å›¾è¯´æœä½ æ¥å—å‡ åƒç¾å…ƒçš„è–ªæ°´ï¼Œæˆ–è€…è®©ä½ å¿ƒæ€€å†…ç–šå¾—åœ¨å…¬å¸é‡Œå¾…æ›´é•¿çš„æ—¶é—´ï¼Œè€Œä½ åŸæœ¬å¯ä»¥å’ŒçœŸæ­£çš„æœ‹å‹åœ¨ä¸€èµ·ã€‚ä½ è¿˜æœ‰å…¶ä»–ä¸€äº›å‹å¥½å’Œæœ‰èŒä¸šé“å¾·çš„åŒäº‹ â€”â€” ä»–ä»¬å»ºè®®çš„ä¸œè¥¿ä¼šæŸå®³ä½ çš„åˆ©ç›Šï¼Œä»â€œä½ åšçš„é‚£ä¸ªé¡¹ç›®é‡Œé¢å¯æœ‰æˆ‘çš„åŠŸåŠ³â€ï¼ˆæªè¾ä¸Šå¯èƒ½ä¸ä¼šæœ‰è¿™ä¹ˆå¤šå•è¯ï¼‰åˆ°â€œæˆ‘ä»¬åº”è¯¥åšè¿™ä»¶äº‹æƒ…ï¼Œå®ƒå¯¹æˆ‘çš„èŒä¸šå‘å±•æœ‰å¸®åŠ©ï¼Œè€Œä¸æ˜¯ä½ çš„ã€‚â€ å½“è¿™äº›äº‹æƒ…å‘ç”Ÿæ—¶ï¼Œä¸è¦æ„Ÿåˆ°æƒŠè®¶ã€‚ å½»åº•é«˜ä¼°äº†ç«äº‰å¯¹æ‰‹çš„å¹³å‡æ°´å¹³ å®é™…ä¸Šï¼Œå¾ˆå¤šè¢«é›‡çš„é«˜çº§å·¥ç¨‹å¸ˆä¸ä¼šå®ç° FizzBuzz åºåˆ—ã€‚è¯»åˆ°è¿™é‡Œä½ æ³ªæµæ»¡é¢äº†å§ã€‚è¿™é‡Œæœ‰ä¸ªå…³é”®ç‚¹ï¼šå¯¹äºé‚£äº›å…¬å¸è€Œè¨€ï¼Œä½ å·²ç»è¶³å¤Ÿå¥½äº†ï¼Œä½†ä½ è‡ªå·±å´ä¸è¿™ä¹ˆè®¤ä¸ºã€‚ä»–ä»¬ä¼šé›‡ç”¨ç‰›äººï¼Œä½†ä»–ä»¬ä¹Ÿä¼šé›‡ç”¨æ™®é€šäººã€‚ â€œé˜…è¯»æ‹›è˜å¹¿å‘Šâ†’å‘é€ç®€å†â†’å‚åŠ é¢è¯•â†’æ‹¿åˆ°Offerâ€ è¿™ä¸ªä¸æ˜¯è¢«å½•ç”¨çš„å¸¸è§é€”å¾„ï¼Œåªæ˜¯ä¸ªæ„å¤–ã€‚ å¤§å¤šæ•°èŒä½ä»æ¥éƒ½æ²¡æœ‰å¯¹å¤–å…¬å¸ƒè¿‡ï¼Œå°±åƒåœ¨å¸‚é¢ä¸Šå¾ˆå°‘èƒ½æ‰¾åˆ°ä¸é”™çš„å€™é€‰äººä¸€æ ·ï¼ˆçœ‹è¿™é‡Œï¼‰ã€‚åœ¨å¤§å®¶ä¸€èµ·å–å•¤é…’æ—¶ï¼Œè¿™ä¸ªèŒä½çš„ä¿¡æ¯å€™å°±ä¼ æ’­å‡ºå»äº†ï¼Œæœ‰æ—¶å€™è¿˜éœ€è¦é€šè¿‡é‚®ä»¶æ’®åˆä¸€ä¸‹ã€‚å…¬å¸é‡Œåšå†³å®šçš„äººè¦æ‰¾ä¸€ä¸ªäººã€‚ä»–å‘Šè¯‰ä»–çš„æœ‹å‹å’Œæœ‰ä¸šåŠ¡å¾€æ¥çš„äººã€‚ä»–ä»¬ä¸­çš„ä¸€ä¸ªäººåˆšå¥½çŸ¥é“è¿™ä¹ˆä¸€ä¸ªäºº â€”â€” å®¶åº­æˆå‘˜ã€å¤§å­¦å®¤å‹ã€ä¼šè®®ä¸Šè®¤è¯†çš„æŸä¸ªäººã€ä»¥å‰çš„åŒäº‹ä¹‹ç±»çš„ã€‚åšäº†ä¸€äº›ä»‹ç»ï¼Œå¤§å®¶è§äº†ä¸ªé¢ï¼Œè¿™ä¸ªå·¥ä½œå°±è°ˆå¾—å…«ä¹ä¸ç¦»åäº†ã€‚æ¥ä¸‹æ¥ç®€å†ã€äººåŠ›éƒ¨é—¨ã€æ­£å¼å½•ç”¨ä¹‹ç±»çš„å¼€å§‹è¿›åœºäº†ã€‚ è¿™å¯èƒ½æ˜¯ä½ çœŸæ­£æƒ³å¾—åˆ°çš„å·¥ä½œã€‚â€œä¸€ä¸ªæˆåŠŸåˆ›ä¸šå…¬å¸çš„é¦–ä½å‘˜å·¥â€è¿™å¯¹å¾ˆå¤š Geek æ¥è¯´æœ‰ä¸€å®šçš„å¸å¼•åŠ›ï¼Œä½†äº‹å®ä¸Šä»–ä»¬ä¹Ÿæ‰¾ä¸åˆ°åœ°æ–¹å»å‘æ±‚èŒä¿¡ç»™äººåŠ›éƒ¨é—¨ï¼Œéƒ¨åˆ†åŸå› æ˜¯ä¸¤ä¸ªäººçš„åˆ›ä¸šå…¬å¸ä¹Ÿä¸å¤ªéœ€è¦æˆç«‹äººåŠ›éƒ¨é—¨ã€‚ï¼ˆå¤‡æ³¨ï¼šä½ å¯èƒ½ä¸æƒ³æˆä¸ºåˆ›ä¸šå…¬å¸çš„é¦–ä½å‘˜å·¥ï¼Œè€Œæ˜¯æœ€åä¸€ä½åˆä¼™äººã€‚ï¼‰æƒ³åœ¨ Google è°‹å¾—ä¸€ä»½å·¥ä½œï¼Ÿå¦‚æœGoogle é‡Œé¢æœ‰äººå–œæ¬¢ä½ ï¼Œä»–ä»¬æœ‰ä¸€ä¸ªæ­£å¼çš„æµç¨‹å¯ä»¥åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›ã€‚ï¼ˆå¦‚æœè¿™ä¸ª Google çš„äººå¾ˆå–œæ¬¢ä½ ï¼Œæœ‰å¾ˆå¤šéæ­£å¼çš„æ–¹æ³•å¯ä»¥ç¼©çŸ­è¿™ä¸ªæµç¨‹ã€‚æ¯”å¦‚ï¼šä¹°ä¸‹ä½ å·¥ä½œçš„å…¬å¸ã€‚å½“æœ‰å¾ˆå¤šé’±çš„æ—¶å€™ï¼Œè§£å†³é—®é¢˜ä¹Ÿå°±æœ‰å¾ˆå¤šæœ‰è¶£çš„é€‰æ‹©ã€‚ï¼‰ ç§åº•ä¸‹é›‡ç”¨æœ‰å¾ˆå¤šåŸå› ã€‚ä¸€ä¸ªåŸå› æ˜¯å·¥ä½œæœºä¼šå…¬å¼€åä¼šæ”¶åˆ°ä¸Šç™¾ä»½ç®€å†ï¼ˆç‰¹åˆ«åœ¨è¿™ç§ç»æµç¯å¢ƒä¸‹ï¼‰ï¼Œä½†å¾ˆå¤šäººå…¶å®å¹¶ä¸é€‚åˆè¿™ä¸ªèŒä½ã€‚å¦ä¸€ä¸ªåŸå› æ˜¯å…¶ä»–å…¬å¸åœ¨æ‹›è˜æ–¹é¢çš„æƒ¨ç—›ç»å†ï¼Œé™¤éä½ å¯¹åº”è˜è€…å¾ˆäº†è§£ï¼Œä¸ç„¶ä½ å¾ˆå¯èƒ½æ‹›è¿›ä¸€ä¸ªè¿ FizzBuzz éƒ½æä¸å®šçš„äººã€‚ ç¤¾äº¤ç½‘ç»œï¼ˆäººé™…å…³ç³»ï¼‰ä¸ä»…ä»…æ˜¯ TCP æ•°æ®åŒ… ç¤¾äº¤ç½‘ç»œ/å…³ç³»ç½‘æœ‰ä¸¤ä¸ªæ„ä¹‰ï¼Œä¸€æ˜¯é‡åˆ°åœ¨æŸäº›æ–¹é¢å¯ä»¥ä¸ºä½ æä¾›å¸®åŠ©çš„äººï¼ˆåè¿‡æ¥ä¹Ÿä¸€æ ·ï¼‰ï¼ŒäºŒæ˜¯ç»™ä»–ä»¬ç•™ä¸‹è‰¯å¥½çš„å½±å“ã€‚ æœ‰å¾ˆå¤šåœºåˆå¯ä»¥ç»“äº¤å…¶ä»–äººã€‚è¡Œä¸šé‡Œä¸¾åŠçš„æ´»åŠ¨å°±æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ¯”å¦‚ä¼šè®®æˆ–è€…å­¦æœ¯åº§è°ˆä¼šã€‚ç”¨æˆ·ç»„æ˜¯å¦å¤–ä¸€ä¸ªé€‰æ‹©ï¼Œç”¨æˆ·ç»„é‡Œçš„äººå’Œè¡Œä¸šæ´»åŠ¨ä¸Šçš„äººå®Œå…¨ä¸åŒï¼Œè€Œä¸”æœ‰ç”¨å¾—å¤šã€‚ å°½é‡å¸®åŠ©åˆ«äººï¼Œè¿™æ˜¯æ­£ç¡®çš„åšæ³•ï¼Œäººä»¬ä¼šå¾ˆåœ¨æ„é‚£äº›è¿‡å»å¸®åŠ©è¿‡ä»–ä»¬çš„äººã€‚å¦‚æœä½ å¸®ä¸äº†æŸäººï¼Œä½†çŸ¥é“è°å¯ä»¥æä¾›å¸®åŠ©ï¼Œè¯·ä»‹ç»ä»–ä»¬ç›¸äº’è®¤è¯†ã€‚å¦‚æœä½ åšå¾—è¶³å¤Ÿå¥½ï¼ŒåŒæ–¹éƒ½ä¼šæ„Ÿæ¿€ä½ å¹¶ä¸”æ„¿æ„åœ¨ä»¥åçš„æ—¥å­é‡Œä¸ºä½ æä¾›å¸®åŠ©ã€‚ ä½ å¯ä»¥åœ¨äº’è”ç½‘ä¸Šç»“è¯†å…¶ä»–äººï¼ˆå¤©å‘ï¼Œä½ èƒ½å—ï¼Ÿï¼‰ï¼Œä½†æ˜¯æƒ¯å¸¸æ€ç»´è®©æˆ‘ä»¬è§‰å¾—é¢å¯¹é¢çš„äº¤æµä¼šæ›´å¥½ä¸€äº›ã€‚æˆ‘æ›¾ç»åœ¨ç½‘ä¸Šç»“è¯†è¿‡ä¸å°‘ç‰›äººï¼Œè¿‡ä¸äº†å¤šä¹…æˆ‘å°±ä¼šå»æ‹œè®¿æœ¬å°Šã€‚å³ä½¿é€šè¿‡ç½‘ä¸Šçš„äº¤æµå½¼æ­¤äº†è§£é¢‡æ·±ï¼Œç”šè‡³â€œå› ä¸ºå¯¹æ–¹çš„ä¸€ä¸ªå»ºè®®å‘äº†è´¢â€ï¼Œè§ä¸ªé¢æ¡ä¸ªæ‰‹ä¹Ÿä¼šè®©å…³ç³»æ›´è¿›ä¸€æ­¥ã€‚å‘åšå®¢å’ŒåŠ å…¥ç±»ä¼¼ HN ï¼ˆè¯‘è€…æ³¨ï¼šHackNewsï¼‰è¿™ç§ä¸šç•ŒçŒæ°´åŒºæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œä½†è¦é€šè¿‡å®ƒä»¬èƒ½è®©å¤§å®¶è§é¢äº¤æµã€‚ å­¦æœ¯ç•Œå’Œç°å®ä¸–ç•Œä¸ä¸€æ · ä½ çš„ GPA åˆ†æ•°ï¼ˆè¯‘è€…æ³¨ï¼šå¹³å‡åˆ†æ•°ï¼ŒGrade-Point Averageï¼‰ä¸é‡è¦ï¼ˆè·¨å›½å¹¿å‘Šå…¬å¸æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼‰ã€‚å®ƒå¾ˆå¤§ç¨‹åº¦åªå†³å®šä½ çš„ç®€å†æ˜¯å¦ä¼šè¢«é€‰å…¥å·¥ä½œé¢è¯•é˜¶æ®µã€‚å¦‚æœä½ è¯»äº†æœ¬æ–‡åé¢çš„éƒ¨åˆ†ï¼Œä½ å°±ä¼šç†è§£ç®€å†ä¸æ˜¯è·å¾—é¢è¯•çš„ä¸»è¦æ–¹å¼ï¼Œä¸è¦è€—è´¹ç²¾åŠ›å»æ”¹å–„é‚£äº›åŸæœ¬å°±å·²ç»ä¸é”™çš„ä¸œè¥¿ï¼ˆæ— è®ºGPAåˆ†æ•°æ˜¯ 3.96 è¿˜æ˜¯ 3.8 ï¼Œä½ è·å¾—çš„å·¥ä½œé¢è¯•éƒ½å·®ä¸å¤šï¼‰ï¼Œæˆ–è€…ä½ æ ¹æœ¬å°±ä¸éœ€è¦ï¼ˆå› ä¸ºä½ é‚€è¯·åˆ°æ­£ç¡®çš„äººå‡ºå»å–å’–å•¡ï¼Œè€Œè·å¾—å·¥ä½œé¢è¯•ï¼‰ã€‚ ä½ çš„ä¸»ä¿®ç§‘ç›®å’Œè¾…ä¿®ç§‘ç›®ä¹Ÿä¸é‡è¦ã€‚ä¸šç•Œä¸­çš„å¤§å¤šæ•°å†³ç­–è€…å°±ç®—æƒ³å°è¯•ï¼Œä¹Ÿä¸èƒ½è¾¨åˆ«è®¡ç®—æœºä¸“ä¸šå’Œæ•°å­¦ä¸“ä¸šçš„å·®åˆ«ã€‚æˆ‘æ›¾ç»æœ‰ä¸€æ¬¡ä¼¤å¿ƒåˆ°äº†è½æ³ªï¼Œå› ä¸ºä¸€ä¸ªå­¦æœ¯ä¸Šçš„å°å·®é”™ï¼Œè®©æˆ‘è·å¾—ä¸»ä¿®è®¡ç®—æœºç§‘å­¦å­¦å£«çš„èƒ½åŠ›å€å—è´¨ç–‘ï¼Œæˆ‘çš„æŒ‡å¯¼è€å¸ˆå‘Šè¯‰æˆ‘å®ƒæ¯”è®¡ç®—æœºç§‘å­¦å­¦å£«æ›´ä¸ºæœ‰åã€‚å­¦æœ¯ä¸Šå°±åœ¨ä¹è¿™äº›åŒºåˆ«ã€‚ä½†æ˜¯ç°å®ä¸–ç•Œä¸ä¼šè¿™æ ·ã€‚ ä½ çš„æ•™æˆå¯èƒ½ä¼šç†è§£å­¦æœ¯å°±ä¸šå¸‚åœºæ˜¯å¦‚ä½•è¿ä½œçš„ï¼ˆå°æ’æ›²ï¼šä»–ä»¬åœ¨å·¥ç¨‹ä¸Šæ–¹é¢ï¼Œä½æ•ˆå¾—å¯ç¬‘ã€‚åœ¨è‹±è¯­è¡¨è¿°ä¸Šï¼Œæ··ä¹±åˆ°å¸¸äººæ— æ³•ç†è§£ï¼‰ï¼Œä½†ä»–ä»¬è¿˜å¸¸å¸¸å¦‚å”å‰ç‚å¾·èˆ¬å¹»æƒ³ç€çœŸå®çš„ä¸–ç•Œã€‚æ¯”å¦‚ï¼Œä»–ä»¬ä¼šå¼ºè¿«ä½ è¿½æ±‚æ›´é«˜çš„å­¦ä½ï¼Œå› ä¸ºä»ä»–ä»¬çœ‹æ¥è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ä¸»æ„ï¼Œè€Œä¸”ä»–ä»¬å–œæ¬¢æœ‰è‹¦åŠ›ï¼ˆåªä¸ºåƒä¸€ç¢—æ‹‰é¢çš„è‹¦åŠ›ï¼‰è¿›è¡Œå­¦æœ¯ç ”ç©¶ã€‚åœ¨ä½ æ‰€åœ¨çš„é¢†åŸŸï¼Œç›¸å…³ç ”ç©¶äººå‘˜çš„å¸‚ä»·éƒ½æ˜¯ 80~100k+++ ç¾å…ƒã€‚è¶³å¤Ÿä¹°å¾ˆå¤šæ‹‰é¢äº†ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šä¼°è®¡ä½œè€…åœ¨å¤§å­¦æœŸé—´ï¼Œæ²¡å°‘ç»™è€æ¿å¹²æ´»ï¼‰ ä¸»ç®¡æˆ‘ç ”ç©¶é¡¹ç›®çš„æ•™æˆåœ¨å®éªŒå®¤é‡Œé¢ç»™æˆ‘å®‰æ’äº†ä¸€ä¸ªåº§ä½ï¼Œå…äº†å­¦è´¹ï¼Œè¿˜ç»™äº†æˆ‘æ€»å…± 12000 ç¾å…ƒå¥–å­¦é‡‘ï¼Œä½†æˆ‘è¦ä¿è¯æ›¿ä»–å·¥ä½œ 4-6 å¹´ã€‚åªæœ‰å½“ä½ åˆšä»ä¸€ä¸ªä½å·¥èµ„çš„å›½å®¶ç§»æ°‘è¿‡æ¥ï¼Œå¹¶éœ€è¦æœ‰äººå’Œæ”¿åºœäº¤æ¶‰å‘ç»™ä½ ç­¾è¯çš„æ—¶å€™ï¼Œè¿™æ‰æ˜¯ä¸€ä¸ªä¸é”™çš„äº¤æ˜“ã€‚ å¦‚æœä½ çœŸçš„å–œæ¬¢å¤§å­¦é‡Œçš„æ°›å›´ï¼Œè¿™çš„ç¡®å¾ˆæ£’ã€‚æ— è®ºä½•æ—¶ï¼Œæ— è®ºå“ªä¸€æ‰€ç¾å›½å¤§å­¦ï¼Œæ— è®ºå…¶ä¸­çš„å“ªä¸€åº§å»ºç­‘ï¼Œä½ éƒ½å¯ä»¥èƒŒç€èƒŒåŒ…èµ°è¿›å…¶ä¸­ã€‚åœ¨å­¦æœ¯ç•Œå·¥ä½œï¼ŒèƒŒåŒ…è¿˜æ˜¯ä¹°å¾—èµ·çš„ã€‚ä½ ä¹Ÿå¯ä»¥æˆä¸ºä¸šç•Œçš„ç²¾ç¥é¢†è¢– â€”â€” äº«å—æ›´å°‘çš„æ”¿æ²»å’Œæ›´å¥½çš„å¾…é‡ã€‚åªè¦ä½ æ„¿æ„ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨æ‚å¿—ä¸Šå‘è¡¨æ–‡ç« ã€‚ï¼ˆå½“ä½ ä»å­¦æœ¯ä¸­çš„ä¹ŒçƒŸç˜´æ°”è§£è„±ä¹‹åï¼Œä½ å¯èƒ½ä¼šè´¨ç–‘å¯¹ä¸ªäººæˆ–ç¤¾ä¼šè€Œè¨€ï¼Œåœ¨æ‚å¿—ä¸Šå‘è¡¨ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯ä¸æ˜¯æ¯”å†™ä¸€ä¸ªç»™èªæ˜äººçœ‹çš„åšå®¢å¾ˆé‡è¦ã€‚ï¼‰ å·¥ç¨‹å¸ˆèµšå¤šå°‘é’±ï¼Ÿ é”™è¯¯çš„é—®é¢˜ã€‚æ­£ç¡®çš„é—®é¢˜åº”è¯¥æ˜¯â€œå·¥ç¨‹å¸ˆåœ¨è¿™ä»½å·¥ä½œä¸­ï¼Œå¹³æ—¶éƒ½åšä»€ä¹ˆï¼Ÿâ€ï¼Œè–ªæ°´æ˜¯ä¼—å¤šæ æ†ä¹‹ä¸€ï¼Œäººä»¬å¯ä»¥ç”¨å®ƒæ¥æ¿€åŠ±ä½ ã€‚æ²¡æœ‰å¤šå°‘å¸®åŠ©çš„ç­”æ¡ˆæ˜¯ï¼Œâ€œå·¥ä½œåˆ°å¤„éƒ½æ˜¯ã€‚â€ é€šå¸¸ï¼Œå¤§å…¬å¸è¦æ¯”åˆ›ä¸šå…¬å¸å¥½ä¸€äº›ï¼ˆåŒ…å«é‡‘é’±ï¼Œç¦åˆ©ç­‰ï¼‰ã€‚èƒ½å¤Ÿåˆ›é€ é«˜æ„ŸçŸ¥ä»·å€¼çš„å·¥ç¨‹å¸ˆè¦æ¯”æ™®é€šå·¥ç¨‹å¸ˆèµšå¾—å¤šã€‚èµ„æ·±å·¥ç¨‹å¸ˆè¦æ¯”åˆçº§å·¥ç¨‹å¸ˆèµšå¾—å¤šã€‚é«˜æˆæœ¬é¢†åŸŸçš„äººè¦æ¯”ä½æˆæœ¬çš„èµšå¾—å¤šã€‚ç†Ÿç»ƒæŒæ¡è°ˆåˆ¤èƒ½åŠ›çš„äººè¦æ¯”å…¶ä»–äººèµšå¾—å¤šã€‚ æˆ‘ä»¬çš„æ–‡åŒ–ä¼ ç»Ÿä¸å…è®¸è¯¢é—®è–ªæ°´ã€‚ä½†è¿™å¹¶ä¸æ™®éã€‚åœ¨å…¶ä»–æ–‡åŒ–ä¸­ï¼Œéå¸¸åˆé€‚åœ¨ä¸“ä¸šèƒŒæ™¯ä¸‹è®¨è®ºé’±ã€‚ï¼ˆå¦‚æœä½ æ˜¯ä¸€ä¸ªæ—¥æœ¬çš„ä¸­äº§é˜¶çº§ï¼Œä½ ç†æ‰€å½“ç„¶å¾—è¦åœ¨ç¬¬äºŒæ¬¡è§é¢çš„æ—¶å€™ï¼Œå‘Šè¯‰åˆ«äººä½ æ‹¿çš„è–ªæ°´ï¼Œæ¯”å¦‚ä½ è¶³çƒä¿±ä¹éƒ¨çš„äººï¼Œæˆ–è€…ç»™ä½ åšå¯¿å¸çš„å®¶ä¼™ã€‚å¦‚æœä½ æ‹¥æœ‰ä¸€å®¶å…¬å¸ï¼Œå¯¹ä½ çš„èµ„äº§å¯èƒ½ä¼šå®ˆå£å¦‚ç“¶ï¼Œä½†ä½ è¿˜æ˜¯ä¼šé¢‘ç¹å’Œæ¯«ä¸å°´å°¬åœ°è°ˆè®ºé›‡å‘˜ä»¬çš„è–ªæ°´ï¼Œå°±åƒç¨‹åºå‘˜è®¨è®ºç¼–è¯‘å™¨ä¸€æ ·ã€‚ï¼‰å¦‚æœæˆ‘æ˜¯ä¸€åé©¬å…‹æ€ä¸»ä¹‰å­¦è€…æˆ–è€…ä¸€åé˜´è°‹ç†è®ºå®¶ï¼Œä¼šè®¤ä¸ºç¾å›½ä¸­äº§é˜¶çº§çš„è¿™ä¸€å¥—æ–‡åŒ–æ˜¯ä¸ºé›‡ä¸»è€Œç‰¹åˆ«è®¾è®¡çš„ï¼Œä½†å´æŸå®³äº†é›‡å‘˜çš„åˆ©ç›Šã€‚å‰é¢å…³äºä»»ä½•ç‰¹å®šç›®æ ‡é›‡ä¸»çš„è–ªæ°´è®¨è®ºï¼Œä½ åº”è¯¥å’Œå·¥ä½œåœ¨ç›¸åŒæƒ…å†µçš„äººèŠä¸€ä¸‹ï¼Œé—®é—®ä»–ä»¬è¿™ä¸ªèŒä½çš„è–ªæ°´èŒƒå›´ã€‚æ­¤æ—¶æ­¤åˆ»ä½ å°±å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°è¿™äº›äººã€‚ï¼ˆå¯ä»¥å€ŸåŠ©LinkedInï¼ŒFacebookï¼ŒTwitterå’Œæ²¡æœ‰å›¾å½¢åŒ–æ•°æ®åº“çš„ç¤¾äº¤ç½‘ç»œã€‚ï¼‰ æ— è®ºå¦‚ä½•ï¼Œå·¥ç¨‹å¸ˆé€šå¸¸å¾—åˆ°ä¸€ç³»åˆ—ç¦åˆ©ã€‚åœ¨ç¾å›½å€¼å¾—æ‹…å¿ƒçš„æ˜¯ï¼Œå¥åº·ä¿é™©ï¼ˆé€šå¸¸ä½ ä¼šå¾—åˆ°ï¼Œä½ çš„é›‡ä¸»ä¼šæ”¯ä»˜å¤§éƒ¨åˆ†æˆ–æ‰€æœ‰çš„èŠ±é”€ï¼‰å’Œé€€ä¼‘è®¡åˆ’ï¼Œæ¢ç§è¯´æ³•å°±æ˜¯â€œæˆ‘ä»¬ä¼šä¸ºä½ çš„ 401K è®¡åˆ’äº¤çº³è–ªæ°´çš„ X% ã€‚â€ è¿™ä¸ªæ•°å€¼å¾ˆå¥½è®¡ç®—ï¼šè–ªæ°´çš„ X% ã€‚ï¼ˆè¿™æ˜¯å…è´¹çš„ï¼Œæ‰€ä»¥æ€»æ˜¯è¦ä¸ºä½ çš„ä¸ªäººé€€ä¼‘è´¦å·ï¼ˆIRAï¼ŒIndividual Retirement Accountï¼‰æ‰¾åˆ°æœ€é€‚åˆçš„é›‡ä¸»ã€‚æŠŠè¿™äº›é’±æ”¾åˆ°æŒ‡æ•°åŸºé‡‘ï¼Œç„¶å40å¹´å†…éƒ½ä¸è¦æƒ³å®ƒä»¬ã€‚ï¼‰ ä¼¯ä¹åœ¨çº¿è¡¥æ³¨ï¼š401K è®¡åˆ’ä¹Ÿç§°401K æ¡æ¬¾ï¼Œ401K è®¡åˆ’å§‹äº 20 ä¸–çºª 80 å¹´ä»£åˆï¼Œæ˜¯ä¸€ç§ç”±é›‡å‘˜ã€é›‡ä¸»å…±åŒç¼´è´¹å»ºç«‹èµ·æ¥çš„å®Œå…¨åŸºé‡‘å¼çš„å…»è€ä¿é™©åˆ¶åº¦ï¼Œæ˜¯æŒ‡ç¾å›½ 1978 å¹´ã€Šå›½å†…ç¨æ”¶æ³•ã€‹æ–°å¢çš„ç¬¬401æ¡ké¡¹æ¡æ¬¾çš„è§„å®šï¼Œ1979 å¹´å¾—åˆ°æ³•å¾‹è®¤å¯ï¼Œ1981 å¹´åˆè¿½åŠ äº†å®æ–½è§„åˆ™ï¼Œ20 ä¸–çºª 90 å¹´ä»£è¿…é€Ÿå‘å±•ï¼Œé€æ¸å–ä»£äº†ä¼ ç»Ÿçš„ç¤¾ä¼šä¿éšœä½“ç³»ï¼Œæˆä¸ºç¾å›½è¯¸å¤šé›‡ä¸»é¦–é€‰çš„ç¤¾ä¼šä¿éšœè®¡åˆ’ã€‚é€‚ç”¨äºç§äººç›ˆåˆ©æ€§å…¬å¸ã€‚ è¿˜æœ‰å…¶ä»–ç¦åˆ©ï¼Œç±»ä¼¼â€œå…è´¹æ±½æ°´â€ã€â€œæä¾›åˆé¤â€ã€â€œå…è´¹ç¼–ç¨‹ä¹¦ç±â€ç­‰ã€‚è¿™äº›åªæ˜¯ç¤¾äº¤ä¿¡å·è€Œå·²ã€‚ä¸¾ä¸€ä¸ªæˆ‘åœ¨å·¥ä½œä¸­å¦‚ä½•åšçš„å…·ä½“ä¾‹å­ï¼Œå½“æˆ‘è¯´è¦ç»™ä½ ä¹°æ±½æ°´æ—¶ï¼Œè¯´æ˜æˆ‘æƒ³è®©è°ä¸ºæˆ‘å·¥ä½œå’Œæˆ‘ä¼šå¦‚ä½•å¯¹å¾…ä»–ä»¬ã€‚ï¼ˆè¿™ä¹Ÿå°±æ˜¯è¯´â€œæˆ‘å–œæ¬¢è½¬ç§»å¹´è½»ä¸æˆç†Ÿå·¥ç¨‹å¸ˆçš„æ³¨æ„åŠ›ï¼Œé€šè¿‡ä¹°20ç¾åˆ†ä¸€ç“¶çš„æ±½æ°´è®©è¿™ä¸ªå·¥ä½œå˜å¾—æœ‰è¶£ï¼Œé¼“åŠ±ä»–ä»¬æŸå®³è‡ªå·±çš„å¥åº·çš„åŒæ—¶ï¼Œè¿˜ä¸ºæˆ‘è‡ªå·±èŠ‚çœäº†æˆåƒä¸Šä¸‡çš„æŠ¥é…¬ã€‚ â€ æˆ‘çœŸçš„å–œæ¬¢æ±½æ°´ï¼‰è¯»å–ç¤¾äº¤ä¿¡å·å¹¶äºˆä»¥é€‚å½“çš„ååº”â€”â€” æŸä¸ªäººå‘å‡ºä¿¡å·ï¼Œæ¯”å¦‚æ„¿ä¸ºé›‡å‘˜æ•™è‚²ä¹°å•çš„å…¬å¸å¾ˆå¯èƒ½æ˜¯ä¸€å®¶å€¼å¾—æ•ˆåŠ›çš„å¥½å…¬å¸ â€”â€” ä¸è¦ä¸ºè¿™äº›è‡å¤´å°åˆ©ï¼Œå°±æ”¾å¼ƒå¤§é‡çš„æŠ¥é…¬â€¦â€¦ å¦‚ä½•æé«˜æ±‚èŒæ—¶çš„è°ˆåˆ¤èƒ½åŠ›ï¼Ÿ è™½ç„¶è¿™å¯ä»¥å¦å†™ä¸€ç¯‡æ–‡ç« ï¼Œè¿™é‡Œæˆ‘ç®€è¦åœ°è¯´ä¸€ä¸‹ï¼š 1ï¼‰è®°ä½ä½ ä¸æ˜¯åœ¨å±•ç¤ºç¼–ç¨‹æŠ€å·§æˆ–è€…æ¼‚äº®çš„è„¸è›‹ï¼Œè€Œæ˜¯åœ¨æ¨é”€æŸç§å•†ä¸šéœ€æ±‚ï¼ˆå¢åŠ æ”¶å…¥æˆ–é™ä½æˆæœ¬ï¼‰çš„è§£å†³æ–¹æ¡ˆã€‚ 2ï¼‰é¢è¯•æ—¶ï¼Œè¦æœ‰è‡ªä¿¡ï¼Œè¦å¹³ç­‰çš„å¯¹è¯ã€‚ä½ çš„å¯¹æ‰‹å¯èƒ½ä¹Ÿåœ¨åšåŒæ ·çš„äº‹æƒ…ã€‚ä½ è¦çš„æ˜¯ä¸€ä¸ªäº’åˆ©çš„å½•ç”¨åˆåŒï¼Œä¸è¦æ¯æ¬¡å¯¹æ–¹æå‡ºè¦æ±‚ï¼Œä½ éƒ½è¯´ Yesã€‚ 3ï¼‰é›‡ä¸»å¯èƒ½ä¼šé—®â€ä½ çš„ä¸Šä¸€ä»½å·¥èµ„æ˜¯å¤šå°‘â€ï¼Œä»–ä»¬å…¶å®åœ¨è¯´â€ç»™æˆ‘ä¸€ä¸ªç†ç”±ï¼Œå‹ä½ä½ çš„æŠ¥é…¬â€ã€‚ä½ è¦æƒ³å¥½å¦‚ä½•é€‚å½“åœ°å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ 4ï¼‰è¦è®¨ä»·è¿˜ä»·ã€‚è¿™é‡Œä¸ä»…ä»…æŒ‡é’±ï¼Œè¿˜æŒ‡å…¶å®ƒä½ å…³å¿ƒçš„æ–¹é¢ã€‚å¦‚æœä½ æ— æ³•è¦æ±‚æ›´é«˜çš„è–ªæ°´ï¼Œé‚£å°±è¯•ç€è¦æ±‚æ›´å¤šçš„å‡æœŸã€‚ 5ï¼‰åœ¨å¯¹æ–¹å†³å®šå½•ç”¨ä½ ä»¥åï¼Œæ‰å¼€å§‹è®¨è®ºè–ªæ°´ã€‚å› ä¸ºé‚£æ—¶ï¼Œä»–ä»¬å·²ç»åœ¨ä½ èº«ä¸Šï¼ŒæŠ•å…¥äº†å¤§é‡çš„æ—¶é—´å’Œé‡‘é’±ã€‚è¿™ä¸ªæ—¶å€™ä»–ä»¬è¯´â€œä¸è¡Œï¼Œæˆ‘ä»¬ä¸èƒ½æˆäº¤â€ä¼šæµªè´¹å¾ˆå¤§çš„æˆæœ¬ï¼Œä»–ä»¬ä¼šè§‰å¾—ä¸€äº›å°é—®é¢˜å·²ç»ä¸å€¼å¾—å†çº ç¼ äº†ï¼Œæ¯”å¦‚æ¯å¹´çš„å·¥èµ„å¢åŠ å‡ åƒå…ƒã€‚ 6ï¼‰å¤šè¯»ä¹¦å§ã€‚å¾ˆå¤šäººå†™è¿‡è°ˆåˆ¤æ–¹é¢çš„ä¹¦ã€‚æˆ‘å–œæ¬¢ã€ŠGetting To Yes | è°ˆåˆ¤åŠ›ã€‹è¿™æœ¬ä¹¦ã€‚æœ‰ä¸€ç‚¹ä»¤äººä¸è§£çš„æ˜¯ï¼Œå°±æ•´ä¸ªèŒä¸šç”Ÿæ¶¯è€Œè¨€ï¼Œè°ˆåˆ¤æŠ€å·§å€¼å¾—æ¯å¹´èŠ±è´¹æ•°åƒç¾å…ƒï¼Œä½†å·¥ç¨‹å¸ˆä»¬å´è®¤ä¸ºé’ˆå¯¹è¿™å­¦ä¹ æ–¹é¢å¾ˆç–¯ç‹‚ï¼Œä»–ä»¬å®æ„¿å»å­¦ä¹ æ„Ÿå…´è¶£æŠ€æœ¯çš„ç»†ææœ«èŠ‚ã€‚ å¦‚ä½•è¯„ä¼°è‚¡æƒï¼š ç”¨ d100 æ‘‡éª°å­ã€‚ï¼ˆå¯¹æå®¢è€Œè¨€ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼ŸæŠ±æ­‰ï¼Œé‚£ä¹ˆrandï¼ˆ100ï¼‰å¥½äº†ï¼‰ 0ï½70ï¼šä½ çš„è‚¡æƒä¸å€¼é’±ã€‚ 71ï½94ï¼šä½ çš„è‚¡æƒå€¼ä¸€å¤§ç¬”é’±ï¼Œè¶³ä»¥è®©ä½ æ”¾å¼ƒå¤§å…¬å¸ä¼˜åšçš„è–ªæ°´å’Œè‰¯å¥½çš„ç¦åˆ©ï¼Œä¸ºè¿™å®¶åˆ›ä¸šå…¬å¸å·¥ä½œã€‚ 95ï½99ï¼šä½ çš„è‚¡æƒå°†æ”¹å˜ä½ çš„äººç”Ÿã€‚ä½ å€’æ˜¯ä¸ä¼šè§‰å¾—è‡ªå·±å¤šä¹ˆæœ‰å¯Œæœ‰ â€”â€” å› ä¸ºè¿˜æœ‰äººæ¯”ä½ æ›´æœ‰é’±ï¼Œå¾ˆå¤šè¿‡å»å‡ å¹´å’Œä½ ä¸€èµ·å…±äº‹çš„äººä¼šæ¯”ä½ å¯Œæœ‰å¾—å¤š â€”â€” ä¸è¿‡ä½ çš„å®¶äººå€’ä¸ä¼šå› ä¸ºä½ å…¥é”™äº†è¡Œï¼ˆæŒ£ä¸äº†é’±ï¼‰è¿™ç§äº‹æƒ…å†å¯¹ä½ æŒ‡è´£æŠ±æ€¨äº†ã€‚ 100ï¼šä½ å°†ä¸ºä¸‹ä¸€ä¸ª Google å·¥ä½œï¼Œä¼šå¯Œå¾—è¶…å‡ºæƒ³è±¡ã€‚æ­å–œä½ ã€‚ ç»†å¿ƒçš„è¯»è€…ä¼šæ³¨æ„åˆ°ï¼Œäº‹å®ä¸Š 100 ä¸ä¼šå‡ºç°åœ¨ d100 å’Œ rand(100) é‡Œã€‚ ä¸ºä»€ä¹ˆä¸çœ‹å¥½è‚¡æƒå‘¢ï¼Ÿ å› ä¸ºä½ è¿‡åˆ†é«˜ä¼°äº†åˆ›ä¸šå…¬å¸æˆåŠŸçš„å¯èƒ½æ€§ï¼Œä»¥åŠåˆ›ä¸šå…¬å¸æˆåŠŸåä½ èƒ½åˆ†åˆ°çš„éƒ¨åˆ†ã€‚é˜…è¯» Hacker News æˆ–è€… Venture Hacks ä¸Šé¢å…³äºè‚¡æƒç¨€é‡Šå’Œæ¸…ç®—ä¼˜å…ˆæƒçš„è®¨è®ºï¼Œè®°ä½æœ‰å¾ˆå¤šäººå¯¹äº¤æ˜“è°ˆåˆ¤çš„ç†è§£ç¨‹åº¦ï¼Œè¶…è¿‡ä½ å¯¹ç¼–ç¨‹çš„ç†è§£ã€‚ åˆ›ä¸šå…¬å¸æ˜¯å¦é€‚åˆåº”å±Šæ¯•ä¸šç”Ÿï¼Ÿ å¦‚æœä½ ä¸€æ¯•ä¸šå°±åŠ å…¥åˆ›ä¸šå…¬å¸ï¼Œæœ€å¯èƒ½çš„ç»“æœæ˜¯ï¼Œæ¥ä¸‹æ¥å‡ å¹´ä½ éƒ½å·¥ä½œå¾—éå¸¸è¾›è‹¦ï¼Œç„¶åå…¬å¸æ‚²æƒ¨åœ°å¤±è´¥äº†ï¼Œä½ å¤±ä¸šäº†ï¼Œä¸å¾—ä¸åˆå»å¦ä¸€å®¶åˆ›ä¸šå…¬å¸å·¥ä½œã€‚å¦‚æœä½ çœŸçš„æƒ³å»åˆ›ä¸šå…¬å¸ï¼Œåº”è¯¥é¦–å…ˆæ‰¾ä¸€å®¶å¤§å…¬å¸å¹²ä¸Šä¸¤å¹´ï¼Œæ”’ä¸€ç‚¹é’±ï¼Œç§¯ç´¯ä¸€äº›ç»éªŒï¼Œç„¶åç²¾å¿ƒæŒ‘é€‰åå†å»åˆ›ä¸šå…¬å¸ã€‚ åœ¨åˆ›ä¸šå…¬å¸å·¥ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ é‡åˆ°çš„éƒ½æ˜¯åˆ›ä¸šè€…ã€‚ä»–ä»¬å¤§å¤šæ•°äººæ²¡æœ‰èƒ½åŠ›åœ¨ä¸¤å¹´åé›‡ä½£ä½ ï¼›è€Œåœ¨å¤§å…¬å¸å·¥ä½œï¼Œä½ é‡åˆ°çš„éƒ½æ˜¯å…¶ä»–å¤§å…¬å¸çš„äººï¼Œä»–ä»¬ä¸­å¾ˆå¤šäººå°†æ¥æœ‰èƒ½åŠ›é›‡ç”¨ä½ æˆ–è€…å¸®ä½ ä»‹ç»å·¥ä½œã€‚ åœ¨åˆ›ä¸šå…¬å¸å·¥ä½œæ˜¯å¦å€¼å¾—æ¨èï¼Ÿ é€‰æ‹©åˆ›ä¸šå…¬å¸ï¼Œå°±æ˜¯é€‰æ‹©ä¸€æ¡èŒä¸šé“è·¯ï¼Œä½†æ›´æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ã€‚ç±»ä¼¼åœ¨æŠ•è¡Œæˆ–å­¦æœ¯ç•Œå·¥ä½œï¼Œå®ƒä»¬æ˜¯ä¸‰ç§æˆªç„¶ä¸åŒçš„ç”Ÿæ´»æ–¹å¼ã€‚ä»–ä»¬æ¨èåˆ›ä¸šå…¬å¸ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ¨èä¸€ç§ä½ æ„Ÿå…´è¶£çš„ç”Ÿæ´»æ–¹å¼ã€‚å¦‚æœä½ ç¡®å®å–œæ¬¢è¿™ç§ç”Ÿæ´»æ–¹å¼ï¼Œé‚£å°±å°½æƒ…åœ°ç–¯å§ã€‚å¦‚æœä½ æ²¡é‚£ä¹ˆå–œæ¬¢ï¼Œè€å®è¯´ï¼Œä½ å…¶å®æœ‰å¾ˆå¤šçš„é€‰æ‹©ã€‚ä½ åœ¨å¤§å…¬å¸é‡Œä¹Ÿå¯ä»¥å¾—åˆ°å®ƒä»¬ã€‚æ¯”å¦‚ï¼Œä½ æƒ³é’»ç ”æœ€æ–°çš„æŠ€æœ¯ï¼Œåˆæƒ³è¿˜èƒ½5ç‚¹åŠå‡†æ—¶å›å®¶ç…§é¡¾å­©å­ï¼Œä½ åœ¨è®¸è®¸å¤šå¤šå¤§å…¬å¸é‡Œå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ï¼ˆçœŸçš„ã€‚å¦‚æœä¸ºä»–ä»¬åˆ›é€ äº†ä»·å€¼ï¼Œä»–ä»¬ä¸€å®šä¼šæŠ•èµ„çš„ã€‚ä»–ä»¬ä¼šæŠ•èµ„å¾ˆå¤š CRUD åº”ç”¨ç¨‹åºï¼Œä¸è¿‡ç„¶åå¼€å§‹åˆ›ä¸šã€‚ ä»–ä»¬åªæ˜¯æ¯”å¤§å¤šæ•°å¤§å…¬å¸æ›´å–„äºè¥é”€ CRUD åº”ç”¨ã€‚ã€Šç¤¾äº¤ç½‘ç»œã€‹ç”µå½±å‰ä¸€ä¸ªå°æ—¶å°±åœ¨è®²åšä¸€ä¸ªçœ‹ç€æŒºé…·çš„ CRUD åº”ç”¨ï¼Œç¬¬äºŒä¸ªå°æ—¶å°±åƒ Lifetime é¢‘é“çš„ç”µè§†å‰§ï¼Œå°±æ˜¯ä¸€åœºä¸å¤ªå¯èƒ½æ¶‰åŠä¸¤ä¸ªå¼‚æ€§æ‹ç”·äººçš„ä¹‹é—´ç¦»å©šã€‚ï¼‰ ç¼–æ³¨ï¼šLifetime æ˜¯è¿ªå£«å°¼æ——ä¸‹ä¸“é—¨ä¸ºå¥³æ€§æ‰€å¼€çš„ç”µè§†å°ã€‚ æ²Ÿé€šæ˜¯æœ€é‡è¦çš„èŒä¸šæŠ€èƒ½ è®°ä½å·¥ç¨‹å¸ˆè¢«é›‡ç”¨ä¸æ˜¯ç¼–å†™ç¨‹åºï¼Œè€Œæ˜¯ä¸ºäº†åˆ›é€ ä»·å€¼ã€‚æ‰€ä»¥ä½ è¦è®©äººä»¬ç›¸ä¿¡ä½ èƒ½åˆ›é€ ä»·å€¼ï¼Œè¿™æ˜¯å¸®åŠ©ä½ æ‰¾åˆ°å·¥ä½œçš„æœ€é‡è¦çš„èƒ½åŠ›ã€‚è¿™ç§èƒ½åŠ›ä¸ä½ çœŸçš„èƒ½åˆ›é€ å¤šå°‘ä»·å€¼ï¼Œå®é™…ä¸Šè”ç³»ä¸æ˜¯å¾ˆç´§å¯†ã€‚ æˆ‘è®¤è¯†çš„ä¸€äº›éå¸¸ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œä»–ä»¬å¾€å¾€ä¸å–„äºè¡¨è¾¾ã€‚å› æ­¤ï¼Œåˆ«äººä¸æ˜¯ä¸æƒ³ä¸ä»–ä»¬ä¸€èµ·å·¥ä½œï¼Œå°±æ˜¯ä½ä¼°äº†ä»–ä»¬çš„ä»·å€¼ã€‚ç›¸ååœ°ï¼Œå¦‚æœä½ çœ‹ä¸Šå»å¾ˆä¼šç¼–ç¨‹ï¼Œå¹¶ä¸”èƒ½è¯´ä¼šé“ï¼Œè€Œä¸”æ–‡ç¬”ä¹Ÿå¥½ï¼Œé‚£åˆ«äººå°±ä¼šçœŸçš„è¿™æ ·çœ‹å¾…ä½ ã€‚ ï¼ˆæ›¾ç»æœ‰ä¸€æ¬¡æˆ‘è¿™æ ·å½¢å®¹è‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œâ€œä¸­ç­‰åä¸‹â€ã€‚æˆ‘å·²ç»çŸ¥é“æˆ‘å¯¹èƒ½åŠ›åˆ†å¸ƒæœ‰ä¸€ä¸ªå½»åº•æ‰­æ›²çš„å°è±¡ï¼Œç¼–ç¨‹èƒ½åŠ›ä¸æ˜¯äººä»¬çœŸå¾—æƒ³è¦ä¼˜åŒ–çš„ï¼Œæˆ‘å¯¹è°¦è™šä¹Ÿä¸æ„Ÿå…´è¶£ã€‚ç°åœ¨å¦‚æœä½ é—®æˆ‘æ˜¯å¤šæ£’çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä¼šå¼€å§‹å’Œä½ è®²æ•…äº‹ï¼Œæˆ‘ç¼–ç¨‹çš„ç³»ç»Ÿå¦‚ä½•å¸®åŠ©æ•°ä»¥ç™¾ä¸‡è®¡çš„å­©å­å­¦ä¼šäº†é˜…è¯»ï¼Œæˆ–ç¡®å®šä¸ºå…¬å¸èµšäº†æ•°ç™¾ä¸‡ç¾å…ƒã€‚å…³äºæˆ‘åœ¨é’Ÿå½¢æ›²çº¿ä»€ä¹ˆä½ç½®çš„é—®é¢˜ä¸ä¼šå½±å“åˆ°ä»»ä½•äººï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆè¦æ‹…å¿ƒå®ƒï¼Ÿï¼‰ æ²Ÿé€šæ˜¯ä¸€ç§èƒ½åŠ›ï¼Œè¶Šç»ƒè¶Šå¥½ã€‚ä¸€ä¸ªå…³é”®çš„äºšæŠ€èƒ½å°±æ˜¯èƒ½å¤Ÿç®€æ˜å¿«é€Ÿå’Œè‡ªä¿¡æ»¡æ»¡åœ°è§£é‡Šï¼Œä½ å¦‚ä½•ä¸ºé‚£äº›é¢†åŸŸä¹‹å¤–çš„äººå’Œä¹‹å‰æ²¡æœ‰ç†ç”±çˆ±ä½ çš„äººï¼Œåˆ›é€ äº†ä»·å€¼ã€‚å¦‚æœå½“ä½ å°è¯•è¿™æ ·åšï¼Œå‘ç°æŠ€æœ¯æœ¯è¯­ä¸æ–­å‡ºç°ï¼ˆâ€œé€šè¿‡ä¼˜åŒ–ç´¢å¼•ï¼Œç¬¬ 99 ä¸ªç™¾åˆ†ä½çš„æŸ¥è¯¢æ—¶é—´å‡å°‘äº†200æ¯«ç§’â€¦â€¦â€ï¼‰ï¼ŒæŠŠå®ƒä»¬å»æ‰å†è¯•ä¸€æ¬¡ã€‚ä½ åº”è¯¥èƒ½å¤Ÿé€šè¿‡é€‚å½“çš„æŠ½è±¡ï¼Œå‘ä¸€ä¸ªèªæ˜çš„ 8 å²å°æœ‹å‹ï¼Œä½ å…¬å¸çš„CFOæˆ–è€…å…¶ä»–ä¸“ä¸šçš„ç¨‹åºå‘˜ï¼Œè§£é‡Šæ˜ç™½ä½ åšçš„äº‹æƒ…ã€‚ ä½ é€šå¸¸è¢«ç§°ä¸ºã€Œä¼ä¸šé”€å”®ã€æˆ–è€…å…¶ä»–åœ¨å·¥ç¨‹ä¸Šè¦é¿å…çš„ ä¼ä¸šé”€å”®å»ä¸€å®¶å…¬å¸ï¼Œå°è¯•è¯´æœä»–ä»¬èŠ±å‡ åä¸‡æˆ–å‡ ç™¾ä¸‡è´­ä¹°ä¸€å¥—èƒ½æé«˜æ”¶å…¥æˆ–é™ä½æˆæœ¬çš„ç³»ç»Ÿã€‚æ¯ä¸€æ¬¡å·¥ä½œé¢è¯•éƒ½æ˜¯ä¸€æ¬¡ä¼ä¸šé”€å”®ã€‚æ”¿æ²»ã€äººé™…å…³ç³»å’Œæ²Ÿé€šæŠ€å·§ç›¸å½“é‡è¦ï¼ŒæŠ€æœ¯åœ¨ç°å®ä¸­å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ã€‚ å½“ä½ å’ŒåŒäº‹ä»¬å¼€ä¼šå¹¶è¯•å›¾è¯´æœä»–ä»¬é‡‡çº³ä½ çš„å»ºè®®ï¼Œä½ å°±æ˜¯åœ¨è¿›è¡Œä¼ä¸šé”€å”®ã€‚å¦‚æœä½ çš„å·¥ä½œå°±æ˜¯è¦æŠŠäº‹æƒ…æå®šï¼Œä½ å…³é”®çš„å·¥ä½œå°±æ˜¯è¯´æœäººä»¬å®Œæˆä»»åŠ¡ã€‚è¦åŠªåŠ›æŠŠå®ƒåšå¥½ã€‚è¦èƒ½å¤Ÿé€è¿‡ä¾¿ç­¾ã€é‚®ä»¶ã€äº¤è°ˆã€ä¼šè®®å’Œ PPTï¼ˆé€‚å½“çš„æ—¶å€™ï¼‰ ç­‰è¿›è¡Œæœ‰æ•ˆåœ°æ²Ÿé€šã€‚è¦ç†è§£å¦‚ä½•æŠŠä¸€ä¸ªæŠ€æœ¯åˆ›æ–°æ¨å‘å¸‚åœºã€‚ä¸ºäº†è¿½æ±‚å•†ä¸šç›®çš„ï¼Œæœ‰æ—¶è¦åœ¨æŠ€æœ¯ä¸Šæœ‰æ‰€å–èˆï¼Œè€Œä¸”è¿™ä¹ˆåšæ˜¯æ­£ç¡®çš„ã€‚ å·¥ä½œä¸­ä¸å¿…è°¦è™š å¾ˆå¤šå·¥ç¨‹å¸ˆéƒ½è¿‡äºè‡ªä¿¡ï¼ˆæˆ‘æœ¬äººå°±æ˜¯è¿™æ ·ï¼šï¼‰ï¼‰ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººæˆé•¿çš„åœ°æ–¹ï¼Œåœ¨æ–‡åŒ–ä¸Šä¼šè®¤ä¸ºè°¦è™šæ˜¯ä¸ªäººæˆå°±çš„ä¸€éƒ¨åˆ†ã€‚ç¾å›½ä¼ä¸šåŸºæœ¬ä¸Šä¸è®¤ä¸ºè°¦è™šå¯¹ä¸ªäººæˆå°±æœ‰ä»€ä¹ˆä»·å€¼ã€‚åœ¨é¢è¯•ä¸­ã€ä¸ä»–äººäº’åŠ¨å’Œç”Ÿæ´»ä¸­ï¼Œæ­£ç¡®çš„æ€åº¦åº”è¯¥æ˜¯â€œå…‹åˆ¶ã€è‡ªä¿¡çš„ä¸“ä¸šç²¾ç¥ã€‚â€ å¦‚æœä½ æ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œå›¢é˜Ÿçš„åŠªåŠ›å–å¾—äº†æˆåŠŸï¼Œâ€œæˆ‘æŠŠè¿™ä¸€åˆ‡éƒ½å½’åŠŸäºæˆ‘çš„å›¢é˜Ÿâ€ä¸èƒ½åˆ‡ä¸­è¦ç‚¹ï¼Œé™¤éä½ æƒ³è®©æ¯ä¸ªäººéƒ½çŸ¥é“ä½ æ•…ä½œè°¦è™šã€‚è¯•è¯•è¿™ä¸ªâ€œå¾ˆè£å¹¸å¯ä»¥ç”¨æˆ‘çš„ä¸“é•¿å¸¦é¢†å¹¶å¸®åŠ©æˆ‘çš„å›¢é˜Ÿå–å¾—æˆåŠŸâ€ã€‚ç«™åœ¨é•œå­å‰é¢é‡å¤ä¸Šåƒæ¬¡ï¼Œç›´åˆ°ä½ ç»·ç€è„¸è¯´å‡ºè¿™äº›ã€‚ä½ å¯èƒ½ä¼šè§‰å¾—å¤¸å¤§äº†ä½ çš„æˆå°±ã€‚åˆ«ç†å®ƒã€‚æœ‰ç€ä¸‰æ˜æ²»å¤§å¸ˆå¤´è¡”çš„äººå£°ç§°é¢†å¯¼ä¼˜åŒ–äº†äº§å“ï¼Œè¿™æ˜¾ç„¶æ˜¯å¤¸å¤§å…¶è¯ã€‚ä½ æ˜¯ä¸€ä¸ªå·¥ç¨‹å¸ˆã€‚ä½ ç¥å¥‡çš„å·¥ä½œè®©äººä»¬ç”Ÿæ´»å¾—æ›´å¥½ã€‚å¦‚æœä½ è´Ÿè´£æ•°æ®åº“ï¼Œç‰¹åˆ«å½“ä¸€ä¸ªæ¶‰åŠåˆ°äººçš„é‡è¦é¡¹ç›®ï¼Œä½ æ‰€é¢†å¯¼çš„æ•°æ®åº“å·¥ä½œï¼Œå¯¹é¡¹ç›®çš„æˆåŠŸç»å¯¹æ˜¯è‡³å…³é‡è¦çš„ã€‚è¿™å°±æ˜¯æ¸¸æˆè§„åˆ™ã€‚å¦‚æœä½ æ„Ÿè§‰ä¸å¥½ï¼Œé‚£ä½ å°±åƒåœ¨æ£’çƒä¸­å¯¹å·å’æ„Ÿè§‰ç³Ÿç³•çš„å‡»çƒæ‰‹ï¼šä½ ä¸æ˜¯é“å¾·ä¼˜è¶Šï¼Œä½ åªæ˜¯ç©å¾—å¤ªå·®ã€‚ æ‰€æœ‰å•†ä¸šçš„å†³å®šæœ€ç»ˆæ˜¯ç”±ä¸€ä¸ªæˆ–è€…ä¸€äº›äººæ‰€å†³å®šçš„ï¼Œå¹¶ä¸æ˜¯è§„åˆ™æˆ–ç®—æ³• äººç±»å°±æ˜¯äººç±»ã€‚ç¤¾ä¼šåä½œï¼ˆsocial groomingï¼ŒåŸæ„æ˜¯åŠ¨ç‰©ç•Œç›¸äº’æ¢³ç†æ¯›å‘ï¼ŒæŠ“è™±å­ï¼Œå¼•ç”³ä¸ºç¤¾ä¼šåä½œï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„èƒ½åŠ›ã€‚å› ä¸ºæ˜¯æœ‹å‹ï¼Œäººä»¬é€šå¸¸ä¼šé‡‡çº³æœ‹å‹ä»¬çš„å»ºè®®ï¼Œå³ä½¿äº‹å®ä¸Šå…¶å®ƒå»ºè®®å¯èƒ½æ›´å¥½ã€‚äººä»¬é€šå¸¸å¯¹åˆ†äº«é¢åŒ…çš„äººè¡¨ç¤ºå‹å¥½ã€‚ï¼ˆæœ‰ä¸€æœ¬å•†ä¸šä¹¦ç±å«åšã€Šåˆ«ç‹¬è‡ªç”¨é¤ã€‹ã€‚å®ƒå€¼å¾—ä¸€è¯»ï¼Œä½†æ ‡é¢˜å’Œå†…å®¹æ˜¯ç›¸åçš„ã€‚ï¼‰äººä»¬é€šå¸¸å–œæ¬¢é‚£äº›åƒä»–ä»¬ä¸€æ ·çš„äººï¼Œè€Œä¸å–œæ¬¢ä¸åƒä»–ä»¬çš„äººã€‚ï¼ˆè¿™å¯ä»¥æ˜¯å¾ˆå¥½çš„ã€ä¸­æ€§çš„æˆ–æƒ¹äººåŒæ¶çš„ã€‚åˆ©ç”¨å®ƒç›ˆåˆ©çš„ç¬¬ä¸€æ­¥æ˜¯æ¥å—å®ƒã€‚ï¼‰ äº‹å®ä¸Šç€è£…ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œäººä»¬éå¸¸å®¹æ˜“è¢«å¾—ä½“çš„ç©¿ç€ã€ä¸“ä¸šçš„å½¢è±¡å’Œè‡ªä¿¡çš„è®²è¯æ‰€è¢«è’™è”½ã€‚ä½ çš„è¥¿è£…å¯èƒ½å’Œä¸€å°ç”µè„‘æ˜¾ç¤ºå™¨ä¸€æ ·è´µã€‚ä½ ç”¨å®ƒçš„æœºä¼šåƒè½½éš¾é€¢ï¼Œä½†ä¸€æ—¦ä½ éœ€è¦å®ƒçš„æ—¶å€™ï¼Œä½ ä¼šéå¸¸éå¸¸é«˜å…´ã€‚ç›¸ä¿¡æˆ‘çš„è¯ï¼Œå¦‚æœæˆ‘ç©¿æ—¥å¸¸ä¼‘é—²æœé¥°å»å¸‚æ”¿å…ï¼Œæˆ‘ä¼šè¢«å½“ä½œä¸€ä¸ªå€’éœ‰å°´å°¬çš„äºŒåå¤šå²å°ä¼™ï¼Œå¦‚æœæˆ‘ç©¿ç€è¥¿è£…ï¼Œæˆ‘ä¼šè¢«å½“ä½œè·¨å›½å…¬å¸çš„CEOã€‚è™½ç„¶å®é™…ä¸Šæˆ‘ä¸€ä¸ªäºŒåå¤šå²çª˜è¿«çš„è·¨å›½å…¬å¸ CEOï¼Œä½†å½“æˆ‘éœ€è¦ä»å®˜æ–¹è·å¾—ä¼˜å¾…æ—¶ï¼Œæˆ‘ä¼šé€‰æ‹©è¥¿è£…é©å±¥ã€‚ ï¼ˆç†Ÿæ‚‰æˆ‘å…¬å¸çš„äººï¼Œå¯èƒ½ä¼šåå¯¹æˆ‘æŠŠå®ƒå½¢å®¹æˆä¸€ä¸ªè·¨å›½å…¬å¸ï¼Œå› ä¸ºå®ƒä¸æ˜¯è°ˆè¯ä¸­å¤§å¤šæ•°äººè®¤ä¸ºçš„â€œè·¨å›½å…¬å¸â€ã€‚æŠ±æ­‰ï¼Œ è¿™åªæ˜¯ä¸ºäº†æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„è°ˆè¯ã€‚å¦‚æœä½ è®¤ä¸ºäººä»¬å‘ç°è¢«æ“çºµæ—¶ä¼šå¾ˆç”Ÿæ°”ï¼Œå¥½å§ï¼Œä¹Ÿæœ‰äº›äººéå¸¸è®¨åŒè¥¿è£…ã€‚è¿™å¹¶ä¸æ„å‘³ç€è¥¿è£…æ¯«æ— ä»·å€¼ã€‚è¦æ³¨æ„å½“æ—¶çš„ç¯å¢ƒã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœå¦ä¸€ä¸ªç­”æ¡ˆæ˜¯ç§»æ°‘å±€é©±é€ä½ ï¼Œå¦‚å®å›ç­”æ‰æ˜¯æœ€ä½³é€‰æ‹©ã€‚ï¼‰ åˆ°æœ€åï¼Œäº‹ä¸šä¸èƒ½å†³å®šç”Ÿæ´»çš„å¿«ä¹ å’Œè€äººä»¬èŠä¸€èŠï¼Œæˆ–è€…ç›¸ä¿¡ç¤¾ä¼šå­¦è€…ä»¬å§ï¼Œä»–ä»¬éƒ½è®¤ä¸ºï¼šå®¶åº­ã€ä¿¡ä»°ã€çˆ±å¥½ç­‰ç­‰è¿™äº›ä¸œè¥¿ï¼Œä¼šæ¯”é‡‘é’±å’Œäº‹ä¸šä¸Šçš„æˆå°±æ›´å®¹æ˜“å¸¦æ¥å¹¸ç¦ã€‚å¦¥å–„è°ƒæ•´ä¸€ä¸‹å§ã€‚è™½ç„¶å½“ä¸‹ä½ çš„èŒä¸šå¾ˆé‡è¦ï¼Œçœ‹ä¸Šå»æ˜¯ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„äº‹æƒ…ï¼Œä½†æ˜¯ä½ ä¸ä¼šä¸€ç›´è¿™æ ·è®¤ä¸ºã€‚æˆ‘ä»¬å·¥ä½œæ˜¯ä¸ºäº†ç”Ÿæ´»ï¼Œè€Œä¸æ˜¯ä¸ºäº†å·¥ä½œè€Œæ´»ç€","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://rovast.github.io/categories/éšæƒ³/"}],"tags":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://rovast.github.io/tags/è½¬è½½/"}]},{"title":"useful-docker-links","slug":"useful-docker-links","date":"2018-12-21T09:56:18.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2018/12/21/useful-docker-links/","link":"","permalink":"https://rovast.github.io/2018/12/21/useful-docker-links/","excerpt":"","text":"è‡ªåŠ¨æ„å»º Set up Automated builds æŒ‡å®šäº† dockerfile åï¼Œdocker hub ä¼šæ ¹æ® dockerfile è‡ªåŠ¨æ„å»ºã€‚ä»¥åä½ æ›´æ–°äº† dockerfile åï¼Œä¹Ÿä¼šè§¦å‘è‡ªåŠ¨æ„å»ºï¼ˆå¦‚æœä½ é…ç½®äº†ç›¸å…³è®¾ç½®ï¼‰ã€‚","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://rovast.github.io/tags/docker/"}]},{"title":"soar å¯å‘è§„åˆ™æ±‡æ€» && å¸¸è§ MySQL ä¼˜åŒ–æ¡ˆä¾‹","slug":"soar-heuristic-list","date":"2018-12-20T15:43:49.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2018/12/20/soar-heuristic-list/","link":"","permalink":"https://rovast.github.io/2018/12/20/soar-heuristic-list/","excerpt":"","text":"æ‘˜è‡ªï¼š https://github.com/XiaoMi/soar/blob/master/doc/heuristic.md è¿™æ˜¯å°ç±³ soar çš„é»˜è®¤å¯å‘è§„åˆ™æ±‡æ€»ï¼Œä¹Ÿæ˜¯ DBA å¤šå¹´ç²¾åæ€»ç»“ã€‚ç†Ÿè¯»å„ä¸ªæ¡ˆä¾‹ï¼Œå¯¹äºä¸€èˆ¬çš„ MySQL ä¼˜åŒ–æœ‰å¾ˆé«˜çš„å¸®åŠ©ã€‚å¦‚æœä½ ä¸å–œæ¬¢å¤ªç†è®ºçš„ä¸œè¥¿ï¼Œæˆ–è€…æ²¡æ—¶é—´å»æ·±å…¥ï¼Œä¸¾ä¸€åä¸‰å­¦ä¹ ä¹Ÿæœªå°ä¸å¯ã€‚ å¯å‘å¼è§„åˆ™å»ºè®®å»ºè®®ä½¿ç”¨ AS å…³é”®å­—æ˜¾ç¤ºå£°æ˜ä¸€ä¸ªåˆ«å Item:ALI.001 Severity:L0 Content:åœ¨åˆ—æˆ–è¡¨åˆ«å(å¦‚â€tbl AS aliasâ€)ä¸­, æ˜ç¡®ä½¿ç”¨ AS å…³é”®å­—æ¯”éšå«åˆ«å(å¦‚â€tbl aliasâ€)æ›´æ˜“æ‡‚ã€‚ Case: 1select name from tbl t1 where id &lt; 1000 ä¸å»ºè®®ç»™åˆ—é€šé…ç¬¦â€™*â€˜è®¾ç½®åˆ«å Item:ALI.002 Severity:L8 Content:ä¾‹: â€œSELECT tbl.* col1, col2â€ä¸Šé¢è¿™æ¡ SQL ç»™åˆ—é€šé…ç¬¦è®¾ç½®äº†åˆ«åï¼Œè¿™æ ·çš„SQLå¯èƒ½å­˜åœ¨é€»è¾‘é”™è¯¯ã€‚æ‚¨å¯èƒ½æ„åœ¨æŸ¥è¯¢ col1, ä½†æ˜¯ä»£æ›¿å®ƒçš„æ˜¯é‡å‘½åçš„æ˜¯ tbl çš„æœ€åä¸€åˆ—ã€‚ Case: 1select tbl.* as c1,c2,c3 from tbl where id &lt; 1000 åˆ«åä¸è¦ä¸è¡¨æˆ–åˆ—çš„åå­—ç›¸åŒ Item:ALI.003 Severity:L1 Content:è¡¨æˆ–åˆ—çš„åˆ«åä¸å…¶çœŸå®åç§°ç›¸åŒ, è¿™æ ·çš„åˆ«åä¼šä½¿å¾—æŸ¥è¯¢æ›´éš¾å»åˆ†è¾¨ã€‚ Case: 1select name from tbl as tbl where id &lt; 1000 ä¿®æ”¹è¡¨çš„é»˜è®¤å­—ç¬¦é›†ä¸ä¼šæ”¹è¡¨å„ä¸ªå­—æ®µçš„å­—ç¬¦é›† Item:ALT.001 Severity:L4 Content:å¾ˆå¤šåˆå­¦è€…ä¼šå°† ALTER TABLE tbl_name [DEFAULT] CHARACTER SET â€˜UTF8â€™ è¯¯è®¤ä¸ºä¼šä¿®æ”¹æ‰€æœ‰å­—æ®µçš„å­—ç¬¦é›†ï¼Œä½†å®é™…ä¸Šå®ƒåªä¼šå½±å“åç»­æ–°å¢çš„å­—æ®µä¸ä¼šæ”¹è¡¨å·²æœ‰å­—æ®µçš„å­—ç¬¦é›†ã€‚å¦‚æœæƒ³ä¿®æ”¹æ•´å¼ è¡¨æ‰€æœ‰å­—æ®µçš„å­—ç¬¦é›†å»ºè®®ä½¿ç”¨ ALTER TABLE tbl_name CONVERT TO CHARACTER SET charset_name; Case: 1ALTER TABLE tbl_name CONVERT TO CHARACTER SET charset_name; åŒä¸€å¼ è¡¨çš„å¤šæ¡ ALTER è¯·æ±‚å»ºè®®åˆä¸ºä¸€æ¡ Item:ALT.002 Severity:L2 Content:æ¯æ¬¡è¡¨ç»“æ„å˜æ›´å¯¹çº¿ä¸ŠæœåŠ¡éƒ½ä¼šäº§ç”Ÿå½±å“ï¼Œå³ä½¿æ˜¯èƒ½å¤Ÿé€šè¿‡åœ¨çº¿å·¥å…·è¿›è¡Œè°ƒæ•´ä¹Ÿè¯·å°½é‡é€šè¿‡åˆå¹¶ ALTER è¯·æ±‚çš„è¯•å‡å°‘æ“ä½œæ¬¡æ•°ã€‚ Case: 1ALTER TABLE tbl ADD COLUMN col int, ADD INDEX idx_col (`col`); åˆ é™¤åˆ—ä¸ºé«˜å±æ“ä½œï¼Œæ“ä½œå‰è¯·æ³¨æ„æ£€æŸ¥ä¸šåŠ¡é€»è¾‘æ˜¯å¦è¿˜æœ‰ä¾èµ– Item:ALT.003 Severity:L0 Content:å¦‚ä¸šåŠ¡é€»è¾‘ä¾èµ–æœªå®Œå…¨æ¶ˆé™¤ï¼Œåˆ—è¢«åˆ é™¤åå¯èƒ½å¯¼è‡´æ•°æ®æ— æ³•å†™å…¥æˆ–æ— æ³•æŸ¥è¯¢åˆ°å·²åˆ é™¤åˆ—æ•°æ®å¯¼è‡´ç¨‹åºå¼‚å¸¸çš„æƒ…å†µã€‚è¿™ç§æƒ…å†µä¸‹å³ä½¿é€šè¿‡å¤‡ä»½æ•°æ®å›æ»šä¹Ÿä¼šä¸¢å¤±ç”¨æˆ·è¯·æ±‚å†™å…¥çš„æ•°æ®ã€‚ Case: 1ALTER TABLE tbl DROP COLUMN col; åˆ é™¤ä¸»é”®å’Œå¤–é”®ä¸ºé«˜å±æ“ä½œï¼Œæ“ä½œå‰è¯·ä¸ DBA ç¡®è®¤å½±å“ Item:ALT.004 Severity:L0 Content:ä¸»é”®å’Œå¤–é”®ä¸ºå…³ç³»å‹æ•°æ®åº“ä¸­ä¸¤ç§é‡è¦çº¦æŸï¼Œåˆ é™¤å·²æœ‰çº¦æŸä¼šæ‰“ç ´å·²æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ“ä½œå‰è¯·ä¸šåŠ¡å¼€å‘ä¸ DBA ç¡®è®¤å½±å“ï¼Œä¸‰æ€è€Œè¡Œã€‚ Case: 1ALTER TABLE tbl DROP PRIMARY KEY; ä¸å»ºè®®ä½¿ç”¨å‰é¡¹é€šé…ç¬¦æŸ¥æ‰¾ Item:ARG.001 Severity:L4 Content:ä¾‹å¦‚ â€œï¼…fooâ€ï¼ŒæŸ¥è¯¢å‚æ•°æœ‰ä¸€ä¸ªå‰é¡¹é€šé…ç¬¦çš„æƒ…å†µæ— æ³•ä½¿ç”¨å·²æœ‰ç´¢å¼•ã€‚ Case: 1select c1,c2,c3 from tbl where name like '%foo' æ²¡æœ‰é€šé…ç¬¦çš„ LIKE æŸ¥è¯¢ Item:ARG.002 Severity:L1 Content:ä¸åŒ…å«é€šé…ç¬¦çš„ LIKE æŸ¥è¯¢å¯èƒ½å­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œå› ä¸ºé€»è¾‘ä¸Šå®ƒä¸ç­‰å€¼æŸ¥è¯¢ç›¸åŒã€‚ Case: 1select c1,c2,c3 from tbl where name like 'foo' å‚æ•°æ¯”è¾ƒåŒ…å«éšå¼è½¬æ¢ï¼Œæ— æ³•ä½¿ç”¨ç´¢å¼• Item:ARG.003 Severity:L4 Content:éšå¼ç±»å‹è½¬æ¢æœ‰æ— æ³•å‘½ä¸­ç´¢å¼•çš„é£é™©ï¼Œåœ¨é«˜å¹¶å‘ã€å¤§æ•°æ®é‡çš„æƒ…å†µä¸‹ï¼Œå‘½ä¸ä¸­ç´¢å¼•å¸¦æ¥çš„åæœéå¸¸ä¸¥é‡ã€‚ Case: 1SELECT * FROM sakila.film WHERE length &gt;= '60'; IN (NULL)/NOT IN (NULL) æ°¸è¿œéçœŸ Item:ARG.004 Severity:L4 Content:æ­£ç¡®çš„ä½œæ³•æ˜¯ col IN (â€˜val1â€™, â€˜val2â€™, â€˜val3â€™) OR col IS NULL Case: 1SELECT * FROM tb WHERE col IN (NULL); IN è¦æ…ç”¨ï¼Œå…ƒç´ è¿‡å¤šä¼šå¯¼è‡´å…¨è¡¨æ‰«æ Item:ARG.005 Severity:L1 Content: å¦‚ï¼šselect id from t where num in(1,2,3)å¯¹äºè¿ç»­çš„æ•°å€¼ï¼Œèƒ½ç”¨ BETWEEN å°±ä¸è¦ç”¨ IN äº†ï¼šselect id from t where num between 1 and 3ã€‚è€Œå½“ IN å€¼è¿‡å¤šæ—¶ MySQL ä¹Ÿå¯èƒ½ä¼šè¿›å…¥å…¨è¡¨æ‰«æå¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚ Case: 1select id from t where num in(1,2,3) åº”å°½é‡é¿å…åœ¨ WHERE å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œ NULL å€¼åˆ¤æ–­ Item:ARG.006 Severity:L1 Content:ä½¿ç”¨ IS NULL æˆ– IS NOT NULL å°†å¯èƒ½å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼šselect id from t where num is null;å¯ä»¥åœ¨numä¸Šè®¾ç½®é»˜è®¤å€¼0ï¼Œç¡®ä¿è¡¨ä¸­ num åˆ—æ²¡æœ‰ NULL å€¼ï¼Œç„¶åè¿™æ ·æŸ¥è¯¢ï¼š select id from t where num=0; Case: 1select id from t where num is null é¿å…ä½¿ç”¨æ¨¡å¼åŒ¹é… Item:ARG.007 Severity:L3 Content:æ€§èƒ½é—®é¢˜æ˜¯ä½¿ç”¨æ¨¡å¼åŒ¹é…æ“ä½œç¬¦çš„æœ€å¤§ç¼ºç‚¹ã€‚ä½¿ç”¨ LIKE æˆ–æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ¨¡å¼åŒ¹é…è¿›è¡ŒæŸ¥è¯¢çš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¯èƒ½ä¼šè¿”å›æ„æ–™ä¹‹å¤–çš„ç»“æœã€‚æœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨ç‰¹æ®Šçš„æœç´¢å¼•æ“æŠ€æœ¯æ¥æ›¿ä»£ SQLï¼Œæ¯”å¦‚ Apache Luceneã€‚å¦ä¸€ä¸ªå¯é€‰æ–¹æ¡ˆæ˜¯å°†ç»“æœä¿å­˜èµ·æ¥ä»è€Œå‡å°‘é‡å¤çš„æœç´¢å¼€é”€ã€‚å¦‚æœä¸€å®šè¦ä½¿ç”¨SQLï¼Œè¯·è€ƒè™‘åœ¨ MySQL ä¸­ä½¿ç”¨åƒ FULLTEXT ç´¢å¼•è¿™æ ·çš„ç¬¬ä¸‰æ–¹æ‰©å±•ã€‚ä½†æ›´å¹¿æ³›åœ°è¯´ï¼Œæ‚¨ä¸ä¸€å®šè¦ä½¿ç”¨SQLæ¥è§£å†³æ‰€æœ‰é—®é¢˜ã€‚ Case: 1select c_id,c2,c3 from tbl where c2 like 'test%' OR æŸ¥è¯¢ç´¢å¼•åˆ—æ—¶è¯·å°½é‡ä½¿ç”¨ IN è°“è¯ Item:ARG.008 Severity:L1 Content:IN-list è°“è¯å¯ä»¥ç”¨äºç´¢å¼•æ£€ç´¢ï¼Œå¹¶ä¸”ä¼˜åŒ–å™¨å¯ä»¥å¯¹ IN-list è¿›è¡Œæ’åºï¼Œä»¥åŒ¹é…ç´¢å¼•çš„æ’åºåºåˆ—ï¼Œä»è€Œè·å¾—æ›´æœ‰æ•ˆçš„æ£€ç´¢ã€‚è¯·æ³¨æ„ï¼ŒIN-list å¿…é¡»åªåŒ…å«å¸¸é‡ï¼Œæˆ–åœ¨æŸ¥è¯¢å—æ‰§è¡ŒæœŸé—´ä¿æŒå¸¸é‡çš„å€¼ï¼Œä¾‹å¦‚å¤–å¼•ç”¨ã€‚ Case: 1SELECT c1,c2,c3 FROM tbl WHERE c1 = 14 OR c1 = 17 å¼•å·ä¸­çš„å­—ç¬¦ä¸²å¼€å¤´æˆ–ç»“å°¾åŒ…å«ç©ºæ ¼ Item:ARG.009 Severity:L1 Content:å¦‚æœ VARCHAR åˆ—çš„å‰åå­˜åœ¨ç©ºæ ¼å°†å¯èƒ½å¼•èµ·é€»è¾‘é—®é¢˜ï¼Œå¦‚åœ¨ MySQL 5.5ä¸­ â€˜aâ€™ å’Œ â€˜a â€˜ å¯èƒ½ä¼šåœ¨æŸ¥è¯¢ä¸­è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„å€¼ã€‚ Case: 1SELECT 'abc ' ä¸è¦ä½¿ç”¨ hintï¼Œå¦‚ï¼šsql_no_cache, force index, ignore key, straight joinç­‰ Item:ARG.010 Severity:L1 Content:hint æ˜¯ç”¨æ¥å¼ºåˆ¶ SQL æŒ‰ç…§æŸä¸ªæ‰§è¡Œè®¡åˆ’æ¥æ‰§è¡Œï¼Œä½†éšç€æ•°æ®é‡å˜åŒ–æˆ‘ä»¬æ— æ³•ä¿è¯è‡ªå·±å½“åˆçš„é¢„åˆ¤æ˜¯æ­£ç¡®çš„ã€‚ Case: 1SELECT * FROM t1 USE INDEX (i1) ORDER BY a; ä¸è¦ä½¿ç”¨è´Ÿå‘æŸ¥è¯¢ï¼Œå¦‚ï¼šNOT IN/NOT LIKE Item:ARG.011 Severity:L3 Content:è¯·å°½é‡ä¸è¦ä½¿ç”¨è´Ÿå‘æŸ¥è¯¢ï¼Œè¿™å°†å¯¼è‡´å…¨è¡¨æ‰«æï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½å½±å“è¾ƒå¤§ã€‚ Case: 1select id from t where num not in(1,2,3); ä¸€æ¬¡æ€§ INSERT/REPLACE çš„æ•°æ®è¿‡å¤š Item:ARG.012 Severity:L2 Content:å•æ¡ INSERT/REPLACE è¯­å¥æ‰¹é‡æ’å…¥å¤§é‡æ•°æ®æ€§èƒ½è¾ƒå·®ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´ä»åº“åŒæ­¥å»¶è¿Ÿã€‚ä¸ºäº†æå‡æ€§èƒ½ï¼Œå‡å°‘æ‰¹é‡å†™å…¥æ•°æ®å¯¹ä»åº“åŒæ­¥å»¶æ—¶çš„å½±å“ï¼Œå»ºè®®é‡‡ç”¨åˆ†æ‰¹æ¬¡æ’å…¥çš„æ–¹æ³•ã€‚ Case: 1INSERT INTO tb (a) VALUES (1), (2) æœ€å¤–å±‚ SELECT æœªæŒ‡å®š WHERE æ¡ä»¶ Item:CLA.001 Severity:L4 Content:SELECT è¯­å¥æ²¡æœ‰ WHERE å­å¥ï¼Œå¯èƒ½æ£€æŸ¥æ¯”é¢„æœŸæ›´å¤šçš„è¡Œ(å…¨è¡¨æ‰«æ)ã€‚å¯¹äº SELECT COUNT(*) ç±»å‹çš„è¯·æ±‚å¦‚æœä¸è¦æ±‚ç²¾åº¦ï¼Œå»ºè®®ä½¿ç”¨ SHOW TABLE STATUS æˆ– EXPLAIN æ›¿ä»£ã€‚ Case: 1select id from tbl ä¸å»ºè®®ä½¿ç”¨ ORDER BY RAND() Item:CLA.002 Severity:L3 Content:ORDER BY RAND() æ˜¯ä»ç»“æœé›†ä¸­æ£€ç´¢éšæœºè¡Œçš„ä¸€ç§éå¸¸ä½æ•ˆçš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šå¯¹æ•´ä¸ªç»“æœè¿›è¡Œæ’åºå¹¶ä¸¢å¼ƒå…¶å¤§éƒ¨åˆ†æ•°æ®ã€‚ Case: 1select name from tbl where id &lt; 1000 order by rand(number) ä¸å»ºè®®ä½¿ç”¨å¸¦ OFFSET çš„LIMIT æŸ¥è¯¢ Item:CLA.003 Severity:L2 Content:ä½¿ç”¨ LIMIT å’Œ OFFSET å¯¹ç»“æœé›†åˆ†é¡µçš„å¤æ‚åº¦æ˜¯ O(n^2)ï¼Œå¹¶ä¸”ä¼šéšç€æ•°æ®å¢å¤§è€Œå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚é‡‡ç”¨â€œä¹¦ç­¾â€æ‰«æçš„æ–¹æ³•å®ç°åˆ†é¡µæ•ˆç‡æ›´é«˜ã€‚ Case: 1select c1,c2 from tbl where name=xx order by number limit 1 offset 20 ä¸å»ºè®®å¯¹å¸¸é‡è¿›è¡Œ GROUP BY Item:CLA.004 Severity:L2 Content:GROUP BY 1 è¡¨ç¤ºæŒ‰ç¬¬ä¸€åˆ—è¿›è¡Œ GROUP BYã€‚å¦‚æœåœ¨ GROUP BY å­å¥ä¸­ä½¿ç”¨æ•°å­—ï¼Œè€Œä¸æ˜¯è¡¨è¾¾å¼æˆ–åˆ—åç§°ï¼Œå½“æŸ¥è¯¢åˆ—é¡ºåºæ”¹å˜æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚ Case: 1select col1,col2 from tbl group by 1 ORDER BY å¸¸æ•°åˆ—æ²¡æœ‰ä»»ä½•æ„ä¹‰ Item:CLA.005 Severity:L2 Content:SQL é€»è¾‘ä¸Šå¯èƒ½å­˜åœ¨é”™è¯¯; æœ€å¤šåªæ˜¯ä¸€ä¸ªæ— ç”¨çš„æ“ä½œï¼Œä¸ä¼šæ›´æ”¹æŸ¥è¯¢ç»“æœã€‚ Case: 1select id from test where id=1 order by id åœ¨ä¸åŒçš„è¡¨ä¸­ GROUP BY æˆ– ORDER BY Item:CLA.006 Severity:L4 Content:è¿™å°†å¼ºåˆ¶ä½¿ç”¨ä¸´æ—¶è¡¨å’Œ filesortï¼Œå¯èƒ½äº§ç”Ÿå·¨å¤§æ€§èƒ½éšæ‚£ï¼Œå¹¶ä¸”å¯èƒ½æ¶ˆè€—å¤§é‡å†…å­˜å’Œç£ç›˜ä¸Šçš„ä¸´æ—¶ç©ºé—´ã€‚ Case: 1select tb1.col, tb2.col from tb1, tb2 where id=1 group by tb1.col, tb2.col ORDER BY è¯­å¥å¯¹å¤šä¸ªä¸åŒæ¡ä»¶ä½¿ç”¨ä¸åŒæ–¹å‘çš„æ’åºæ— æ³•ä½¿ç”¨ç´¢å¼• Item:CLA.007 Severity:L2 Content:ORDER BY å­å¥ä¸­çš„æ‰€æœ‰è¡¨è¾¾å¼å¿…é¡»æŒ‰ç»Ÿä¸€çš„ ASC æˆ– DESC æ–¹å‘æ’åºï¼Œä»¥ä¾¿åˆ©ç”¨ç´¢å¼•ã€‚ Case: 1select c1,c2,c3 from t1 where c1='foo' order by c2 desc, c3 asc è¯·ä¸º GROUP BY æ˜¾ç¤ºæ·»åŠ  ORDER BY æ¡ä»¶ Item:CLA.008 Severity:L2 Content:é»˜è®¤ MySQL ä¼šå¯¹ â€˜GROUP BY col1, col2, â€¦â€™ è¯·æ±‚æŒ‰å¦‚ä¸‹é¡ºåºæ’åº â€˜ORDER BY col1, col2, â€¦â€™ã€‚å¦‚æœ GROUP BY è¯­å¥ä¸æŒ‡å®š ORDER BY æ¡ä»¶ä¼šå¯¼è‡´æ— è°“çš„æ’åºäº§ç”Ÿï¼Œå¦‚æœä¸éœ€è¦æ’åºå»ºè®®æ·»åŠ  â€˜ORDER BY NULLâ€™ã€‚ Case: 1select c1,c2,c3 from t1 where c1='foo' group by c2 ORDER BY çš„æ¡ä»¶ä¸ºè¡¨è¾¾å¼ Item:CLA.009 Severity:L2 Content:å½“ ORDER BY æ¡ä»¶ä¸ºè¡¨è¾¾å¼æˆ–å‡½æ•°æ—¶ä¼šä½¿ç”¨åˆ°ä¸´æ—¶è¡¨ï¼Œå¦‚æœåœ¨æœªæŒ‡å®š WHERE æˆ– WHERE æ¡ä»¶è¿”å›çš„ç»“æœé›†è¾ƒå¤§æ—¶æ€§èƒ½ä¼šå¾ˆå·®ã€‚ Case: 1select description from film where title ='ACADEMY DINOSAUR' order by length-language_id; GROUP BY çš„æ¡ä»¶ä¸ºè¡¨è¾¾å¼ Item:CLA.010 Severity:L2 Content:å½“ GROUP BY æ¡ä»¶ä¸ºè¡¨è¾¾å¼æˆ–å‡½æ•°æ—¶ä¼šä½¿ç”¨åˆ°ä¸´æ—¶è¡¨ï¼Œå¦‚æœåœ¨æœªæŒ‡å®š WHERE æˆ– WHERE æ¡ä»¶è¿”å›çš„ç»“æœé›†è¾ƒå¤§æ—¶æ€§èƒ½ä¼šå¾ˆå·®ã€‚ Case: 1select description from film where title ='ACADEMY DINOSAUR' GROUP BY length-language_id; å»ºè®®ä¸ºè¡¨æ·»åŠ æ³¨é‡Š Item:CLA.011 Severity:L1 Content:ä¸ºè¡¨æ·»åŠ æ³¨é‡Šèƒ½å¤Ÿä½¿å¾—è¡¨çš„æ„ä¹‰æ›´æ˜ç¡®ï¼Œä»è€Œä¸ºæ—¥åçš„ç»´æŠ¤å¸¦æ¥æå¤§çš„ä¾¿åˆ©ã€‚ Case: 1CREATE TABLE `test1` (`ID` bigint(20) NOT NULL AUTO_INCREMENT,`c1` varchar(128) DEFAULT NULL,PRIMARY KEY (`ID`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 å°†å¤æ‚çš„è£¹è„šå¸ƒå¼æŸ¥è¯¢åˆ†è§£æˆå‡ ä¸ªç®€å•çš„æŸ¥è¯¢ Item:CLA.012 Severity:L2 Content:SQLæ˜¯ä¸€é—¨æå…·è¡¨ç°åŠ›çš„è¯­è¨€ï¼Œæ‚¨å¯ä»¥åœ¨å•ä¸ªSQLæŸ¥è¯¢æˆ–è€…å•æ¡è¯­å¥ä¸­å®Œæˆå¾ˆå¤šäº‹æƒ…ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å¿…é¡»å¼ºåˆ¶åªä½¿ç”¨ä¸€è¡Œä»£ç ï¼Œæˆ–è€…è®¤ä¸ºä½¿ç”¨ä¸€è¡Œä»£ç å°±æå®šæ¯ä¸ªä»»åŠ¡æ˜¯ä¸ªå¥½ä¸»æ„ã€‚é€šè¿‡ä¸€ä¸ªæŸ¥è¯¢æ¥è·å¾—æ‰€æœ‰ç»“æœçš„å¸¸è§åæœæ˜¯å¾—åˆ°äº†ä¸€ä¸ªç¬›å¡å„¿ç§¯ã€‚å½“æŸ¥è¯¢ä¸­çš„ä¸¤å¼ è¡¨ä¹‹é—´æ²¡æœ‰æ¡ä»¶é™åˆ¶å®ƒä»¬çš„å…³ç³»æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚æ²¡æœ‰å¯¹åº”çš„é™åˆ¶è€Œç›´æ¥ä½¿ç”¨ä¸¤å¼ è¡¨è¿›è¡Œè”ç»“æŸ¥è¯¢ï¼Œå°±ä¼šå¾—åˆ°ç¬¬ä¸€å¼ è¡¨ä¸­çš„æ¯ä¸€è¡Œå’Œç¬¬äºŒå¼ è¡¨ä¸­çš„æ¯ä¸€è¡Œçš„ä¸€ä¸ªç»„åˆã€‚æ¯ä¸€ä¸ªè¿™æ ·çš„ç»„åˆå°±ä¼šæˆä¸ºç»“æœé›†ä¸­çš„ä¸€è¡Œï¼Œæœ€ç»ˆæ‚¨å°±ä¼šå¾—åˆ°ä¸€ä¸ªè¡Œæ•°å¾ˆå¤šçš„ç»“æœé›†ã€‚é‡è¦çš„æ˜¯è¦è€ƒè™‘è¿™äº›æŸ¥è¯¢å¾ˆéš¾ç¼–å†™ã€éš¾ä»¥ä¿®æ”¹å’Œéš¾ä»¥è°ƒè¯•ã€‚æ•°æ®åº“æŸ¥è¯¢è¯·æ±‚çš„æ—¥ç›Šå¢åŠ åº”è¯¥æ˜¯é¢„æ–™ä¹‹ä¸­çš„äº‹ã€‚ç»ç†ä»¬æƒ³è¦æ›´å¤æ‚çš„æŠ¥å‘Šä»¥åŠåœ¨ç”¨æˆ·ç•Œé¢ä¸Šæ·»åŠ æ›´å¤šçš„å­—æ®µã€‚å¦‚æœæ‚¨çš„è®¾è®¡å¾ˆå¤æ‚ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå•ä¸€æŸ¥è¯¢ï¼Œè¦æ‰©å±•å®ƒä»¬å°±ä¼šå¾ˆè´¹æ—¶è´¹åŠ›ã€‚ä¸è®ºå¯¹æ‚¨è¿˜æ˜¯é¡¹ç›®æ¥è¯´ï¼Œæ—¶é—´èŠ±åœ¨è¿™äº›äº‹æƒ…ä¸Šé¢ä¸å€¼å¾—ã€‚å°†å¤æ‚çš„æ„å¤§åˆ©é¢æ¡å¼æŸ¥è¯¢åˆ†è§£æˆå‡ ä¸ªç®€å•çš„æŸ¥è¯¢ã€‚å½“æ‚¨æ‹†åˆ†ä¸€ä¸ªå¤æ‚çš„SQLæŸ¥è¯¢æ—¶ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯å¾ˆå¤šç±»ä¼¼çš„æŸ¥è¯¢ï¼Œå¯èƒ½ä»…ä»…åœ¨æ•°æ®ç±»å‹ä¸Šæœ‰æ‰€ä¸åŒã€‚ç¼–å†™æ‰€æœ‰çš„è¿™äº›æŸ¥è¯¢æ˜¯å¾ˆä¹å‘³çš„ï¼Œå› æ­¤ï¼Œæœ€å¥½èƒ½å¤Ÿæœ‰ä¸ªç¨‹åºè‡ªåŠ¨ç”Ÿæˆè¿™äº›ä»£ç ã€‚SQLä»£ç ç”Ÿæˆæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åº”ç”¨ã€‚å°½ç®¡SQLæ”¯æŒç”¨ä¸€è¡Œä»£ç è§£å†³å¤æ‚çš„é—®é¢˜ï¼Œä½†ä¹Ÿåˆ«åšä¸åˆ‡å®é™…çš„äº‹æƒ…ã€‚ Case: 1è¿™æ˜¯ä¸€æ¡å¾ˆé•¿å¾ˆé•¿çš„ SQLï¼Œæ¡ˆä¾‹ç•¥ã€‚ ä¸å»ºè®®ä½¿ç”¨ HAVING å­å¥ Item:CLA.013 Severity:L3 Content:å°†æŸ¥è¯¢çš„ HAVING å­å¥æ”¹å†™ä¸º WHERE ä¸­çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¯ä»¥åœ¨æŸ¥è¯¢å¤„ç†æœŸé—´ä½¿ç”¨ç´¢å¼•ã€‚ Case: 1SELECT s.c_id,count(s.c_id) FROM s where c = test GROUP BY s.c_id HAVING s.c_id &lt;&gt; '1660' AND s.c_id &lt;&gt; '2' order by s.c_id åˆ é™¤å…¨è¡¨æ—¶å»ºè®®ä½¿ç”¨ TRUNCATE æ›¿ä»£ DELETE Item:CLA.014 Severity:L2 Content:åˆ é™¤å…¨è¡¨æ—¶å»ºè®®ä½¿ç”¨ TRUNCATE æ›¿ä»£ DELETE Case: 1delete from tbl UPDATE æœªæŒ‡å®š WHERE æ¡ä»¶ Item:CLA.015 Severity:L4 Content:UPDATE ä¸æŒ‡å®š WHERE æ¡ä»¶ä¸€èˆ¬æ˜¯è‡´å‘½çš„ï¼Œè¯·æ‚¨ä¸‰æ€åè¡Œ Case: 1update tbl set col=1 ä¸è¦ UPDATE ä¸»é”® Item:CLA.016 Severity:L2 Content:ä¸»é”®æ˜¯æ•°æ®è¡¨ä¸­è®°å½•çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¸å»ºè®®é¢‘ç¹æ›´æ–°ä¸»é”®åˆ—ï¼Œè¿™å°†å½±å“å…ƒæ•°æ®ç»Ÿè®¡ä¿¡æ¯è¿›è€Œå½±å“æ­£å¸¸çš„æŸ¥è¯¢ã€‚ Case: 1update tbl set col=1 ä¸å»ºè®®ä½¿ç”¨ SELECT * ç±»å‹æŸ¥è¯¢ Item:COL.001 Severity:L1 Content:å½“è¡¨ç»“æ„å˜æ›´æ—¶ï¼Œä½¿ç”¨ * é€šé…ç¬¦é€‰æ‹©æ‰€æœ‰åˆ—å°†å¯¼è‡´æŸ¥è¯¢çš„å«ä¹‰å’Œè¡Œä¸ºä¼šå‘ç”Ÿæ›´æ”¹ï¼Œå¯èƒ½å¯¼è‡´æŸ¥è¯¢è¿”å›æ›´å¤šçš„æ•°æ®ã€‚ Case: 1select * from tbl where id=1 INSERT/REPLACE æœªæŒ‡å®šåˆ—å Item:COL.002 Severity:L2 Content:å½“è¡¨ç»“æ„å‘ç”Ÿå˜æ›´ï¼Œå¦‚æœ INSERT æˆ– REPLACE è¯·æ±‚ä¸æ˜ç¡®æŒ‡å®šåˆ—åï¼Œè¯·æ±‚çš„ç»“æœå°†ä¼šä¸é¢„æƒ³çš„ä¸åŒ; å»ºè®®ä½¿ç”¨ â€œINSERT INTO tbl(col1ï¼Œcol2)VALUES â€¦â€ ä»£æ›¿ã€‚ Case: 1insert into tbl values(1,'name') å»ºè®®ä¿®æ”¹è‡ªå¢ ID ä¸ºæ— ç¬¦å·ç±»å‹ Item:COL.003 Severity:L2 Content:å»ºè®®ä¿®æ”¹è‡ªå¢ ID ä¸ºæ— ç¬¦å·ç±»å‹ Case: 1create table test(`id` int(11) NOT NULL AUTO_INCREMENT) è¯·ä¸ºåˆ—æ·»åŠ é»˜è®¤å€¼ Item:COL.004 Severity:L1 Content:è¯·ä¸ºåˆ—æ·»åŠ é»˜è®¤å€¼ï¼Œå¦‚æœæ˜¯ ALTER æ“ä½œï¼Œè¯·ä¸è¦å¿˜è®°å°†åŸå­—æ®µçš„é»˜è®¤å€¼å†™ä¸Šã€‚å­—æ®µæ— é»˜è®¤å€¼ï¼Œå½“è¡¨è¾ƒå¤§æ—¶æ— æ³•åœ¨çº¿å˜æ›´è¡¨ç»“æ„ã€‚ Case: 1CREATE TABLE tbl (col int) ENGINE=InnoDB; åˆ—æœªæ·»åŠ æ³¨é‡Š Item:COL.005 Severity:L1 Content:å»ºè®®å¯¹è¡¨ä¸­æ¯ä¸ªåˆ—æ·»åŠ æ³¨é‡Šï¼Œæ¥æ˜ç¡®æ¯ä¸ªåˆ—åœ¨è¡¨ä¸­çš„å«ä¹‰åŠä½œç”¨ã€‚ Case: 1CREATE TABLE tbl (col int) ENGINE=InnoDB; è¡¨ä¸­åŒ…å«æœ‰å¤ªå¤šçš„åˆ— Item:COL.006 Severity:L3 Content:è¡¨ä¸­åŒ…å«æœ‰å¤ªå¤šçš„åˆ— Case: 1CREATE TABLE tbl ( cols ....); å¯ä½¿ç”¨ VARCHAR ä»£æ›¿ CHARï¼Œ VARBINARY ä»£æ›¿ BINARY Item:COL.008 Severity:L1 Content:ä¸ºé¦–å…ˆå˜é•¿å­—æ®µå­˜å‚¨ç©ºé—´å°ï¼Œå¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å…¶æ¬¡å¯¹äºæŸ¥è¯¢æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„å­—æ®µå†…æœç´¢æ•ˆç‡æ˜¾ç„¶è¦é«˜äº›ã€‚ Case: 1create table t1(id int,name char(20),last_time date) å»ºè®®ä½¿ç”¨ç²¾ç¡®çš„æ•°æ®ç±»å‹ Item:COL.009 Severity:L2 Content:å®é™…ä¸Šï¼Œä»»ä½•ä½¿ç”¨ FLOAT, REAL æˆ– DOUBLE PRECISION æ•°æ®ç±»å‹çš„è®¾è®¡éƒ½æœ‰å¯èƒ½æ˜¯åæ¨¡å¼ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºä½¿ç”¨çš„æµ®ç‚¹æ•°çš„å–å€¼èŒƒå›´å¹¶ä¸éœ€è¦è¾¾åˆ°IEEE 754æ ‡å‡†æ‰€å®šä¹‰çš„æœ€å¤§/æœ€å°åŒºé—´ã€‚åœ¨è®¡ç®—æ€»é‡æ—¶ï¼Œéç²¾ç¡®æµ®ç‚¹æ•°æ‰€ç§¯ç´¯çš„å½±å“æ˜¯ä¸¥é‡çš„ã€‚ä½¿ç”¨ SQL ä¸­çš„ NUMERIC æˆ– DECIMAL ç±»å‹æ¥ä»£æ›¿ FLOAT åŠå…¶ç±»ä¼¼çš„æ•°æ®ç±»å‹è¿›è¡Œå›ºå®šç²¾åº¦çš„å°æ•°å­˜å‚¨ã€‚è¿™äº›æ•°æ®ç±»å‹ç²¾ç¡®åœ°æ ¹æ®æ‚¨å®šä¹‰è¿™ä¸€åˆ—æ—¶æŒ‡å®šçš„ç²¾åº¦æ¥å­˜å‚¨æ•°æ®ã€‚å°½å¯èƒ½ä¸è¦ä½¿ç”¨æµ®ç‚¹æ•°ã€‚ Case: 1CREATE TABLE tab2 (p_id BIGINT UNSIGNED NOT NULL,a_id BIGINT UNSIGNED NOT NULL,hours float not null,PRIMARY KEY (p_id, a_id)) ä¸å»ºè®®ä½¿ç”¨ ENUM æ•°æ®ç±»å‹ Item:COL.010 Severity:L2 Content:ENUM å®šä¹‰äº†åˆ—ä¸­å€¼çš„ç±»å‹ï¼Œä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤º ENUM é‡Œçš„å€¼æ—¶ï¼Œå®é™…å­˜å‚¨åœ¨åˆ—ä¸­çš„æ•°æ®æ˜¯è¿™äº›å€¼åœ¨å®šä¹‰æ—¶çš„åºæ•°ã€‚å› æ­¤ï¼Œè¿™åˆ—çš„æ•°æ®æ˜¯å­—èŠ‚å¯¹é½çš„ï¼Œå½“æ‚¨è¿›è¡Œä¸€æ¬¡æ’åºæŸ¥è¯¢æ—¶ï¼Œç»“æœæ˜¯æŒ‰ç…§å®é™…å­˜å‚¨çš„åºæ•°å€¼æ’åºçš„ï¼Œè€Œä¸æ˜¯æŒ‰å­—ç¬¦ä¸²å€¼çš„å­—æ¯é¡ºåºæ’åºçš„ã€‚è¿™å¯èƒ½ä¸æ˜¯æ‚¨æ‰€å¸Œæœ›çš„ã€‚æ²¡æœ‰ä»€ä¹ˆè¯­æ³•æ”¯æŒä» ENUM æˆ–è€… check çº¦æŸä¸­æ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªå€¼ï¼›æ‚¨åªèƒ½ä½¿ç”¨ä¸€ä¸ªæ–°çš„é›†åˆé‡æ–°å®šä¹‰è¿™ä¸€åˆ—ã€‚å¦‚æœæ‚¨æ‰“ç®—åºŸå¼ƒä¸€ä¸ªé€‰é¡¹ï¼Œæ‚¨å¯èƒ½ä¼šä¸ºå†å²æ•°æ®è€Œçƒ¦æ¼ã€‚ä½œä¸ºä¸€ç§ç­–ç•¥ï¼Œæ”¹å˜å…ƒæ•°æ®â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œæ”¹å˜è¡¨å’Œåˆ—çš„å®šä¹‰â€”â€”åº”è¯¥æ˜¯ä¸å¸¸è§çš„ï¼Œå¹¶ä¸”è¦æ³¨æ„æµ‹è¯•å’Œè´¨é‡ä¿è¯ã€‚æœ‰ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ¥çº¦æŸä¸€åˆ—ä¸­çš„å¯é€‰å€¼:åˆ›å»ºä¸€å¼ æ£€æŸ¥è¡¨ï¼Œæ¯ä¸€è¡ŒåŒ…å«ä¸€ä¸ªå…è®¸åœ¨åˆ—ä¸­å‡ºç°çš„å€™é€‰å€¼ï¼›ç„¶ååœ¨å¼•ç”¨æ–°è¡¨çš„æ—§è¡¨ä¸Šå£°æ˜ä¸€ä¸ªå¤–é”®çº¦æŸã€‚ Case: 1create table tab1(status ENUM('new','in progress','fixed')) å½“éœ€è¦å”¯ä¸€çº¦æŸæ—¶æ‰ä½¿ç”¨ NULLï¼Œä»…å½“åˆ—ä¸èƒ½æœ‰ç¼ºå¤±å€¼æ—¶æ‰ä½¿ç”¨ NOT NULL Item:COL.011 Severity:L0 Content:NULL å’Œ0æ˜¯ä¸åŒçš„ï¼Œ10ä¹˜ä»¥ NULL è¿˜æ˜¯ NULLã€‚NULL å’Œç©ºå­—ç¬¦ä¸²æ˜¯ä¸ä¸€æ ·çš„ã€‚å°†ä¸€ä¸ªå­—ç¬¦ä¸²å’Œæ ‡å‡† SQL ä¸­çš„ NULL è”åˆèµ·æ¥çš„ç»“æœè¿˜æ˜¯ NULLã€‚NULL å’Œ FALSE ä¹Ÿæ˜¯ä¸åŒçš„ã€‚ANDã€OR å’Œ NOT è¿™ä¸‰ä¸ªå¸ƒå°”æ“ä½œå¦‚æœæ¶‰åŠ NULLï¼Œå…¶ç»“æœä¹Ÿè®©å¾ˆå¤šäººæ„Ÿåˆ°å›°æƒ‘ã€‚å½“æ‚¨å°†ä¸€åˆ—å£°æ˜ä¸º NOT NULL æ—¶ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™åˆ—ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½å¿…é¡»å­˜åœ¨ä¸”æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä½¿ç”¨ NULL æ¥è¡¨ç¤ºä»»æ„ç±»å‹ä¸å­˜åœ¨çš„ç©ºå€¼ã€‚ å½“æ‚¨å°†ä¸€åˆ—å£°æ˜ä¸º NOT NULL æ—¶ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™åˆ—ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½å¿…é¡»å­˜åœ¨ä¸”æ˜¯æœ‰æ„ä¹‰çš„ã€‚ Case: 1select c1,c2,c3 from tbl where c4 is null or c4 &lt;&gt; 1 BLOB å’Œ TEXT ç±»å‹çš„å­—æ®µä¸å¯è®¾ç½®ä¸º NULL Item:COL.012 Severity:L5 Content:BLOB å’Œ TEXT ç±»å‹çš„å­—æ®µä¸å¯è®¾ç½®ä¸º NULL Case: 1CREATE TABLE `tbl` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `c` longblob, PRIMARY KEY (`id`)); TIMESTAMP ç±»å‹æœªè®¾ç½®é»˜è®¤å€¼ Item:COL.013 Severity:L4 Content:TIMESTAMP ç±»å‹æœªè®¾ç½®é»˜è®¤å€¼ Case: 1CREATE TABLE tbl( `id` bigint not null, `create_time` timestamp); ä¸ºåˆ—æŒ‡å®šäº†å­—ç¬¦é›† Item:COL.014 Severity:L5 Content:å»ºè®®åˆ—ä¸è¡¨ä½¿ç”¨åŒä¸€ä¸ªå­—ç¬¦é›†ï¼Œä¸è¦å•ç‹¬æŒ‡å®šåˆ—çš„å­—ç¬¦é›†ã€‚ Case: 1CREATE TABLE `tb2` ( `id` int(11) DEFAULT NULL, `col` char(10) CHARACTER SET utf8 DEFAULT NULL) BLOB ç±»å‹çš„å­—æ®µä¸å¯æŒ‡å®šé»˜è®¤å€¼ Item:COL.015 Severity:L4 Content:BLOB ç±»å‹çš„å­—æ®µä¸å¯æŒ‡å®šé»˜è®¤å€¼ Case: 1CREATE TABLE `tbl` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `c` blob NOT NULL DEFAULT '', PRIMARY KEY (`id`)); æ•´å‹å®šä¹‰å»ºè®®é‡‡ç”¨ INT(10) æˆ– BIGINT(20) Item:COL.016 Severity:L1 Content:INT(M) åœ¨ integer æ•°æ®ç±»å‹ä¸­ï¼ŒM è¡¨ç¤ºæœ€å¤§æ˜¾ç¤ºå®½åº¦ã€‚ åœ¨ INT(M) ä¸­ï¼ŒM çš„å€¼è·Ÿ INT(M) æ‰€å å¤šå°‘å­˜å‚¨ç©ºé—´å¹¶æ— ä»»ä½•å…³ç³»ã€‚ INT(3)ã€INT(4)ã€INT(8) åœ¨ç£ç›˜ä¸Šéƒ½æ˜¯å ç”¨ 4 bytes çš„å­˜å‚¨ç©ºé—´ã€‚ Case: 1CREATE TABLE tab (a INT(1)); VARCHAR å®šä¹‰é•¿åº¦è¿‡é•¿ Item:COL.017 Severity:L2 Content:varchar æ˜¯å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œä¸é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡255ï¼Œå¦‚æœå­˜å‚¨é•¿åº¦è¿‡é•¿ MySQL å°†å®šä¹‰å­—æ®µç±»å‹ä¸º textï¼Œç‹¬ç«‹å‡ºæ¥ä¸€å¼ è¡¨ï¼Œç”¨ä¸»é”®æ¥å¯¹åº”ï¼Œé¿å…å½±å“å…¶å®ƒå­—æ®µç´¢å¼•æ•ˆç‡ã€‚ Case: 1CREATE TABLE tab (a varchar(3500)); æ¶ˆé™¤ä¸å¿…è¦çš„ DISTINCT æ¡ä»¶ Item:DIS.001 Severity:L1 Content:å¤ªå¤šDISTINCTæ¡ä»¶æ˜¯å¤æ‚çš„è£¹è„šå¸ƒå¼æŸ¥è¯¢çš„ç—‡çŠ¶ã€‚è€ƒè™‘å°†å¤æ‚æŸ¥è¯¢åˆ†è§£æˆè®¸å¤šç®€å•çš„æŸ¥è¯¢ï¼Œå¹¶å‡å°‘DISTINCTæ¡ä»¶çš„æ•°é‡ã€‚å¦‚æœä¸»é”®åˆ—æ˜¯åˆ—çš„ç»“æœé›†çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™DISTINCTæ¡ä»¶å¯èƒ½æ²¡æœ‰å½±å“ã€‚ Case: 1SELECT DISTINCT c.c_id,count(DISTINCT c.c_name),count(DISTINCT c.c_e),count(DISTINCT c.c_n),count(DISTINCT c.c_me),c.c_d FROM (select distinct id, name from B) as e WHERE e.country_id = c.country_id COUNT(DISTINCT) å¤šåˆ—æ—¶ç»“æœå¯èƒ½å’Œä½ é¢„æƒ³çš„ä¸åŒ Item:DIS.002 Severity:L3 Content:COUNT(DISTINCT col) è®¡ç®—è¯¥åˆ—é™¤NULLä¹‹å¤–çš„ä¸é‡å¤è¡Œæ•°ï¼Œæ³¨æ„ COUNT(DISTINCT col, col2) å¦‚æœå…¶ä¸­ä¸€åˆ—å…¨ä¸º NULL é‚£ä¹ˆå³ä½¿å¦ä¸€åˆ—æœ‰ä¸åŒçš„å€¼ï¼Œä¹Ÿè¿”å›0ã€‚ Case: 1SELECT COUNT(DISTINCT col, col2) FROM tbl; DISTINCT * å¯¹æœ‰ä¸»é”®çš„è¡¨æ²¡æœ‰æ„ä¹‰ Item:DIS.003 Severity:L3 Content:å½“è¡¨å·²ç»æœ‰ä¸»é”®æ—¶ï¼Œå¯¹æ‰€æœ‰åˆ—è¿›è¡Œ DISTINCT çš„è¾“å‡ºç»“æœä¸ä¸è¿›è¡Œ DISTINCT æ“ä½œçš„ç»“æœç›¸åŒï¼Œè¯·ä¸è¦ç”»è›‡æ·»è¶³ã€‚ Case: 1SELECT DISTINCT * FROM film; é¿å…åœ¨ WHERE æ¡ä»¶ä¸­ä½¿ç”¨å‡½æ•°æˆ–å…¶ä»–è¿ç®—ç¬¦ Item:FUN.001 Severity:L2 Content:è™½ç„¶åœ¨ SQL ä¸­ä½¿ç”¨å‡½æ•°å¯ä»¥ç®€åŒ–å¾ˆå¤šå¤æ‚çš„æŸ¥è¯¢ï¼Œä½†ä½¿ç”¨äº†å‡½æ•°çš„æŸ¥è¯¢æ— æ³•åˆ©ç”¨è¡¨ä¸­å·²ç»å»ºç«‹çš„ç´¢å¼•ï¼Œè¯¥æŸ¥è¯¢å°†ä¼šæ˜¯å…¨è¡¨æ‰«æï¼Œæ€§èƒ½è¾ƒå·®ã€‚é€šå¸¸å»ºè®®å°†åˆ—åå†™åœ¨æ¯”è¾ƒè¿ç®—ç¬¦å·¦ä¾§ï¼Œå°†æŸ¥è¯¢è¿‡æ»¤æ¡ä»¶æ”¾åœ¨æ¯”è¾ƒè¿ç®—ç¬¦å³ä¾§ã€‚ä¹Ÿä¸å»ºè®®åœ¨æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ä¸¤ä¾§ä¹¦å†™å¤šä½™çš„æ‹¬å·ï¼Œè¿™ä¼šå¯¹é˜…è¯»äº§ç”Ÿæ¯”è¾ƒå¤§çš„å›°æ‰°ã€‚ Case: 1select id from t where substring(name,1,3)='abc' æŒ‡å®šäº† WHERE æ¡ä»¶æˆ–é MyISAM å¼•æ“æ—¶ä½¿ç”¨ COUNT(*) æ“ä½œæ€§èƒ½ä¸ä½³ Item:FUN.002 Severity:L1 Content:COUNT(*) çš„ä½œç”¨æ˜¯ç»Ÿè®¡è¡¨è¡Œæ•°ï¼ŒCOUNT(COL) çš„ä½œç”¨æ˜¯ç»Ÿè®¡æŒ‡å®šåˆ—é NULL çš„è¡Œæ•°ã€‚MyISAM è¡¨å¯¹äº COUNT(*) ç»Ÿè®¡å…¨è¡¨è¡Œæ•°è¿›è¡Œäº†ç‰¹æ®Šçš„ä¼˜åŒ–ï¼Œé€šå¸¸æƒ…å†µä¸‹éå¸¸å¿«ã€‚ä½†å¯¹äºé MyISAM è¡¨æˆ–æŒ‡å®šäº†æŸäº› WHERE æ¡ä»¶ï¼ŒCOUNT(*) æ“ä½œéœ€è¦æ‰«æå¤§é‡çš„è¡Œæ‰èƒ½è·å–ç²¾ç¡®çš„ç»“æœï¼Œæ€§èƒ½ä¹Ÿå› æ­¤ä¸ä½³ã€‚æœ‰æ—¶å€™æŸäº›ä¸šåŠ¡åœºæ™¯å¹¶ä¸éœ€è¦å®Œå…¨ç²¾ç¡®çš„ COUNT å€¼ï¼Œæ­¤æ—¶å¯ä»¥ç”¨è¿‘ä¼¼å€¼æ¥ä»£æ›¿ã€‚EXPLAIN å‡ºæ¥çš„ä¼˜åŒ–å™¨ä¼°ç®—çš„è¡Œæ•°å°±æ˜¯ä¸€ä¸ªä¸é”™çš„è¿‘ä¼¼å€¼ï¼Œæ‰§è¡Œ EXPLAIN å¹¶ä¸éœ€è¦çœŸæ­£å»æ‰§è¡ŒæŸ¥è¯¢ï¼Œæ‰€ä»¥æˆæœ¬å¾ˆä½ã€‚ Case: 1SELECT c3, COUNT(*) AS accounts FROM tab where c2 &lt; 10000 GROUP BY c3 ORDER BY num ä½¿ç”¨äº†åˆå¹¶ä¸ºå¯ç©ºåˆ—çš„å­—ç¬¦ä¸²è¿æ¥ Item:FUN.003 Severity:L3 Content:åœ¨ä¸€äº›æŸ¥è¯¢è¯·æ±‚ä¸­ï¼Œæ‚¨éœ€è¦å¼ºåˆ¶è®©æŸä¸€åˆ—æˆ–è€…æŸä¸ªè¡¨è¾¾å¼è¿”å›é NULL çš„å€¼ï¼Œä»è€Œè®©æŸ¥è¯¢é€»è¾‘å˜å¾—æ›´ç®€å•ï¼Œæ‹…å¿§ä¸æƒ³å°†è¿™ä¸ªå€¼å­˜ä¸‹æ¥ã€‚ä½¿ç”¨ COALESCE() å‡½æ•°æ¥æ„é€ è¿æ¥çš„è¡¨è¾¾å¼ï¼Œè¿™æ ·å³ä½¿æ˜¯ç©ºå€¼åˆ—ä¹Ÿä¸ä¼šä½¿æ•´è¡¨è¾¾å¼å˜ä¸º NULLã€‚ Case: 1select c1 || coalesce(' ' || c2 || ' ', ' ') || c3 as c from tbl ä¸å»ºè®®ä½¿ç”¨ SYSDATE() å‡½æ•° Item:FUN.004 Severity:L4 Content:SYSDATE() å‡½æ•°å¯èƒ½å¯¼è‡´ä¸»ä»æ•°æ®ä¸ä¸€è‡´ï¼Œè¯·ä½¿ç”¨ NOW() å‡½æ•°æ›¿ä»£ SYSDATE()ã€‚ Case: 1SELECT SYSDATE(); ä¸å»ºè®®ä½¿ç”¨ COUNT(col) æˆ– COUNT(å¸¸é‡) Item:FUN.005 Severity:L1 Content:ä¸è¦ä½¿ç”¨ COUNT(col) æˆ– COUNT(å¸¸é‡) æ¥æ›¿ä»£ COUNT(*), COUNT(*) æ˜¯ SQL92 å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„æ–¹æ³•ï¼Œè·Ÿæ•°æ®æ— å…³ï¼Œè·Ÿ NULL å’Œé NULL ä¹Ÿæ— å…³ã€‚ Case: 1SELECT COUNT(1) FROM tbl; ä½¿ç”¨ SUM(COL) æ—¶éœ€æ³¨æ„ NPE é—®é¢˜ Item:FUN.006 Severity:L1 Content:å½“æŸä¸€åˆ—çš„å€¼å…¨æ˜¯ NULL æ—¶ï¼ŒCOUNT(COL) çš„è¿”å›ç»“æœä¸º0,ä½† SUM(COL) çš„è¿”å›ç»“æœä¸º NULLï¼Œå› æ­¤ä½¿ç”¨ SUM() æ—¶éœ€æ³¨æ„ NPE é—®é¢˜ã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ¥é¿å… SUM çš„ NPE é—®é¢˜: SELECT IF(ISNULL(SUM(COL)), 0, SUM(COL)) FROM tbl Case: 1SELECT SUM(COL) FROM tbl; ä¸å»ºè®®ä½¿ç”¨è§¦å‘å™¨ Item:FUN.007 Severity:L1 Content:è§¦å‘å™¨çš„æ‰§è¡Œæ²¡æœ‰åé¦ˆå’Œæ—¥å¿—ï¼Œéšè—äº†å®é™…çš„æ‰§è¡Œæ­¥éª¤ï¼Œå½“æ•°æ®åº“å‡ºç°é—®é¢˜æ˜¯ï¼Œä¸èƒ½é€šè¿‡æ…¢æ—¥å¿—åˆ†æè§¦å‘å™¨çš„å…·ä½“æ‰§è¡Œæƒ…å†µï¼Œä¸æ˜“å‘ç°é—®é¢˜ã€‚åœ¨MySQLä¸­ï¼Œè§¦å‘å™¨ä¸èƒ½ä¸´æ—¶å…³é—­æˆ–æ‰“å¼€ï¼Œåœ¨æ•°æ®è¿ç§»æˆ–æ•°æ®æ¢å¤ç­‰åœºæ™¯ä¸‹ï¼Œéœ€è¦ä¸´æ—¶dropè§¦å‘å™¨ï¼Œå¯èƒ½å½±å“åˆ°ç”Ÿäº§ç¯å¢ƒã€‚ Case: 1CREATE TRIGGER t1 AFTER INSERT ON work FOR EACH ROW INSERT INTO time VALUES(NOW()); ä¸å»ºè®®ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ Item:FUN.008 Severity:L1 Content:å­˜å‚¨è¿‡ç¨‹æ— ç‰ˆæœ¬æ§åˆ¶ï¼Œé…åˆä¸šåŠ¡çš„å­˜å‚¨è¿‡ç¨‹å‡çº§å¾ˆéš¾åšåˆ°ä¸šåŠ¡æ— æ„ŸçŸ¥ã€‚å­˜å‚¨è¿‡ç¨‹åœ¨æ‹“å±•å’Œç§»æ¤ä¸Šä¹Ÿå­˜åœ¨é—®é¢˜ã€‚ Case: 1CREATE PROCEDURE simpleproc (OUT param1 INT); ä¸å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•° Item:FUN.009 Severity:L1 Content:ä¸å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•° Case: 1CREATE FUNCTION hello (s CHAR(20)); ä¸å»ºè®®å¯¹ç­‰å€¼æŸ¥è¯¢åˆ—ä½¿ç”¨ GROUP BY Item:GRP.001 Severity:L2 Content:GROUP BY ä¸­çš„åˆ—åœ¨å‰é¢çš„ WHERE æ¡ä»¶ä¸­ä½¿ç”¨äº†ç­‰å€¼æŸ¥è¯¢ï¼Œå¯¹è¿™æ ·çš„åˆ—è¿›è¡Œ GROUP BY æ„ä¹‰ä¸å¤§ã€‚ Case: 1select film_id, title from film where release_year='2006' group by release_year JOIN è¯­å¥æ··ç”¨é€—å·å’Œ ANSI æ¨¡å¼ Item:JOI.001 Severity:L2 Content:è¡¨è¿æ¥çš„æ—¶å€™æ··ç”¨é€—å·å’Œ ANSI JOIN ä¸ä¾¿äºäººç±»ç†è§£ï¼Œå¹¶ä¸”MySQLä¸åŒç‰ˆæœ¬çš„è¡¨è¿æ¥è¡Œä¸ºå’Œä¼˜å…ˆçº§å‡æœ‰æ‰€ä¸åŒï¼Œå½“ MySQL ç‰ˆæœ¬å˜åŒ–åå¯èƒ½ä¼šå¼•å…¥é”™è¯¯ã€‚ Case: 1select c1,c2,c3 from t1,t2 join t3 on t1.c1=t2.c1,t1.c3=t3,c1 where id&gt;1000 åŒä¸€å¼ è¡¨è¢«è¿æ¥ä¸¤æ¬¡ Item:JOI.002 Severity:L4 Content:ç›¸åŒçš„è¡¨åœ¨ FROM å­å¥ä¸­è‡³å°‘å‡ºç°ä¸¤æ¬¡ï¼Œå¯ä»¥ç®€åŒ–ä¸ºå¯¹è¯¥è¡¨çš„å•æ¬¡è®¿é—®ã€‚ Case: 1select tb1.col from (tb1, tb2) join tb2 on tb1.id=tb.id where tb1.id=1 OUTER JOIN å¤±æ•ˆ Item:JOI.003 Severity:L4 Content:ç”±äº WHERE æ¡ä»¶é”™è¯¯ä½¿å¾— OUTER JOIN çš„å¤–éƒ¨è¡¨æ— æ•°æ®è¿”å›ï¼Œè¿™ä¼šå°†æŸ¥è¯¢éšå¼è½¬æ¢ä¸º INNER JOIN ã€‚å¦‚ï¼šselect c from L left join R using(c) where L.a=5 and R.b=10ã€‚è¿™ç§ SQL é€»è¾‘ä¸Šå¯èƒ½å­˜åœ¨é”™è¯¯æˆ–ç¨‹åºå‘˜å¯¹ OUTER JOIN å¦‚ä½•å·¥ä½œå­˜åœ¨è¯¯è§£ï¼Œå› ä¸º LEFT/RIGHT JOIN æ˜¯ LEFT/RIGHT OUTER JOIN çš„ç¼©å†™ã€‚ Case: 1select c1,c2,c3 from t1 left outer join t2 using(c1) where t1.c2=2 and t2.c3=4 ä¸å»ºè®®ä½¿ç”¨æ’å®ƒ JOIN Item:JOI.004 Severity:L4 Content:åªåœ¨å³ä¾§è¡¨ä¸º NULL çš„å¸¦ WHERE å­å¥çš„ LEFT OUTER JOIN è¯­å¥ï¼Œæœ‰å¯èƒ½æ˜¯åœ¨WHEREå­å¥ä¸­ä½¿ç”¨é”™è¯¯çš„åˆ—ï¼Œå¦‚ï¼šâ€œâ€¦ FROM l LEFT OUTER JOIN r ON l.l = r.r WHERE r.z IS NULLâ€ï¼Œè¿™ä¸ªæŸ¥è¯¢æ­£ç¡®çš„é€»è¾‘å¯èƒ½æ˜¯ WHERE r.r IS NULLã€‚ Case: 1select c1,c2,c3 from t1 left outer join t2 on t1.c1=t2.c1 where t2.c2 is null å‡å°‘ JOIN çš„æ•°é‡ Item:JOI.005 Severity:L2 Content:å¤ªå¤šçš„ JOIN æ˜¯å¤æ‚çš„è£¹è„šå¸ƒå¼æŸ¥è¯¢çš„ç—‡çŠ¶ã€‚è€ƒè™‘å°†å¤æ‚æŸ¥è¯¢åˆ†è§£æˆè®¸å¤šç®€å•çš„æŸ¥è¯¢ï¼Œå¹¶å‡å°‘ JOIN çš„æ•°é‡ã€‚ Case: 1select bp1.p_id, b1.d_d as l, b1.b_id from b1 join bp1 on (b1.b_id = bp1.b_id) left outer join (b1 as b2 join bp2 on (b2.b_id = bp2.b_id)) on (bp1.p_id = bp2.p_id ) join bp21 on (b1.b_id = bp1.b_id) join bp31 on (b1.b_id = bp1.b_id) join bp41 on (b1.b_id = bp1.b_id) where b2.b_id = 0 å°†åµŒå¥—æŸ¥è¯¢é‡å†™ä¸º JOIN é€šå¸¸ä¼šå¯¼è‡´æ›´é«˜æ•ˆçš„æ‰§è¡Œå’Œæ›´æœ‰æ•ˆçš„ä¼˜åŒ– Item:JOI.006 Severity:L4 Content:ä¸€èˆ¬æ¥è¯´ï¼ŒéåµŒå¥—å­æŸ¥è¯¢æ€»æ˜¯ç”¨äºå…³è”å­æŸ¥è¯¢ï¼Œæœ€å¤šæ˜¯æ¥è‡ªFROMå­å¥ä¸­çš„ä¸€ä¸ªè¡¨ï¼Œè¿™äº›å­æŸ¥è¯¢ç”¨äº ANY, ALL å’Œ EXISTS çš„è°“è¯ã€‚å¦‚æœå¯ä»¥æ ¹æ®æŸ¥è¯¢è¯­ä¹‰å†³å®šå­æŸ¥è¯¢æœ€å¤šè¿”å›ä¸€ä¸ªè¡Œï¼Œé‚£ä¹ˆä¸€ä¸ªä¸ç›¸å…³çš„å­æŸ¥è¯¢æˆ–æ¥è‡ªFROMå­å¥ä¸­çš„å¤šä¸ªè¡¨çš„å­æŸ¥è¯¢å°±è¢«å‹å¹³äº†ã€‚ Case: 1SELECT s,p,d FROM tbl WHERE p.p_id = (SELECT s.p_id FROM tbl WHERE s.c_id = 100996 AND s.q = 1 ) ä¸å»ºè®®ä½¿ç”¨è”è¡¨åˆ é™¤æˆ–æ›´æ–° Item:JOI.007 Severity:L4 Content:å½“éœ€è¦åŒæ—¶åˆ é™¤æˆ–æ›´æ–°å¤šå¼ è¡¨æ—¶å»ºè®®ä½¿ç”¨ç®€å•è¯­å¥ï¼Œä¸€æ¡ SQL åªåˆ é™¤æˆ–æ›´æ–°ä¸€å¼ è¡¨ï¼Œå°½é‡ä¸è¦å°†å¤šå¼ è¡¨çš„æ“ä½œåœ¨åŒä¸€æ¡è¯­å¥ã€‚ Case: 1UPDATE users u LEFT JOIN hobby h ON u.id = h.uid SET u.name = 'pianoboy' WHERE h.hobby = 'piano'; ä¸è¦ä½¿ç”¨è·¨æ•°æ®åº“çš„ JOIN æŸ¥è¯¢ Item:JOI.008 Severity:L4 Content:ä¸€èˆ¬æ¥è¯´ï¼Œè·¨æ•°æ®åº“çš„ JOIN æŸ¥è¯¢æ„å‘³ç€æŸ¥è¯¢è¯­å¥è·¨è¶Šäº†ä¸¤ä¸ªä¸åŒçš„å­ç³»ç»Ÿï¼Œè¿™å¯èƒ½æ„å‘³ç€ç³»ç»Ÿè€¦åˆåº¦è¿‡é«˜æˆ–åº“è¡¨ç»“æ„è®¾è®¡ä¸åˆç†ã€‚ Case: 1SELECT s,p,d FROM tbl WHERE p.p_id = (SELECT s.p_id FROM tbl WHERE s.c_id = 100996 AND s.q = 1 ) å»ºè®®ä½¿ç”¨è‡ªå¢åˆ—ä½œä¸ºä¸»é”®ï¼Œå¦‚ä½¿ç”¨è”åˆè‡ªå¢ä¸»é”®æ—¶è¯·å°†è‡ªå¢é”®ä½œä¸ºç¬¬ä¸€åˆ— Item:KEY.001 Severity:L2 Content:å»ºè®®ä½¿ç”¨è‡ªå¢åˆ—ä½œä¸ºä¸»é”®ï¼Œå¦‚ä½¿ç”¨è”åˆè‡ªå¢ä¸»é”®æ—¶è¯·å°†è‡ªå¢é”®ä½œä¸ºç¬¬ä¸€åˆ— Case: 1create table test(`id` int(11) NOT NULL PRIMARY KEY (`id`)) æ— ä¸»é”®æˆ–å”¯ä¸€é”®ï¼Œæ— æ³•åœ¨çº¿å˜æ›´è¡¨ç»“æ„ Item:KEY.002 Severity:L4 Content:æ— ä¸»é”®æˆ–å”¯ä¸€é”®ï¼Œæ— æ³•åœ¨çº¿å˜æ›´è¡¨ç»“æ„ Case: 1create table test(col varchar(5000)) é¿å…å¤–é”®ç­‰é€’å½’å…³ç³» Item:KEY.003 Severity:L4 Content:å­˜åœ¨é€’å½’å…³ç³»çš„æ•°æ®å¾ˆå¸¸è§ï¼Œæ•°æ®å¸¸ä¼šåƒæ ‘æˆ–è€…ä»¥å±‚çº§æ–¹å¼ç»„ç»‡ã€‚ç„¶è€Œï¼Œåˆ›å»ºä¸€ä¸ªå¤–é”®çº¦æŸæ¥å¼ºåˆ¶æ‰§è¡ŒåŒä¸€è¡¨ä¸­ä¸¤åˆ—ä¹‹é—´çš„å…³ç³»ï¼Œä¼šå¯¼è‡´ç¬¨æ‹™çš„æŸ¥è¯¢ã€‚æ ‘çš„æ¯ä¸€å±‚å¯¹åº”ç€å¦ä¸€ä¸ªè¿æ¥ã€‚æ‚¨å°†éœ€è¦å‘å‡ºé€’å½’æŸ¥è¯¢ï¼Œä»¥è·å¾—èŠ‚ç‚¹çš„æ‰€æœ‰åä»£æˆ–æ‰€æœ‰ç¥–å…ˆã€‚è§£å†³æ–¹æ¡ˆæ˜¯æ„é€ ä¸€ä¸ªé™„åŠ çš„é—­åŒ…è¡¨ã€‚å®ƒè®°å½•äº†æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹é—´çš„å…³ç³»ï¼Œè€Œä¸ä»…ä»…æ˜¯é‚£äº›å…·æœ‰ç›´æ¥çš„çˆ¶å­å…³ç³»ã€‚æ‚¨ä¹Ÿå¯ä»¥æ¯”è¾ƒä¸åŒå±‚æ¬¡çš„æ•°æ®è®¾è®¡ï¼šé—­åŒ…è¡¨ï¼Œè·¯å¾„æšä¸¾ï¼ŒåµŒå¥—é›†ã€‚ç„¶åæ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€è¦é€‰æ‹©ä¸€ä¸ªã€‚ Case: 1CREATE TABLE tab2 (p_id BIGINT UNSIGNED NOT NULL,a_id BIGINT UNSIGNED NOT NULL,PRIMARY KEY (p_id, a_id),FOREIGN KEY (p_id) REFERENCES tab1(p_id),FOREIGN KEY (a_id) REFERENCES tab3(a_id)) æé†’ï¼šè¯·å°†ç´¢å¼•å±æ€§é¡ºåºä¸æŸ¥è¯¢å¯¹é½ Item:KEY.004 Severity:L0 Content:å¦‚æœä¸ºåˆ—åˆ›å»ºå¤åˆç´¢å¼•ï¼Œè¯·ç¡®ä¿æŸ¥è¯¢å±æ€§ä¸ç´¢å¼•å±æ€§çš„é¡ºåºç›¸åŒï¼Œä»¥ä¾¿DBMSåœ¨å¤„ç†æŸ¥è¯¢æ—¶ä½¿ç”¨ç´¢å¼•ã€‚å¦‚æœæŸ¥è¯¢å’Œç´¢å¼•å±æ€§è®¢å•æ²¡æœ‰å¯¹é½ï¼Œé‚£ä¹ˆDBMSå¯èƒ½æ— æ³•åœ¨æŸ¥è¯¢å¤„ç†æœŸé—´ä½¿ç”¨ç´¢å¼•ã€‚ Case: 1create index idx1 on tbl (last_name,first_name) è¡¨å»ºçš„ç´¢å¼•è¿‡å¤š Item:KEY.005 Severity:L2 Content:è¡¨å»ºçš„ç´¢å¼•è¿‡å¤š Case: 1CREATE TABLE tbl ( a int, b int, c int, KEY idx_a (`a`),KEY idx_b(`b`),KEY idx_c(`c`)); ä¸»é”®ä¸­çš„åˆ—è¿‡å¤š Item:KEY.006 Severity:L4 Content:ä¸»é”®ä¸­çš„åˆ—è¿‡å¤š Case: 1CREATE TABLE tbl ( a int, b int, c int, PRIMARY KEY(`a`,`b`,`c`)); æœªæŒ‡å®šä¸»é”®æˆ–ä¸»é”®é bigint Item:KEY.007 Severity:L4 Content:æœªæŒ‡å®šä¸»é”®æˆ–ä¸»é”®é bigintï¼Œå»ºè®®å°†ä¸»é”®è®¾ç½®ä¸º bigint unsignedã€‚ Case: 1CREATE TABLE tbl (a bigint); ORDER BY å¤šä¸ªåˆ—ä½†æ’åºæ–¹å‘ä¸åŒæ—¶å¯èƒ½æ— æ³•ä½¿ç”¨ç´¢å¼• Item:KEY.008 Severity:L4 Content:åœ¨ MySQL 8.0ä¹‹å‰å½“ ORDER BY å¤šä¸ªåˆ—æŒ‡å®šçš„æ’åºæ–¹å‘ä¸åŒæ—¶å°†æ— æ³•ä½¿ç”¨å·²ç»å»ºç«‹çš„ç´¢å¼•ã€‚ Case: 1SELECT * FROM tbl ORDER BY a DESC, b ASC; æ·»åŠ å”¯ä¸€ç´¢å¼•å‰è¯·æ³¨æ„æ£€æŸ¥æ•°æ®å”¯ä¸€æ€§ Item:KEY.009 Severity:L0 Content:è¯·æå‰æ£€æŸ¥æ·»åŠ å”¯ä¸€ç´¢å¼•åˆ—çš„æ•°æ®å”¯ä¸€æ€§ï¼Œå¦‚æœæ•°æ®ä¸å”¯ä¸€åœ¨çº¿è¡¨ç»“æ„è°ƒæ•´æ—¶å°†æœ‰å¯èƒ½è‡ªåŠ¨å°†é‡å¤åˆ—åˆ é™¤ï¼Œè¿™æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚ Case: 1CREATE UNIQUE INDEX part_of_name ON customer (name(10)); å…¨æ–‡ç´¢å¼•ä¸æ˜¯é“¶å¼¹ Item:KEY.010 Severity:L0 Content:å…¨æ–‡ç´¢å¼•ä¸»è¦ç”¨äºè§£å†³æ¨¡ç³ŠæŸ¥è¯¢çš„æ€§èƒ½é—®é¢˜ï¼Œä½†éœ€è¦æ§åˆ¶å¥½æŸ¥è¯¢çš„é¢‘ç‡å’Œå¹¶å‘åº¦ã€‚åŒæ—¶æ³¨æ„è°ƒæ•´ ft_min_word_len, ft_max_word_len, ngram_token_size ç­‰å‚æ•°ã€‚ Case: 1CREATE TABLE `tb` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `ip` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`id`), FULLTEXT KEY `ip` (`ip`) ) ENGINE=InnoDB; SQL_CALC_FOUND_ROWS æ•ˆç‡ä½ä¸‹ Item:KWR.001 Severity:L2 Content:å› ä¸º SQL_CALC_FOUND_ROWS ä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•ï¼Œæ‰€ä»¥å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜; å»ºè®®ä¸šåŠ¡ä½¿ç”¨å…¶ä»–ç­–ç•¥æ¥æ›¿ä»£ SQL_CALC_FOUND_ROWS æä¾›çš„è®¡æ•°åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šåˆ†é¡µç»“æœå±•ç¤ºç­‰ã€‚ Case: 1select SQL_CALC_FOUND_ROWS col from tbl where id&gt;1000 ä¸å»ºè®®ä½¿ç”¨ MySQL å…³é”®å­—åšåˆ—åæˆ–è¡¨å Item:KWR.002 Severity:L2 Content:å½“ä½¿ç”¨å…³é”®å­—åšä¸ºåˆ—åæˆ–è¡¨åæ—¶ç¨‹åºéœ€è¦å¯¹åˆ—åå’Œè¡¨åè¿›è¡Œè½¬ä¹‰ï¼Œå¦‚æœç–å¿½è¢«å°†å¯¼è‡´è¯·æ±‚æ— æ³•æ‰§è¡Œã€‚ Case: 1CREATE TABLE tbl ( `select` int ) ä¸å»ºè®®ä½¿ç”¨å¤æ•°åšåˆ—åæˆ–è¡¨å Item:KWR.003 Severity:L1 Content:è¡¨ååº”è¯¥ä»…ä»…è¡¨ç¤ºè¡¨é‡Œé¢çš„å®ä½“å†…å®¹ï¼Œä¸åº”è¯¥è¡¨ç¤ºå®ä½“æ•°é‡ï¼Œå¯¹åº”äº DO ç±»åä¹Ÿæ˜¯å•æ•°å½¢å¼ï¼Œç¬¦åˆè¡¨è¾¾ä¹ æƒ¯ã€‚ Case: 1CREATE TABLE tbl ( `books` int ) ä¸å»ºè®®ä½¿ç”¨ä½¿ç”¨å¤šå­—èŠ‚ç¼–ç å­—ç¬¦(ä¸­æ–‡)å‘½å Item:KWR.004 Severity:L1 Content:ä¸ºåº“ã€è¡¨ã€åˆ—ã€åˆ«åå‘½åæ—¶å»ºè®®ä½¿ç”¨è‹±æ–‡ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ç­‰å­—ç¬¦ï¼Œä¸å»ºè®®ä½¿ç”¨ä¸­æ–‡æˆ–å…¶ä»–å¤šå­—èŠ‚ç¼–ç å­—ç¬¦ã€‚ Case: 1select col as åˆ— from tb INSERT INTO xx SELECT åŠ é”ç²’åº¦è¾ƒå¤§è¯·è°¨æ… Item:LCK.001 Severity:L3 Content:INSERT INTO xx SELECT åŠ é”ç²’åº¦è¾ƒå¤§è¯·è°¨æ… Case: 1INSERT INTO tbl SELECT * FROM tbl2; è¯·æ…ç”¨ INSERT ON DUPLICATE KEY UPDATE Item:LCK.002 Severity:L3 Content:å½“ä¸»é”®ä¸ºè‡ªå¢é”®æ—¶ä½¿ç”¨ INSERT ON DUPLICATE KEY UPDATE å¯èƒ½ä¼šå¯¼è‡´ä¸»é”®å‡ºç°å¤§é‡ä¸è¿ç»­å¿«é€Ÿå¢é•¿ï¼Œå¯¼è‡´ä¸»é”®å¿«é€Ÿæº¢å‡ºæ— æ³•ç»§ç»­å†™å…¥ã€‚æç«¯æƒ…å†µä¸‹è¿˜æœ‰å¯èƒ½å¯¼è‡´ä¸»ä»æ•°æ®ä¸ä¸€è‡´ã€‚ Case: 1INSERT INTO t1(a,b,c) VALUES (1,2,3) ON DUPLICATE KEY UPDATE c=c+1; ç”¨å­—ç¬¦ç±»å‹å­˜å‚¨IPåœ°å€ Item:LIT.001 Severity:L2 Content:å­—ç¬¦ä¸²å­—é¢ä¸Šçœ‹èµ·æ¥åƒIPåœ°å€ï¼Œä½†ä¸æ˜¯ INET_ATON() çš„å‚æ•°ï¼Œè¡¨ç¤ºæ•°æ®è¢«å­˜å‚¨ä¸ºå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°ã€‚å°†IPåœ°å€å­˜å‚¨ä¸ºæ•´æ•°æ›´ä¸ºæœ‰æ•ˆã€‚ Case: 1insert into tbl (IP,name) values('10.20.306.122','test') æ—¥æœŸ/æ—¶é—´æœªä½¿ç”¨å¼•å·æ‹¬èµ· Item:LIT.002 Severity:L4 Content:è¯¸å¦‚â€œWHERE col &lt;2010-02-12â€ä¹‹ç±»çš„æŸ¥è¯¢æ˜¯æœ‰æ•ˆçš„SQLï¼Œä½†å¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºå®ƒå°†è¢«è§£é‡Šä¸ºâ€œWHERE col &lt;1996â€; æ—¥æœŸ/æ—¶é—´æ–‡å­—åº”è¯¥åŠ å¼•å·ã€‚ Case: 1select col1,col2 from tbl where time &lt; 2018-01-10 ä¸€åˆ—ä¸­å­˜å‚¨ä¸€ç³»åˆ—ç›¸å…³æ•°æ®çš„é›†åˆ Item:LIT.003 Severity:L3 Content:å°† ID å­˜å‚¨ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œä½œä¸º VARCHAR/TEXT åˆ—ï¼Œè¿™æ ·èƒ½å¯¼è‡´æ€§èƒ½å’Œæ•°æ®å®Œæ•´æ€§é—®é¢˜ã€‚æŸ¥è¯¢è¿™æ ·çš„åˆ—éœ€è¦ä½¿ç”¨æ¨¡å¼åŒ¹é…çš„è¡¨è¾¾å¼ã€‚ä½¿ç”¨é€—å·åˆ†éš”çš„åˆ—è¡¨æ¥åšå¤šè¡¨è”ç»“æŸ¥è¯¢å®šä½ä¸€è¡Œæ•°æ®æ˜¯æä¸ä¼˜é›…å’Œè€—æ—¶çš„ã€‚è¿™å°†ä½¿éªŒè¯ ID æ›´åŠ å›°éš¾ã€‚è€ƒè™‘ä¸€ä¸‹ï¼Œåˆ—è¡¨æœ€å¤šæ”¯æŒå­˜æ”¾å¤šå°‘æ•°æ®å‘¢ï¼Ÿå°† ID å­˜å‚¨åœ¨ä¸€å¼ å•ç‹¬çš„è¡¨ä¸­ï¼Œä»£æ›¿ä½¿ç”¨å¤šå€¼å±æ€§ï¼Œä»è€Œæ¯ä¸ªå•ç‹¬çš„å±æ€§å€¼éƒ½å¯ä»¥å æ®ä¸€è¡Œã€‚è¿™æ ·äº¤å‰è¡¨å®ç°äº†ä¸¤å¼ è¡¨ä¹‹é—´çš„å¤šå¯¹å¤šå…³ç³»ã€‚è¿™å°†æ›´å¥½åœ°ç®€åŒ–æŸ¥è¯¢ï¼Œä¹Ÿæ›´æœ‰æ•ˆåœ°éªŒè¯IDã€‚ Case: 1select c1,c2,c3,c4 from tab1 where col_id REGEXP '[[:&lt;:]]12[[:&gt;:]]' è¯·ä½¿ç”¨åˆ†å·æˆ–å·²è®¾å®šçš„ DELIMITER ç»“å°¾ Item:LIT.004 Severity:L1 Content:USE database, SHOW DATABASES ç­‰å‘½ä»¤ä¹Ÿéœ€è¦ä½¿ç”¨ä½¿ç”¨åˆ†å·æˆ–å·²è®¾å®šçš„ DELIMITER ç»“å°¾ã€‚ Case: 1USE db éç¡®å®šæ€§çš„ GROUP BY Item:RES.001 Severity:L4 Content:SQLè¿”å›çš„åˆ—æ—¢ä¸åœ¨èšåˆå‡½æ•°ä¸­ä¹Ÿä¸æ˜¯ GROUP BY è¡¨è¾¾å¼çš„åˆ—ä¸­ï¼Œå› æ­¤è¿™äº›å€¼çš„ç»“æœå°†æ˜¯éç¡®å®šæ€§çš„ã€‚å¦‚ï¼šselect a, b, c from tbl where foo=â€barâ€ group by aï¼Œè¯¥ SQL è¿”å›çš„ç»“æœå°±æ˜¯ä¸ç¡®å®šçš„ã€‚ Case: 1select c1,c2,c3 from t1 where c2='foo' group by c2 æœªä½¿ç”¨ ORDER BY çš„ LIMIT æŸ¥è¯¢ Item:RES.002 Severity:L4 Content:æ²¡æœ‰ ORDER BY çš„ LIMIT ä¼šå¯¼è‡´éç¡®å®šæ€§çš„ç»“æœï¼Œè¿™å–å†³äºæŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ã€‚ Case: 1select col1,col2 from tbl where name=xx limit 10 UPDATE/DELETE æ“ä½œä½¿ç”¨äº† LIMIT æ¡ä»¶ Item:RES.003 Severity:L4 Content:UPDATE/DELETE æ“ä½œä½¿ç”¨ LIMIT æ¡ä»¶å’Œä¸æ·»åŠ  WHERE æ¡ä»¶ä¸€æ ·å±é™©ï¼Œå®ƒå¯å°†ä¼šå¯¼è‡´ä¸»ä»æ•°æ®ä¸ä¸€è‡´æˆ–ä»åº“åŒæ­¥ä¸­æ–­ã€‚ Case: 1UPDATE film SET length = 120 WHERE title = 'abc' LIMIT 1; UPDATE/DELETE æ“ä½œæŒ‡å®šäº† ORDER BY æ¡ä»¶ Item:RES.004 Severity:L4 Content:UPDATE/DELETE æ“ä½œä¸è¦æŒ‡å®š ORDER BY æ¡ä»¶ã€‚ Case: 1UPDATE film SET length = 120 WHERE title = 'abc' ORDER BY title UPDATE è¯­å¥å¯èƒ½å­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œå¯¼è‡´æ•°æ®æŸå Item:RES.005 Severity:L4 Content:åœ¨ä¸€æ¡ UPDATE è¯­å¥ä¸­ï¼Œå¦‚æœè¦æ›´æ–°å¤šä¸ªå­—æ®µï¼Œå­—æ®µé—´ä¸èƒ½ä½¿ç”¨ AND ï¼Œè€Œåº”è¯¥ç”¨é€—å·åˆ†éš”ã€‚ Case: 1update tbl set col = 1 and cl = 2 where col=3; æ°¸è¿œä¸çœŸçš„æ¯”è¾ƒæ¡ä»¶ Item:RES.006 Severity:L4 Content:æŸ¥è¯¢æ¡ä»¶æ°¸è¿œéçœŸï¼Œå¦‚æœè¯¥æ¡ä»¶å‡ºç°åœ¨ where ä¸­å¯èƒ½å¯¼è‡´æŸ¥è¯¢æ— åŒ¹é…åˆ°çš„ç»“æœã€‚ Case: 1select * from tbl where 1 != 1; æ°¸è¿œä¸ºçœŸçš„æ¯”è¾ƒæ¡ä»¶ Item:RES.007 Severity:L4 Content:æŸ¥è¯¢æ¡ä»¶æ°¸è¿œä¸ºçœŸï¼Œå¯èƒ½å¯¼è‡´ WHERE æ¡ä»¶å¤±æ•ˆè¿›è¡Œå…¨è¡¨æŸ¥è¯¢ã€‚ Case: 1select * from tbl where 1 = 1; ä¸å»ºè®®ä½¿ç”¨LOAD DATA/SELECT â€¦ INTO OUTFILE Item:RES.008 Severity:L2 Content:SELECT INTO OUTFILE éœ€è¦æˆäºˆ FILE æƒé™ï¼Œè¿™é€šè¿‡ä¼šå¼•å…¥å®‰å…¨é—®é¢˜ã€‚LOAD DATA è™½ç„¶å¯ä»¥æé«˜æ•°æ®å¯¼å…¥é€Ÿåº¦ï¼Œä½†åŒæ—¶ä¹Ÿå¯èƒ½å¯¼è‡´ä»åº“åŒæ­¥å»¶è¿Ÿè¿‡å¤§ã€‚ Case: 1LOAD DATA INFILE 'data.txt' INTO TABLE db2.my_table; è¯·è°¨æ…ä½¿ç”¨TRUNCATEæ“ä½œ Item:SEC.001 Severity:L0 Content:ä¸€èˆ¬æ¥è¯´æƒ³æ¸…ç©ºä¸€å¼ è¡¨æœ€å¿«é€Ÿçš„åšæ³•å°±æ˜¯ä½¿ç”¨TRUNCATE TABLE tbl_name;è¯­å¥ã€‚ä½†TRUNCATEæ“ä½œä¹Ÿå¹¶éæ˜¯æ¯«æ— ä»£ä»·çš„ï¼ŒTRUNCATE TABLEæ— æ³•è¿”å›è¢«åˆ é™¤çš„å‡†ç¡®è¡Œæ•°ï¼Œå¦‚æœéœ€è¦è¿”å›è¢«åˆ é™¤çš„è¡Œæ•°å»ºè®®ä½¿ç”¨DELETEè¯­æ³•ã€‚TRUNCATE æ“ä½œè¿˜ä¼šé‡ç½® AUTO_INCREMENTï¼Œå¦‚æœä¸æƒ³é‡ç½®è¯¥å€¼å»ºè®®ä½¿ç”¨ DELETE FROM tbl_name WHERE 1;æ›¿ä»£ã€‚TRUNCATE æ“ä½œä¼šå¯¹æ•°æ®å­—å…¸æ·»åŠ æºæ•°æ®é”(MDL)ï¼Œå½“ä¸€æ¬¡éœ€è¦ TRUNCATE å¾ˆå¤šè¡¨æ—¶ä¼šå½±å“æ•´ä¸ªå®ä¾‹çš„æ‰€æœ‰è¯·æ±‚ï¼Œå› æ­¤å¦‚æœè¦ TRUNCATE å¤šä¸ªè¡¨å»ºè®®ç”¨ DROP+CREATE çš„æ–¹å¼ä»¥å‡å°‘é”æ—¶é•¿ã€‚ Case: 1TRUNCATE TABLE tbl_name ä¸ä½¿ç”¨æ˜æ–‡å­˜å‚¨å¯†ç  Item:SEC.002 Severity:L0 Content:ä½¿ç”¨æ˜æ–‡å­˜å‚¨å¯†ç æˆ–è€…ä½¿ç”¨æ˜æ–‡åœ¨ç½‘ç»œä¸Šä¼ é€’å¯†ç éƒ½æ˜¯ä¸å®‰å…¨çš„ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿæˆªè·æ‚¨ç”¨æ¥æ’å…¥å¯†ç çš„SQLè¯­å¥ï¼Œä»–ä»¬å°±èƒ½ç›´æ¥è¯»åˆ°å¯†ç ã€‚å¦å¤–ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ä»¥æ˜æ–‡çš„å½¢å¼æ’å…¥åˆ°çº¯SQLè¯­å¥ä¸­ï¼Œä¹Ÿä¼šè®©æ”»å‡»è€…å‘ç°å®ƒã€‚å¦‚æœæ‚¨èƒ½å¤Ÿè¯»å–å¯†ç ï¼Œé»‘å®¢ä¹Ÿå¯ä»¥ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å•å‘å“ˆå¸Œå‡½æ•°å¯¹åŸå§‹å¯†ç è¿›è¡ŒåŠ å¯†ç¼–ç ã€‚å“ˆå¸Œæ˜¯æŒ‡å°†è¾“å…¥å­—ç¬¦ä¸²è½¬åŒ–æˆå¦ä¸€ä¸ªæ–°çš„ã€ä¸å¯è¯†åˆ«çš„å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚å¯¹å¯†ç åŠ å¯†è¡¨è¾¾å¼åŠ ç‚¹éšæœºä¸²æ¥é˜²å¾¡â€œå­—å…¸æ”»å‡»â€ã€‚ä¸è¦å°†æ˜æ–‡å¯†ç è¾“å…¥åˆ°SQLæŸ¥è¯¢è¯­å¥ä¸­ã€‚åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­è®¡ç®—å“ˆå¸Œä¸²ï¼Œåªåœ¨SQLæŸ¥è¯¢ä¸­ä½¿ç”¨å“ˆå¸Œä¸²ã€‚ Case: 1create table test(id int,name varchar(20) not null,password varchar(200)not null) ä½¿ç”¨DELETE/DROP/TRUNCATEç­‰æ“ä½œæ—¶æ³¨æ„å¤‡ä»½ Item:SEC.003 Severity:L0 Content:åœ¨æ‰§è¡Œé«˜å±æ“ä½œä¹‹å‰å¯¹æ•°æ®è¿›è¡Œå¤‡ä»½æ˜¯ååˆ†æœ‰å¿…è¦çš„ã€‚ Case: 1delete from table where col = 'condition' å»ºè®®ä½¿ç”¨ datetime æ›¿æ¢ timestamp ç±»å‹ Item:SKEY.005 Severity:L4 Content:å»ºè®®ä½¿ç”¨ datetime æ›¿æ¢ timestamp ç±»å‹ï¼Œä¸”é»˜è®¤å€¼è®¾ç½®ä¸º 1970-01-01 00:00:00ã€‚ datetime ç±»å‹èƒ½ä¿å­˜å¤§èŒƒå›´çš„å€¼ï¼Œä»1001å¹´åˆ°9999å¹´ï¼Œä¸”ä¸æ—¶åŒºæ— å…³ã€‚ä½¿ç”¨8ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼ˆæ¯” timestamp å¤šå‡º4å­—èŠ‚ï¼‰ Case: 1CREATE TABLE tbl (a datetime); ç¼ºå°‘æ•°æ®åº“å¿…é¡»å­—æ®µ last_update_time å’Œ is_del Item:SKEY.006 Severity:L4 Content:æ•°æ®åº“å¿…é¡»å­—æ®µ ï¼ˆ`last_update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT â€˜æœ€åæ›´æ–°æ—¶é—´â€™; `is_del` TINYINT (1) UNSIGNED NOT NULL DEFAULT â€˜0â€™ COMMENT â€˜æ˜¯å¦åˆ é™¤ 0ï¼šæœªåˆ é™¤ 1ï¼šå·²åˆ é™¤â€™ï¼‰ Case: 1CREATE TABLE tbl ï¼ˆ`last_update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æœ€åæ›´æ–°æ—¶é—´'; `is_del` TINYINT (1) UNSIGNED NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦åˆ é™¤ 0ï¼šæœªåˆ é™¤ 1ï¼šå·²åˆ é™¤'ï¼‰; last_update_time å’Œ is_del ç±»å‹ä¸å¯¹ Item:SKEY.006a Severity:L4 Content:æ•°æ®åº“å¿…é¡»å­—æ®µ ï¼ˆ`last_update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT â€˜æœ€åæ›´æ–°æ—¶é—´â€™; `is_del` TINYINT (1) UNSIGNED NOT NULL DEFAULT â€˜0â€™ COMMENT â€˜æ˜¯å¦åˆ é™¤ 0ï¼šæœªåˆ é™¤ 1ï¼šå·²åˆ é™¤â€™ï¼‰ Case: 1CREATE TABLE tbl ï¼ˆ`last_update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æœ€åæ›´æ–°æ—¶é—´'; `is_del` TINYINT (1) UNSIGNED NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦åˆ é™¤ 0ï¼šæœªåˆ é™¤ 1ï¼šå·²åˆ é™¤'ï¼‰; ä¸å»ºè®®ä½¿ç”¨å¤§å­—æ®µ TEXT BLOB Item:SKEY.010 Severity:L1 Content:BLOB å’Œ TEXT éƒ½æ˜¯ä¸ºå­˜å‚¨å¾ˆå¤§çš„æ•°æ®è€Œè®¾è®¡çš„å­—ç¬¦ä¸²æ•°æ®ç±»å‹ï¼Œä¸”æ€§èƒ½å¼€é”€è¾ƒå¤§ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰å¿…è¦ä½¿ç”¨ Case: 1CREATE TABLE tbl ï¼ˆa TEXTï¼‰; æ•´å½¢å»ºè®®ä½¿ç”¨ unsigned Item:SKEY.011 Severity:L1 Content:è¯·æ£€æŸ¥æ•´å½¢æ˜¯å¦æœ‰è´Ÿæ•°åœºæ™¯ï¼Œå¦‚æ— ç‰¹æ®Šåœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨ unsigned Case: 1CREATE TABLE tbl ï¼ˆa int unsignedï¼‰; â€˜!=â€™ è¿ç®—ç¬¦æ˜¯éæ ‡å‡†çš„ Item:STA.001 Severity:L0 Content:â€&lt;&gt;â€æ‰æ˜¯æ ‡å‡†SQLä¸­çš„ä¸ç­‰äºè¿ç®—ç¬¦ã€‚ Case: 1select col1,col2 from tbl where type!=0 åº“åæˆ–è¡¨åç‚¹åå»ºè®®ä¸è¦åŠ ç©ºæ ¼ Item:STA.002 Severity:L1 Content:å½“ä½¿ç”¨ db.table æˆ– table.column æ ¼å¼è®¿é—®è¡¨æˆ–å­—æ®µæ—¶ï¼Œè¯·ä¸è¦åœ¨ç‚¹å·åé¢æ·»åŠ ç©ºæ ¼ï¼Œè™½ç„¶è¿™æ ·è¯­æ³•æ­£ç¡®ã€‚ Case: 1select col from sakila. film ç´¢å¼•èµ·åä¸è§„èŒƒ Item:STA.003 Severity:L1 Content:å»ºè®®æ™®é€šäºŒçº§ç´¢å¼•ä»¥idx_ä¸ºå‰ç¼€ï¼Œå”¯ä¸€ç´¢å¼•ä»¥uniq_ä¸ºå‰ç¼€ã€‚ Case: 1select col from now where type!=0 èµ·åæ—¶è¯·ä¸è¦ä½¿ç”¨å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ä¹‹å¤–çš„å­—ç¬¦ Item:STA.004 Severity:L1 Content:ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåå­—åªå…è®¸ä½¿ç”¨å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚è¯·ç»Ÿä¸€å¤§å°å†™ï¼Œä¸è¦ä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚ä¸è¦åœ¨åå­—ä¸­å‡ºç°è¿ç»­ä¸‹åˆ’çº¿â€™__â€˜ï¼Œè¿™æ ·å¾ˆéš¾è¾¨è®¤ã€‚ Case: 1CREATE TABLE ` abc` (a int); MySQL å¯¹å­æŸ¥è¯¢çš„ä¼˜åŒ–æ•ˆæœä¸ä½³ Item:SUB.001 Severity:L4 Content:MySQL å°†å¤–éƒ¨æŸ¥è¯¢ä¸­çš„æ¯ä¸€è¡Œä½œä¸ºä¾èµ–å­æŸ¥è¯¢æ‰§è¡Œå­æŸ¥è¯¢ã€‚ è¿™æ˜¯å¯¼è‡´ä¸¥é‡æ€§èƒ½é—®é¢˜çš„å¸¸è§åŸå› ã€‚è¿™å¯èƒ½ä¼šåœ¨ MySQL 5.6 ç‰ˆæœ¬ä¸­å¾—åˆ°æ”¹å–„, ä½†å¯¹äº5.1åŠæ›´æ—©ç‰ˆæœ¬, å»ºè®®å°†è¯¥ç±»æŸ¥è¯¢åˆ†åˆ«é‡å†™ä¸º JOIN æˆ– LEFT OUTER JOINã€‚ Case: 1select col1,col2,col3 from table1 where col2 in(select col from table2) å¦‚æœæ‚¨ä¸åœ¨ä¹é‡å¤çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ UNION ALL æ›¿ä»£ UNION Item:SUB.002 Severity:L2 Content:ä¸å»é™¤é‡å¤çš„UNIONä¸åŒï¼ŒUNION ALLå…è®¸é‡å¤å…ƒç»„ã€‚å¦‚æœæ‚¨ä¸å…³å¿ƒé‡å¤å…ƒç»„ï¼Œé‚£ä¹ˆä½¿ç”¨UNION ALLå°†æ˜¯ä¸€ä¸ªæ›´å¿«çš„é€‰é¡¹ã€‚ Case: 1select teacher_id as id,people_name as name from t1,t2 where t1.teacher_id=t2.people_id union select student_id as id,people_name as name from t1,t2 where t1.student_id=t2.people_id è€ƒè™‘ä½¿ç”¨ EXISTS è€Œä¸æ˜¯ DISTINCT å­æŸ¥è¯¢ Item:SUB.003 Severity:L3 Content:DISTINCT å…³é”®å­—åœ¨å¯¹å…ƒç»„æ’åºååˆ é™¤é‡å¤ã€‚ç›¸åï¼Œè€ƒè™‘ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰ EXISTS å…³é”®å­—çš„å­æŸ¥è¯¢ï¼Œæ‚¨å¯ä»¥é¿å…è¿”å›æ•´ä¸ªè¡¨ã€‚ Case: 1SELECT DISTINCT c.c_id, c.c_name FROM c,e WHERE e.c_id = c.c_id æ‰§è¡Œè®¡åˆ’ä¸­åµŒå¥—è¿æ¥æ·±åº¦è¿‡æ·± Item:SUB.004 Severity:L3 Content:MySQLå¯¹å­æŸ¥è¯¢çš„ä¼˜åŒ–æ•ˆæœä¸ä½³,MySQLå°†å¤–éƒ¨æŸ¥è¯¢ä¸­çš„æ¯ä¸€è¡Œä½œä¸ºä¾èµ–å­æŸ¥è¯¢æ‰§è¡Œå­æŸ¥è¯¢ã€‚ è¿™æ˜¯å¯¼è‡´ä¸¥é‡æ€§èƒ½é—®é¢˜çš„å¸¸è§åŸå› ã€‚ Case: 1SELECT * from tb where id in (select id from (select id from tb)) å­æŸ¥è¯¢ä¸æ”¯æŒLIMIT Item:SUB.005 Severity:L8 Content:å½“å‰ MySQL ç‰ˆæœ¬ä¸æ”¯æŒåœ¨å­æŸ¥è¯¢ä¸­è¿›è¡Œ â€˜LIMIT &amp; IN/ALL/ANY/SOMEâ€™ã€‚ Case: 1SELECT * FROM staff WHERE name IN (SELECT NAME FROM customer ORDER BY name LIMIT 1) ä¸å»ºè®®åœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨å‡½æ•° Item:SUB.006 Severity:L2 Content:MySQLå°†å¤–éƒ¨æŸ¥è¯¢ä¸­çš„æ¯ä¸€è¡Œä½œä¸ºä¾èµ–å­æŸ¥è¯¢æ‰§è¡Œå­æŸ¥è¯¢ï¼Œå¦‚æœåœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨å‡½æ•°ï¼Œå³ä½¿æ˜¯semi-joinä¹Ÿå¾ˆéš¾è¿›è¡Œé«˜æ•ˆçš„æŸ¥è¯¢ã€‚å¯ä»¥å°†å­æŸ¥è¯¢é‡å†™ä¸ºOUTER JOINè¯­å¥å¹¶ç”¨è¿æ¥æ¡ä»¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚ Case: 1SELECT * FROM staff WHERE name IN (SELECT max(NAME) FROM customer) ä¸å»ºè®®ä½¿ç”¨åˆ†åŒºè¡¨ Item:TBL.001 Severity:L4 Content:ä¸å»ºè®®ä½¿ç”¨åˆ†åŒºè¡¨ Case: 1CREATE TABLE trb3(id INT, name VARCHAR(50), purchased DATE) PARTITION BY RANGE(YEAR(purchased)) (PARTITION p0 VALUES LESS THAN (1990), PARTITION p1 VALUES LESS THAN (1995), PARTITION p2 VALUES LESS THAN (2000), PARTITION p3 VALUES LESS THAN (2005) ); è¯·ä¸ºè¡¨é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ Item:TBL.002 Severity:L4 Content:å»ºè¡¨æˆ–ä¿®æ”¹è¡¨çš„å­˜å‚¨å¼•æ“æ—¶å»ºè®®ä½¿ç”¨æ¨èçš„å­˜å‚¨å¼•æ“ï¼Œå¦‚ï¼šinnodb Case: 1create table test(`id` int(11) NOT NULL AUTO_INCREMENT) ä»¥DUALå‘½åçš„è¡¨åœ¨æ•°æ®åº“ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ Item:TBL.003 Severity:L8 Content:DUALè¡¨ä¸ºè™šæ‹Ÿè¡¨ï¼Œä¸éœ€è¦åˆ›å»ºå³å¯ä½¿ç”¨ï¼Œä¹Ÿä¸å»ºè®®æœåŠ¡ä»¥DUALå‘½åè¡¨ã€‚ Case: 1create table dual(id int, primary key (id)); è¡¨çš„åˆå§‹AUTO_INCREMENTå€¼ä¸ä¸º0 Item:TBL.004 Severity:L2 Content:AUTO_INCREMENTä¸ä¸º0ä¼šå¯¼è‡´æ•°æ®ç©ºæ´ã€‚ Case: 1CREATE TABLE tbl (a int) AUTO_INCREMENT = 10; è¯·ä½¿ç”¨æ¨èçš„å­—ç¬¦é›† Item:TBL.005 Severity:L4 Content:è¡¨å­—ç¬¦é›†åªå…è®¸è®¾ç½®ä¸ºutf8mb4 Case: 1CREATE TABLE tbl (a int) DEFAULT CHARSET = latin1; ä¸å»ºè®®ä½¿ç”¨è§†å›¾ Item:TBL.006 Severity:L1 Content:ä¸å»ºè®®ä½¿ç”¨è§†å›¾ Case: 1create view v_today (today) AS SELECT CURRENT_DATE; ä¸å»ºè®®ä½¿ç”¨ä¸´æ—¶è¡¨ Item:TBL.007 Severity:L1 Content:ä¸å»ºè®®ä½¿ç”¨ä¸´æ—¶è¡¨ Case: 1CREATE TEMPORARY TABLE `work` (`time` time DEFAULT NULL) ENGINE=InnoDB;","categories":[{"name":"MySQL","slug":"MySQL","permalink":"https://rovast.github.io/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://rovast.github.io/tags/MySQL/"},{"name":"soar","slug":"soar","permalink":"https://rovast.github.io/tags/soar/"}]},{"title":"ä½¿ç”¨ soar ä¼˜åŒ– MySQL","slug":"optimize-mysql-with-soar","date":"2018-12-20T15:00:52.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/20/optimize-mysql-with-soar/","link":"","permalink":"https://rovast.github.io/2018/12/20/optimize-mysql-with-soar/","excerpt":"","text":"ä»‹ç»é¡¹ç›®åœ°å€ï¼š https://github.com/XiaoMi/soar SOAR SOAR(SQL Optimizer And Rewriter)æ˜¯ä¸€ä¸ªå¯¹SQLè¿›è¡Œä¼˜åŒ–å’Œæ”¹å†™çš„è‡ªåŠ¨åŒ–å·¥å…·ã€‚ ç”±å°ç±³äººå·¥æ™ºèƒ½ä¸äº‘å¹³å°çš„æ•°æ®åº“å›¢é˜Ÿå¼€å‘ä¸ç»´æŠ¤ã€‚ åŠŸèƒ½ç‰¹ç‚¹ è·¨å¹³å°æ”¯æŒï¼ˆæ”¯æŒLinux, Macç¯å¢ƒï¼ŒWindowsç¯å¢ƒç†è®ºä¸Šä¹Ÿæ”¯æŒï¼Œä¸è¿‡æœªå…¨é¢æµ‹è¯•ï¼‰ ç›®å‰åªæ”¯æŒ MySQL è¯­æ³•æ—åè®®çš„SQLä¼˜åŒ– æ”¯æŒåŸºäºå¯å‘å¼ç®—æ³•çš„è¯­å¥ä¼˜åŒ– æ”¯æŒå¤æ‚æŸ¥è¯¢çš„å¤šåˆ—ç´¢å¼•ä¼˜åŒ–ï¼ˆUPDATE, INSERT, DELETE, SELECTï¼‰ æ”¯æŒEXPLAINä¿¡æ¯ä¸°å¯Œè§£è¯» æ”¯æŒSQLæŒ‡çº¹ã€å‹ç¼©å’Œç¾åŒ– æ”¯æŒåŒä¸€å¼ è¡¨å¤šæ¡ALTERè¯·æ±‚åˆå¹¶ æ”¯æŒè‡ªå®šä¹‰è§„åˆ™çš„SQLæ”¹å†™ ç»ˆç«¯è¿è¡Œä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ åœ¨ https://github.com/XiaoMi/soar/releases ä¸­ä¸‹è½½åˆé€‚çš„äºŒè¿›åˆ¶æ–‡ä»¶ è¿è¡Œæ•ˆæœ test.sql 12345678910CREATE TABLE `users` ( `id` int(10) UNSIGNED NOT NULL, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `email_verified_at` timestamp NULL DEFAULT NULL, `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `remember_token` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; soar -query test.sql 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# Query: F5422F7F42F440DFâ˜† â˜† â˜† â˜† â˜† 0åˆ†sqlCREATE TABLE `users` ( `id` int( 10) UNSIGNED NOT NULL, `name` varchar( 255) COLLATE utf8mb4_unicode_ci NOT NULL, `email` varchar( 255) COLLATE utf8mb4_unicode_ci NOT NULL, `email_verified_at` TIMESTAMP NULL DEFAULT NULL, `password` varchar( 255) COLLATE utf8mb4_unicode_ci NOT NULL, `remember_token` varchar( 100) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` TIMESTAMP NULL DEFAULT NULL, `updated_at` TIMESTAMP NULL DEFAULT NULL) ENGINE= InnoDB DEFAULT CHARSET= utf8mb4 COLLATE= utf8mb4_unicode_ci## å»ºè®®ä¸ºè¡¨æ·»åŠ æ³¨é‡Š* **Item:** CLA.011* **Severity:** L1* **Content:** ä¸ºè¡¨æ·»åŠ æ³¨é‡Šèƒ½å¤Ÿä½¿å¾—è¡¨çš„æ„ä¹‰æ›´æ˜ç¡®ï¼Œä»è€Œä¸ºæ—¥åçš„ç»´æŠ¤å¸¦æ¥æå¤§çš„ä¾¿åˆ©ã€‚## è¯·ä¸ºåˆ—æ·»åŠ é»˜è®¤å€¼* **Item:** COL.004* **Severity:** L1* **Content:** è¯·ä¸ºåˆ—æ·»åŠ é»˜è®¤å€¼ï¼Œå¦‚æœæ˜¯ ALTER æ“ä½œï¼Œè¯·ä¸è¦å¿˜è®°å°†åŸå­—æ®µçš„é»˜è®¤å€¼å†™ä¸Šã€‚å­—æ®µæ— é»˜è®¤å€¼ï¼Œå½“è¡¨è¾ƒå¤§æ—¶æ— æ³•åœ¨çº¿å˜æ›´è¡¨ç»“æ„ã€‚## åˆ—æœªæ·»åŠ æ³¨é‡Š* **Item:** COL.005* **Severity:** L1* **Content:** å»ºè®®å¯¹è¡¨ä¸­æ¯ä¸ªåˆ—æ·»åŠ æ³¨é‡Šï¼Œæ¥æ˜ç¡®æ¯ä¸ªåˆ—åœ¨è¡¨ä¸­çš„å«ä¹‰åŠä½œç”¨ã€‚## ä¸ºåˆ—æŒ‡å®šäº†å­—ç¬¦é›†* **Item:** COL.014* **Severity:** L5* **Content:** å»ºè®®åˆ—ä¸è¡¨ä½¿ç”¨åŒä¸€ä¸ªå­—ç¬¦é›†ï¼Œä¸è¦å•ç‹¬æŒ‡å®šåˆ—çš„å­—ç¬¦é›†ã€‚## æœªæŒ‡å®šä¸»é”®æˆ–ä¸»é”®é bigint* **Item:** KEY.007* **Severity:** L4* **Content:** æœªæŒ‡å®šä¸»é”®æˆ–ä¸»é”®é bigintï¼Œå»ºè®®å°†ä¸»é”®è®¾ç½®ä¸º bigint unsignedã€‚## ä¸å»ºè®®ä½¿ç”¨å¤æ•°åšåˆ—åæˆ–è¡¨å* **Item:** KWR.003* **Severity:** L1* **Content:** è¡¨ååº”è¯¥ä»…ä»…è¡¨ç¤ºè¡¨é‡Œé¢çš„å®ä½“å†…å®¹ï¼Œä¸åº”è¯¥è¡¨ç¤ºå®ä½“æ•°é‡ï¼Œå¯¹åº”äº DO ç±»åä¹Ÿæ˜¯å•æ•°å½¢å¼ï¼Œç¬¦åˆè¡¨è¾¾ä¹ æƒ¯ã€‚## ä¸ä½¿ç”¨æ˜æ–‡å­˜å‚¨å¯†ç * **Item:** SEC.002* **Severity:** L0* **Content:** ä½¿ç”¨æ˜æ–‡å­˜å‚¨å¯†ç æˆ–è€…ä½¿ç”¨æ˜æ–‡åœ¨ç½‘ç»œä¸Šä¼ é€’å¯†ç éƒ½æ˜¯ä¸å®‰å…¨çš„ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿæˆªè·æ‚¨ç”¨æ¥æ’å…¥å¯†ç çš„SQLè¯­å¥ï¼Œä»–ä»¬å°±èƒ½ç›´æ¥è¯»åˆ°å¯†ç ã€‚å¦å¤–ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ä»¥æ˜æ–‡çš„å½¢å¼æ’å…¥åˆ°çº¯SQLè¯­å¥ä¸­ï¼Œä¹Ÿä¼šè®©æ”»å‡»è€…å‘ç°å®ƒã€‚å¦‚æœæ‚¨èƒ½å¤Ÿè¯»å–å¯†ç ï¼Œé»‘å®¢ä¹Ÿå¯ä»¥ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å•å‘å“ˆå¸Œå‡½æ•°å¯¹åŸå§‹å¯†ç è¿›è¡ŒåŠ å¯†ç¼–ç ã€‚å“ˆå¸Œæ˜¯æŒ‡å°†è¾“å…¥å­—ç¬¦ä¸²è½¬åŒ–æˆå¦ä¸€ä¸ªæ–°çš„ã€ä¸å¯è¯†åˆ«çš„å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚å¯¹å¯†ç åŠ å¯†è¡¨è¾¾å¼åŠ ç‚¹éšæœºä¸²æ¥é˜²å¾¡â€œå­—å…¸æ”»å‡»â€ã€‚ä¸è¦å°†æ˜æ–‡å¯†ç è¾“å…¥åˆ°SQLæŸ¥è¯¢è¯­å¥ä¸­ã€‚åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­è®¡ç®—å“ˆå¸Œä¸²ï¼Œåªåœ¨SQLæŸ¥è¯¢ä¸­ä½¿ç”¨å“ˆå¸Œä¸²ã€‚ web å¯è§†åŒ–ä¸ºäº†æ›´å¥½åœ°è¿›è¡Œä½¿ç”¨ï¼Œç¤¾åŒºå‡ºç°äº† web å¯è§†åŒ–å·¥å…·ï¼Œå¦‚ soar-web https://github.com/xiyangxixian/soar-web ç”±äºè¿™ä¸ªæºä¹‹å‰å­˜åœ¨çš„ä¸€ä¸ªä¸­æ–‡é—®é¢˜#issue71ï¼Œæˆ‘ fork äº†é¡¹ç›®ï¼Œå¹¶ä¸”åˆ¶ä½œäº†ä¸€ä¸ª docker docker run -d -p 5077:5077 rovast/soar-webï¼Œåœ¨æœ¬åœ°è®¿é—® http://127.0.0.1:5077 å³å¯ã€‚ æ–°å¢å¯å‘è§„åˆ™å¦‚æœæˆ‘ä»¬éœ€è¦é™å®šæŸ¥è¯¢çš„è§„åˆ™ä¸­å¿…é¡»åŒ…å« last_updated_at å­—æ®µï¼Œå¯å¯¹ soar è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹åç¼–è¯‘ soar/advisor/rules.go å¢åŠ ä¸€æ¡è§„åˆ™ 12345678\"MY_KEY.001\": &#123; Item: \"MY_KEY.001\", Severity: \"L4\", Summary: \"ç¼ºå°‘æ•°æ®åº“å¿…é¡»å­—æ®µ last_updated_at\", Content: \"æ•°æ®åº“å¿…é¡»å­—æ®µ last_updated_at\", Case: \"CREATE TABLE tbl ï¼ˆ`last_updated_at` DATETIME COMMENT 'æœ€åæ›´æ–°æ—¶é—´';\", Func: (*Query4Audit).RuleRequiredFields,&#125;, soar/advisor/heuristic.go 12345678910111213141516171819202122232425262728293031// MY_KEY.001 æ•°æ®åº“å¿…é¡»å­—æ®µfunc (q *Query4Audit) RuleRequiredFields() Rule &#123; var rule = q.RuleOK() switch s := q.Stmt.(type) &#123; case *sqlparser.DDL: if s.Action == \"create\" &#123; if s.TableSpec == nil &#123; return rule &#125; // å¿…é¡»åŒ…å« last_updated_at hitCount := 0 for _, col := range s.TableSpec.Columns &#123; switch col.Name.String() &#123; case \"last_updated_at\": // æ£€æµ‹å­—æ®µç±»å‹ if col.Type.Type != \"datetime\" &amp;&amp; col.Type.Type != \"timestamp\" &#123; return HeuristicRules[\"MY_KEY.001\"] &#125; hitCount++ break &#125; if hitCount != 1 &#123; rule = HeuristicRules[\"MY_KEY.001\"] &#125; &#125; &#125; return rule&#125; åŸºæœ¬æ€è·¯å°±æ˜¯æ–°å¢ rule, soar æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™ä¼šéå† rule å»æ‰§è¡Œå“åº”çš„å‡½æ•°æ£€æµ‹ã€‚ç¼–è¯‘åå¯ä»¥çœ‹çœ‹è‡ªå·±çš„è§„åˆ™æ˜¯å¦ç”Ÿæ•ˆäº†ã€‚ å¯å‘è§„åˆ™æ±‡æ€»å¯ä»¥å‚è€ƒå¦å¤–ä¸€ç¯‡æ–‡ç«  ã€Šsoar å¯å‘è§„åˆ™æ±‡æ€» &amp;&amp; å¸¸è§ MySQL ä¼˜åŒ–æ¡ˆä¾‹ã€‹","categories":[{"name":"MySQL","slug":"MySQL","permalink":"https://rovast.github.io/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://rovast.github.io/tags/MySQL/"},{"name":"soar","slug":"soar","permalink":"https://rovast.github.io/tags/soar/"}]},{"title":"linuxå¸¸ç”¨æŒ‡ä»¤å’Œå‡½æ•°å¤‡å¿˜å½•","slug":"forget-linux-commands","date":"2018-12-14T22:19:01.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/14/forget-linux-commands/","link":"","permalink":"https://rovast.github.io/2018/12/14/forget-linux-commands/","excerpt":"","text":"Commandsdocker12345docker-compose psdocker-compose up -ddocker exec -it HASHID_xxxx bash fgä½¿ç”¨ Linux çš„ job åŠŸèƒ½ï¼Œåœ¨ç»ˆç«¯ä½¿ç”¨ç»„åˆé”® ctrl + z å°†å½“å‰ä»»åŠ¡æŒ‚èµ·ã€‚ ä½¿ç”¨ jobs æŸ¥çœ‹å½“å‰æŒ‚èµ·çš„ä»»åŠ¡å’Œåºå· ä½¿ç”¨ fg %1 æ¥æ¢å¤ä¼šè¯ 1234567891011121314151617âœ ~ tail -f debug.log [success]:redis[success]:redis[success]:redis[success]:redis[success]:redis[success]:redis[success]:redis[success]:redis[success]:redis[success]:redis^Z[1] + 13195 suspended tail -f debug.logâœ ~ jobs[1] + suspended tail -f debug.logâœ ~ fg %1[1] + 13195 continued tail -f debug.log git12# git origin æ›´æ”¹äº†å¯ä»¥ç”¨æ­¤å‘½ä»¤git remote set-url origin git@xxx.com/xxxx netstat12# æŸ¥çœ‹ç«¯å£å ç”¨netstat -tulpn sudo apt-get install net-tools redis-cli12# redis-cli æŒ‡å®š host å’Œç«¯å£å·redis-cli -h 127.0.0.1 -p 6379 sudo apt-get install redis-tools tc1234567891011# æŒ‡å®šç½‘å¡ç½‘ç»œå»¶è¿Ÿ 100ms sudo tc qdisc add dev eth0 root netem delay 100ms# æŒ‡å®šç½‘å¡ä¸¢åŒ…ç‡ 10%sudo tc qdisc add dev eth0 root netem loss 10%# å¦‚æœå·²ç»è®¾ç½®è¿‡ï¼Œå¯ä»¥ç”¨ changesudo tc qdisc change dev eth0 root netem loss 10%# ç§»é™¤ç½‘å¡å»¶è¿Ÿæˆ–ä¸¢åŒ…è®¾ç½®sudo tc qdisc del dev eth0 root wc12# ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°cat file.txt | wc -l FunctionskillByNameæ ¹æ®åç§°ä¸­çš„å…³é”®å­—æ¥æ€æ­»è¿›ç¨‹ 123function killByName() &#123; sudo kill -9 $(ps -aux | grep $1 | awk '&#123;print $2&#125;')&#125; example: killByName php-fpm æ€æ­»æ‰€æœ‰ php-fpm munzipè§£å‹ windows ä¸‹çš„ zip æ–‡ä»¶ï¼Œç”¨æ¥é¿å…ä¹±ç  123function munzip()&#123; unzip -O cp936 $*&#125; example: munzip xxx.zip openåœ¨ Ubuntu ä¸Šç”¨ open æ¥æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨ï¼ˆåƒ Mac ä¸€æ ·ï¼‰ 123function open()&#123; nautilus $* 1&gt; /dev/null&#125; example: open ~ æ‰“å¼€ home ç›®å½•","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[]},{"title":"jmeter ä½¿ç”¨å…¥é—¨","slug":"use-jmeter","date":"2018-12-14T18:30:10.000Z","updated":"2021-03-20T09:12:44.364Z","comments":true,"path":"2018/12/14/use-jmeter/","link":"","permalink":"https://rovast.github.io/2018/12/14/use-jmeter/","excerpt":"","text":"å¼•è¨€è¿›è¡Œå‹æµ‹æ—¶ï¼Œä½¿ç”¨ ab æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå¥ˆä½• ab çš„æŠ¥è¡¨çº¬åº¦æœ‰æ—¶å€™ä¸èƒ½æ»¡è¶³éœ€è¦ã€‚é™¤äº† abï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ jmeter å‘€ï¼ å®‰è£…1. ä¸‹è½½å‹ç¼©åŒ… https://jmeter.apache.org/download_jmeter.cgi 2. å®‰è£… jre Ubuntu sudo apt-get install default-jre 3. è¿è¡Œ æˆ‘çš„åŒ…è§£å‹ç›®å½• /home/rovast/Applications/ï¼Œè¿è¡Œæ¯”è¾ƒç®€å•ï¼Œç›´æ¥è¿è¡Œ /home/rovast/Applications/apache-jmeter-4.0/bin/jmeter.sh å³å¯ 4. è®¾å®š desktop æ–‡ä»¶ é™¤äº†ç›´æ¥è¿è¡Œè„šæœ¬ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ–°å»º desktop æ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­ç›´æ¥æ‰¾åˆ°è¿è¡Œ æ–°å»ºæ–‡ä»¶ /usr/local/share/applications/jmeter.desktop 123456789[Desktop Entry]Encoding=UTF-8Name=jmeterComment=Apache Jmeter ToolExec=/bin/sh &quot;/home/rovast/Applications/apache-jmeter-4.0/bin/jmeter.sh&quot;Categories=Application;Development;Version=1.0Type=ApplicationTerminal=0 ä½¿ç”¨è¿è¡Œè½¯ä»¶ è¯·ç¡®å®šå·²ç»å®‰è£… java ç¯å¢ƒäº† æ–°å»ºæµ‹è¯•è®¡åˆ’æ·»åŠ æµ‹è¯•ç»„ï¼Œè¯·æ³¨æ„å±‚çº§å…³ç³»ï¼ä¸ç„¶ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚ 1234567æµ‹è¯•è®¡åˆ’ çº¿ç¨‹ç»„ HTTPè¯·æ±‚ HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ èšåˆæŠ¥å‘Š å›¾å½¢ç»“æœ æŸ¥çœ‹ç»“æœæ ‘ HTTP ä¿¡æ¯å¤´ç®¡ç†å™¨å¯ä»¥ç®¡ç† http headersï¼Œå¯¹äºä¸€äº›æŠŠè®¤è¯æ”¾åˆ° header é‡Œçš„æµ‹è¯•å¾ˆæœ‰ç”¨ çº¿ç¨‹ç»„è®¾ç½®ä¸€èˆ¬æƒ…å†µä¸‹è¿›è¡Œå‹æµ‹ï¼Œçº¿ç¨‹æ•° 50, å¾ªç¯æ•° 10000ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯ä½æœ‰ 50 ä¸ªçº¿ç¨‹è¯·æ±‚ httpï¼Œæ¯ä¸€ä¸ªè¯·æ±‚ 1w æ¬¡ï¼Œæ€»è®¡ä¹Ÿå°±æ˜¯ 50w æ¬¡ã€‚ å¼€å§‹è¿è¡Œç‚¹å‡»å·¥å…·æ çš„ç»¿è‰²è¿è¡ŒæŒ‰é’®ï¼ˆä¸€èˆ¬è¿è¡Œå‰ä¼šç‚¹å‡»æ‰«å¸šæŒ‰é’®ï¼Œæ¸…é™¤ä¹‹å‰è®°å½•ï¼‰ï¼Œè¿è¡Œå®ŒæŒ‡å®šå¾ªç¯æ¬¡æ•°åï¼Œå°±ç»“æŸäº†ã€‚ æŸ¥çœ‹æŠ¥å‘ŠèšåˆæŠ¥å‘Šã€‚ä¸»è¦å…³æ³¨ååé‡ã€é”™è¯¯ç‡ å›¾å½¢æŠ¥å‘Šã€‚å¯ä»¥æŸ¥çœ‹å“åº”æ˜¯å¦ç¨³å®š æŸ¥çœ‹å›¾å½¢æ ‘ã€‚è¿™é‡Œå­˜æ”¾äº†æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°å“åº”æ•°æ®","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"åœ¨ phpstorm ä¸­ä½¿ç”¨ xdebug","slug":"debug-with-xdebug-in-phpstorm","date":"2018-12-11T14:15:39.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/11/debug-with-xdebug-in-phpstorm/","link":"","permalink":"https://rovast.github.io/2018/12/11/debug-with-xdebug-in-phpstorm/","excerpt":"","text":"å‰è¨€åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰ debugï¼Œé‚£æ˜¯æ— æ³•æƒ³è±¡çš„ã€‚ç›®å‰è°ƒè¯•æ‰‹æ®µå¤§ä½“æœ‰å¦‚ä¸‹å‡ ç§ï¼š ä»£ç ä¸­ç›´æ¥è¾“å‡ºç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯ echo var_dump var_export print_r dd dd è¿™ä¸ªå‡½æ•°åœ¨ laravel ä¸­ç›´æ¥å¯ç”¨ã€‚å…¶ä»–æ¡†æ¶éœ€è¦å®‰è£…æ‹“å±•ã€‚ ä½¿ç”¨ var_dump æ—¶ï¼Œæœ€å¥½ç»“åˆ &lt;pre&gt; æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ è¾“å‡ºè°ƒè¯•ä¿¡æ¯è‡³æ—¥å¿—ï¼Œå¯ä»¥æ˜¯æ–‡ä»¶æ—¥å¿—ã€æ•°æ®åº“æ—¥å¿—ç­‰ 3ã€ä½¿ç”¨ xdebugï¼Œå•æ­¥è°ƒè¯•ï¼ŒæŸ¥çœ‹è¿è¡Œæ—¶å˜é‡ç­‰ã€‚ ä»¥ä¸Šå‡ ç‚¹å„æœ‰å„çš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ï¼Œæ— éœ€åˆ†å‡ºä¸€ä¸ªä¼˜åŠ£ã€‚æ¯”å¦‚ï¼š çº¿ä¸Šç¯å¢ƒï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥å°†ä¿¡æ¯æ‰“å°å‡ºæ¥ï¼Œæ›´å¤šä½¿ç”¨æ—¥å¿—è°ƒè¯•ã€‚ä¾‹å¦‚ï¼šå¾®ä¿¡æ”¯ä»˜å›è°ƒ debug xdebug ä¸¥é‡æŸè€—æ€§èƒ½ï¼Œä¸€èˆ¬åœ¨æœ¬åœ°ä½¿ç”¨ æœ¬æ–‡ä¸»è¦è®²è¿°å¦‚ä½•åœ¨ phpstorm ä¸­ä½¿ç”¨ xdebug è¿›è¡Œè°ƒè¯• install xdebug extension è¿›å…¥ç½‘å€ https://xdebug.org/wizard.php æ‰“å¼€ç»ˆç«¯ï¼Œ php -i &gt; info.txtï¼Œå°†æœ¬æœº phpinfo è¾“å‡ºåˆ° info.txt ä¸­ æ‹·è´ info.txt å†…å®¹åˆ° 1 çš„è¾“å…¥æ¡†ä¸­ï¼Œç‚¹å‡»æ¡†ä¸‹é¢çš„åˆ†ææŒ‰é’® ubuntu ç”¨æˆ·å¯ä»¥ä½¿ç”¨ gedit æ‰“å¼€ï¼Œå…¨é€‰å¤åˆ¶å³å¯gedit info.txt åˆ†æåï¼Œå¾—åˆ°å®‰è£…æŒ‡å¼•ï¼š Summary Xdebug installed: noServer API: Command Line InterfaceWindows: noZend Server: noPHP Version: 7.1.24Zend API nr: 320160303PHP API nr: 20160303Debug Build: noThread Safe Build: noConfiguration File Path: /usr/local/libConfiguration File: /usr/local/lib/php.iniExtensions directory: /usr/local/lib/php/extensions/no-debug-non-zts-20160303 Instructions Download xdebug-2.6.1.tgz Unpack the downloaded file with tar -xvzf xdebug-2.6.1.tgz Run: cd xdebug-2.6.1 Run: phpize (See the FAQ if you donâ€™t have phpize. As part of its output it should show: Configuring for:â€¦Zend Module Api No: 20160303Zend Extension Api No: 320160303If it does not, you are using the wrong phpize. Please follow this FAQ entry and skip the next step. Run: ./configureRun: makeRun: cp modules/xdebug.so /usr/local/lib/php/extensions/no-debug-non-zts-20160303Edit /usr/local/lib/php.ini and add the linezend_extension = /usr/local/lib/php/extensions/no-debug-non-zts-20160303/xdebug.so https://xdebug.org/wizard.php æ ¹æ® Instructions çš„æç¤ºå®‰è£…å³å¯ã€‚ 123456cd xdebug-2.6.1phpizemake./configuremakesudo make install æœ€åå¾—åˆ°ä»¥ä¸‹è¾“å‡ºä¿¡æ¯1234567891011121314151617181920212223Installing shared extensions: /usr/local/lib/php/extensions/no-debug-non-zts-20160303/ +----------------------------------------------------------------------+ | | | INSTALLATION INSTRUCTIONS | | ========================= | | | | See http://xdebug.org/install.php#configure-php for instructions | | on how to enable Xdebug for PHP. | | | | Documentation is available online as well: | | - A list of all settings: http://xdebug.org/docs-settings.php | | - A list of all functions: http://xdebug.org/docs-functions.php | | - Profiling instructions: http://xdebug.org/docs-profiling2.php | | - Remote debugging: http://xdebug.org/docs-debugger.php | | | | | | NOTE: Please disregard the message | | You should add &quot;extension=xdebug.so&quot; to php.ini | | that is emitted by the PECL installer. This does not work for | | Xdebug. | | | +----------------------------------------------------------------------+ php.ini ä¸­åŠ å…¥ï¼š1234zend_extension=xdebug.soxdebug.remote_enable = 1xdebug.remote_autostart = 1xdebug.remote_port = 9001 php -m çœ‹åŠ è½½çš„æ¨¡å—ä¸­æ˜¯å¦æœ‰ xdebug config in phpstormTODO è§£å†³ç«¯å£å†²çª ä¿®æ”¹é…ç½®åé‡å¯ php-fpm éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆCanâ€™t start listening for connections from â€˜xdebugâ€™: Port 9000 is busy","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"è°·æ­Œæµè§ˆå™¨å¼ºåˆ¶ dev åŸŸåä½¿ç”¨ https","slug":"force-dev-domains-to-https-in-chrome","date":"2018-12-10T14:27:47.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/10/force-dev-domains-to-https-in-chrome/","link":"","permalink":"https://rovast.github.io/2018/12/10/force-dev-domains-to-https-in-chrome/","excerpt":"","text":"å‰è¨€ä»Šå¤©åœ¨è·‘æœ¬åœ°é¡¹ç›®æ—¶ï¼Œä¸€å¦‚æ—¢å¾€çš„é…ç½®äº† nginxï¼Œç„¶ååœ¨æœ¬åœ°ä¿®æ”¹äº† /etc/hosts nginx server é…ç½®1234567891011121314151617181920212223242526server &#123; listen 80; server_name sample-app.dev; index index.php index.html; error_log /var/log/nginx/sample-app-error.log; access_log /var/log/nginx/sample-app-access.log; root /home/rovast/Code/sample-app/public; location / &#123; try_files $uri $uri/ /index.php$is_args$args; &#125; location ~ \\.php &#123; try_files $uri =404; fastcgi_split_path_info ^(.+\\.php)(/.+)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; fastcgi_read_timeout 180; &#125;&#125; /etc/hostsé…ç½®1127.0.0.1 sample-app.dev ç„¶åæ‰“å¼€ chrome è¾“å…¥ sample-app.devã€‚ å¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œæµè§ˆå™¨è‡ªåŠ¨åŠ ä¸Šäº† httpsï¼Œä½¿å¾—æˆ‘è®¿é—®çš„åœ°å€å˜æˆäº† https://sample-app.dev/ ã€‚ ç„¶åæ— æ³•è®¿é—®äº† è§£å†³åŠæ³•è¿˜èƒ½æ€ä¹ˆåŠå‘¢ï¼Œè°·æ­Œéƒ½è¯´äº†ï¼Œ dev æ˜¯äººå®¶çš„ï¼Œå»ºè®®æˆ‘ä»¬ç”¨å…¶ä»–çš„åŸŸååç¼€ã€‚æˆ‘ä»¬ç”¨ test å§ï¼ å…¶å®åœ¨ valet ä¸­ï¼Œé»˜è®¤çš„åç¼€å°±æ˜¯ test nginx server é…ç½®1234567891011121314151617181920212223242526server &#123; listen 80; server_name sample-app.test; index index.php index.html; error_log /var/log/nginx/sample-app-error.log; access_log /var/log/nginx/sample-app-access.log; root /home/rovast/Code/sample-app/public; location / &#123; try_files $uri $uri/ /index.php$is_args$args; &#125; location ~ \\.php &#123; try_files $uri =404; fastcgi_split_path_info ^(.+\\.php)(/.+)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; fastcgi_read_timeout 180; &#125;&#125; /etc/hostsé…ç½®1127.0.0.1 sample-app.test å‚è€ƒèµ„æ–™ è°·æ­Œè®ºå› Chrome &amp; Firefox now force .dev domains to HTTPS via preloaded HSTS","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[]},{"title":"æ·±å…¥ç†è§£DIPã€IoCã€DIä»¥åŠIoCå®¹å™¨","slug":"learning-ioc","date":"2018-12-10T11:28:39.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/10/learning-ioc/","link":"","permalink":"https://rovast.github.io/2018/12/10/learning-ioc/","excerpt":"","text":"å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£DIPã€IoCã€DIä»¥åŠIoCå®¹å™¨ã€‹ ã€ŠæœåŠ¡å®¹å™¨ã€‹ ã€ŠUnderstanding Dependency Injectionã€‹ ã€Šç”¨PHPæ’¸ä¸€ä¸ªDIå®¹å™¨ã€‹","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://rovast.github.io/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"PHP å†·é—¨ä½†ä½¿ç”¨çš„å‡½æ•°","slug":"cool-php","date":"2018-12-10T10:22:12.000Z","updated":"2021-03-20T09:12:44.332Z","comments":true,"path":"2018/12/10/cool-php/","link":"","permalink":"https://rovast.github.io/2018/12/10/cool-php/","excerpt":"","text":"è®°å½•ä¸€äº›å¹³æ—¶ä¸æ€ä¹ˆç”¨åˆ°çš„ï¼Œæœ‰ç‚¹ cold çš„å‡½æ•°æˆ–ä»£ç ç‰‡æ®µ array_walk array_walk ä¹Ÿæ˜¯å¯¹æ•°ç»„çš„ä¸€ä¸ªéå†ï¼Œå¯ä»¥æ‹¿åˆ° key å’Œ valueï¼Œå¹¶ä¸”è¿”å›å€¼æ˜¯ bool ç±»å‹ blog åšå®¢å›­ ã€Šã€phpå­¦ä¹ ã€‘array_mapï¼Œarray_walkï¼Œarray_filterçš„åŒºåˆ«ã€‹ example12345678$a = [\"a\" =&gt; 1, \"b\" =&gt; 2];$res = array_walk($a, function(&amp;$v, $k) &#123; echo $k; $v = $v + 1;&#125;);print_r($res); // trueprint_r($a); // [\"a\" =&gt; 2, \"b\" =&gt; 3] clonehttps://stackoverflow.com/questions/10831798/php-deep-clone-object php object æ·±åº¦æ‹·è´ error_logbool error_log ( string $message [, int $message_type = 0 [, string $destination [, string $extra_headers ]]] ) æŠŠé”™è¯¯ä¿¡æ¯å‘é€åˆ° web æœåŠ¡å™¨çš„é”™è¯¯æ—¥å¿—ï¼Œæˆ–è€…åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚ @php.netphp.net/manual/zh/function.error-log.php 12345// è®°å½•æ—¥å¿—åˆ°æ–‡ä»¶\\error_log('message', 3, '/home/rovast/debug.log');// è®°å½•æ—¥å¿—åˆ°æ–‡ä»¶\\error_log('message', 3, '/home/rovast/debug' . \\posix_getpid() . '.log'); å½“åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦è®°å½•æ—¥å¿—åˆ°æ–‡ä»¶æ—¶ï¼Œè¿™ç§æ–¹å¼æ ¼å¤–å¥½ç”¨ã€‚ JsonSerializable è‡ªå®šä¹‰ json_encode çš„å®ç°ã€‚ blog é¸Ÿå“¥çš„åšå®¢ ã€ŠJsonSerializableæ¥å£ã€‹ listä½¿ç”¨ list å¯å®ç°ç±»ä¼¼ go çš„å¤šå€¼è¿”å›12345678function multi_return() &#123; return [200, 'success'];&#125;list($code, $msg) = multi_return();echo $code; // 200echo $msg; // success åœ¨ php7.1 ä¹‹åæœ‰äº†ä¸€ç§ä¾¿æ·çš„å†™æ³• [$code, $msg] = multi_return(), è¿™é‡Œçš„æ–¹æ‹¬å·æ˜¯ list çš„ç®€å†™ register_shutdown_function register_shutdown_function â€” æ³¨å†Œä¸€ä¸ªä¼šåœ¨phpä¸­æ­¢æ—¶æ‰§è¡Œçš„å‡½æ•° example1234567891011121314151617function shutdown() &#123; echo 'php è„šæœ¬è¿è¡Œç»“æŸ';&#125;register_shutdown_function('shutdown');class Controller &#123; public function responseJson() &#123; echo json_encode(['code' =&gt; 200, 'msg' =&gt; 'success']); exit; &#125;&#125;$controller = new Controller();$controller-&gt;responseJson();// &#123;\"code\":200,\"msg\":\"success\"&#125;php è„šæœ¬è¿è¡Œç»“æŸ æˆ‘ä»¬æ‰‹åŠ¨è§¦å‘çš„ exit æœ€åä¼šå»æ‰§è¡Œ register_shutdown_function æ³¨å†Œçš„å‡½æ•°ã€‚æ¯”å¦‚åœ¨æ¡†æ¶ä¸­ç›´æ¥ exit äº†ä¹‹åï¼Œè¿›è¡Œä¸€äº›å›æ”¶åŠ¨ä½œã€‚ set_exception_handler set_exception_handler â€” è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†å‡½æ•°ã€‚ è®¾ç½®é»˜è®¤çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œç”¨äºæ²¡æœ‰ç”¨ try/catch å—æ¥æ•è·çš„å¼‚å¸¸ã€‚ åœ¨ exception_handler è°ƒç”¨åå¼‚å¸¸ä¼šä¸­æ­¢ã€‚ example // æ‰§è¡Œå®Œæ­¤å‡½æ•°åï¼Œè¿è¡Œç»ˆæ­¢ function exception_handler($exception) { echo \"è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†: \" , $exception-&gt;getMessage(), \"\\n\"; } set_exception_handler('exception_handler'); throw new Exception('æˆ‘æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸'); echo \"å¼‚å¸¸ä¹‹åçš„ä»£ç \\n\"; // æ­¤è¡Œä»£ç ä¸ä¼šæ‰§è¡Œ è¾“å‡º è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†: æˆ‘æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ åœ¨ exception_handler åè°ƒç”¨å¼‚å¸¸ä¼šç»ˆæ­¢","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://rovast.github.io/tags/PHP/"}]},{"title":"è¿ç”¨ä½æ“ä½œè®¾è®¡æƒé™ç³»ç»Ÿ","slug":"bit-operation-in-auth-system","date":"2018-12-10T09:41:41.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2018/12/10/bit-operation-in-auth-system/","link":"","permalink":"https://rovast.github.io/2018/12/10/bit-operation-in-auth-system/","excerpt":"","text":"å‚è€ƒèµ„æ–™ phpä½è¿ç®—çš„æƒé™è®¾è®¡ è¿ç”¨PHPä½è¿ç®—åšç½‘ç«™æƒé™ ä½è¿ç®—ç¬¦","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[]},{"title":"ç§‘å­¦ä¸Šç½‘ä¹‹ Shadowsocks å®‰è£…åŠä¼˜åŒ–åŠ é€Ÿ","slug":"install-shadowsocks","date":"2018-12-09T20:04:45.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/09/install-shadowsocks/","link":"","permalink":"https://rovast.github.io/2018/12/09/install-shadowsocks/","excerpt":"","text":"æœ¬æ–‡è½¬è½½è‡ª ã€Šç§‘å­¦ä¸Šç½‘ä¹‹ Shadowsocks å®‰è£…åŠä¼˜åŒ–åŠ é€Ÿã€‹ åŸæ–‡åœ°å€ï¼š https://yq.aliyun.com/articles/137280?commentId=11711 Shadowsocksä½¿ç”¨è‡ªè¡Œè®¾è®¡çš„åè®®è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚åŠ å¯†ç®—æ³•æœ‰AESã€Blowfishã€IDEAã€RC4ç­‰ï¼Œé™¤åˆ›å»ºTCPè¿æ¥å¤–æ— éœ€æ¡æ‰‹ï¼Œæ¯æ¬¡è¯·æ±‚åªè½¬å‘ä¸€ä¸ªè¿æ¥ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥ç½‘é€Ÿè¾ƒå¿«ï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä¹Ÿæ¯”è¾ƒçœç”µã€‚æ‰€æœ‰çš„æµé‡éƒ½ç»è¿‡ç®—æ³•åŠ å¯†ï¼Œå…è®¸è‡ªè¡Œé€‰æ‹©ç®—æ³•ï¼Œæ‰€ä»¥æ¯”è¾ƒå®‰å…¨ã€‚Shadowsocksé€šè¿‡å¼‚æ­¥I/Oå’Œäº‹ä»¶é©±åŠ¨ç¨‹åºè¿è¡Œï¼Œå“åº”é€Ÿåº¦å¿«ã€‚å®¢æˆ·ç«¯è¦†ç›–å¤šä¸ªä¸»æµæ“ä½œç³»ç»Ÿå’Œå¹³å°ï¼ŒåŒ…æ‹¬Windowsï¼ŒOS Xï¼ŒAndroidå’ŒiOSç³»ç»Ÿå’Œè·¯ç”±å™¨ï¼ˆOpenWrtï¼‰ç­‰ ä¸“ä¸ºç§»åŠ¨è®¾å¤‡å’Œæ— çº¿ç½‘ç»œä¼˜åŒ– 0. æ›´æ¢ç®—æ³•ä¸º chacha2012345678yum groupinstall \"Development Tools\"wget https://download.libsodium.org/libsodium/releases/LATEST.tar.gztar zxvf LATEST.tar.gz &amp;&amp; cd LATEST./configure &amp;&amp; make -j4 &amp;&amp; make installecho /usr/local/lib &gt; /etc/ld.so.conf.d/usr_local_lib.confldconfig 1. æœåŠ¡ç«¯å®‰è£…å®˜æ–¹æ¨è Ubuntu 14.04 LTS ä½œä¸ºæœåŠ¡å™¨ä»¥ä¾¿ä½¿ç”¨ TCP Fast Openã€‚æœåŠ¡å™¨ç«¯çš„å®‰è£…éå¸¸ç®€å•ã€‚ Debian / Ubuntu:12apt-get install python-pippip install shadowsocks CentOS:12yum install python-setuptools &amp;&amp; easy_install pippip install shadowsocks ç„¶åç›´æ¥åœ¨åå°è¿è¡Œï¼š ssserver -p 38018 -k password -m rc4-md5 -d start å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œæ–¹æ³•åˆ›å»º/etc/shadowsocks.jsonæ–‡ä»¶ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š 123456789&#123; \"server\":\"0.0.0.0\", \"server_port\":38018, \"local_address\": \"127.0.0.1\", \"local_port\":1080, \"password\":\"mypassword\", \"timeout\":300, \"method\":\"rc4-md5\"&#125; ç„¶åä½¿ç”¨é…ç½®æ–‡ä»¶åœ¨åå°è¿è¡Œï¼š ssserver -c /etc/shadowsocks.json -d start å¦‚æœè¦åœæ­¢è¿è¡Œï¼Œå°†å‘½ä»¤ä¸­çš„startæ”¹æˆstopã€‚ TIPS: åŠ å¯†æ–¹å¼æ¨èä½¿ç”¨rc4-md5ï¼Œå› ä¸º RC4 æ¯” AES é€Ÿåº¦å¿«å¥½å‡ å€ï¼Œå¦‚æœç”¨åœ¨è·¯ç”±å™¨ä¸Šä¼šå¸¦æ¥æ˜¾è‘—æ€§èƒ½æå‡ã€‚æ—§çš„ RC4 åŠ å¯†ä¹‹æ‰€ä»¥ä¸å®‰å…¨æ˜¯å› ä¸º Shadowsocks åœ¨æ¯ä¸ªè¿æ¥ä¸Šé‡å¤ä½¿ç”¨ keyï¼Œæ²¡æœ‰ä½¿ç”¨ IVã€‚ç°åœ¨å·²ç»é‡æ–°æ­£ç¡®å®ç°ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚æ›´å¤šå¯ä»¥çœ‹ issueã€‚ 2. å¤šç”¨æˆ·é…ç½®ç½‘ä¸Šå¾ˆå¤šç”¨æˆ·vpså®‰è£…çš„Linuxæ˜¯debianæˆ–ubuntuçš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¿®æ”¹/etc/shadowsock.jsonæ–‡ä»¶ï¼Œé€šè¿‡æ·»åŠ ç«¯å£å·ä»¥åŠå¯†ç çš„æ–¹æ³•ï¼Œè¿›è¡Œå¤šç”¨æˆ·é…ç½®ã€‚è¿™ç§é…ç½®æ–¹æ¡ˆï¼Œç½‘ä¸Šå¯ä»¥æœå‡ºå¾ˆå¤šã€‚æˆ‘è¿™é‡Œä¹Ÿç²˜è´´ä¸€ä¸‹å…·ä½“ä¿®æ”¹jsonæ–‡ä»¶çš„æ–¹æ³•.ç¤ºä¾‹å¦‚ä¸‹ 1234567891011121314&#123; \"server\":\"0.0.0.0\"ï¼Œ \"local_address\": \"127.0.0.1\", \"local_port\":1080, \"port_password\": &#123; \"38011\": \"passwd\", \"38012\": \"passwd\", \"38013\": \"passwd\", \"38014\": \"passwd\" &#125;, \"timeout\":300, \"method\":\"rc4-md5\", \"fast_open\": false &#125; 3. åŠ é€Ÿä¼˜åŒ–ä¸‹é¢ä»‹ç»å‡ ç§ç®€å•çš„ä¼˜åŒ–æ–¹æ³•ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæ¨èçš„å‡ ç§ï¼Œèƒ½å¤Ÿå¾—åˆ°ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›é»‘ç§‘æŠ€æˆ‘æ²¡æåˆ°ï¼Œå¦‚æœ‰å¤§ç¥è·¯è¿‡ï¼Œä¹Ÿå¯ç•™è¨€æŒ‡å‡ºã€‚ 3.1 å†…æ ¸å‚æ•°ä¼˜åŒ–é¦–å…ˆï¼Œå°† Linux å†…æ ¸å‡çº§åˆ° 3.5 æˆ–ä»¥ä¸Šã€‚ ç¬¬ä¸€æ­¥ï¼Œå¢åŠ ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦çš„æœ€å¤§é™æ•° ç¼–è¾‘æ–‡ä»¶ limits.conf vi /etc/security/limits.conf å¢åŠ ä»¥ä¸‹ä¸¤è¡Œ 12* soft nofile 51200* hard nofile 51200 å¯åŠ¨shadowsocksæœåŠ¡å™¨ä¹‹å‰ï¼Œè®¾ç½®ä»¥ä¸‹å‚æ•° ulimit -n 51200 ç¬¬äºŒæ­¥ï¼Œè°ƒæ•´å†…æ ¸å‚æ•° ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/sysctl.conf 123456789101112131415161718fs.file-max = 51200net.core.rmem_max = 67108864net.core.wmem_max = 67108864net.core.netdev_max_backlog = 250000net.core.somaxconn = 4096net.ipv4.tcp_syncookies = 1net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 0net.ipv4.tcp_fin_timeout = 30net.ipv4.tcp_keepalive_time = 1200net.ipv4.ip_local_port_range = 10000 65000net.ipv4.tcp_max_syn_backlog = 8192net.ipv4.tcp_max_tw_buckets = 5000net.ipv4.tcp_fastopen = 3net.ipv4.tcp_rmem = 4096 87380 67108864net.ipv4.tcp_wmem = 4096 65536 67108864net.ipv4.tcp_mtu_probing = 1net.ipv4.tcp_congestion_control = hybla ä¿®æ”¹åæ‰§è¡Œ sysctl -p ä½¿é…ç½®ç”Ÿæ•ˆ 3.2 é”é€Ÿé”é€Ÿæ˜¯ä¸€æ¬¾éå¸¸ä¸é”™çš„TCPåº•å±‚åŠ é€Ÿè½¯ä»¶ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿å¿«é€Ÿåœ°å®ŒæˆæœåŠ¡å™¨ç½‘ç»œçš„ä¼˜åŒ–ï¼Œé…åˆ ShadowSocks æ•ˆæœå¥‡ä½³ã€‚ç›®å‰é”é€Ÿå®˜æ–¹ä¹Ÿå‡ºäº†æ°¸ä¹…å…è´¹ç‰ˆæœ¬ï¼Œé€‚ç”¨å¸¦å®½20Mã€3000åŠ é€Ÿè¿æ¥ï¼Œä¸ªäººä½¿ç”¨æ˜¯è¶³å¤Ÿäº†ã€‚å¦‚æœéœ€è¦ï¼Œå…ˆè¦åœ¨é”é€Ÿå®˜ç½‘æ³¨å†Œä¸ªè´¦æˆ·ã€‚ ç„¶åç¡®å®šè‡ªå·±çš„å†…æ ¸æ˜¯å¦åœ¨é”é€Ÿçš„æ”¯æŒåˆ—è¡¨é‡Œï¼Œå¦‚æœä¸åœ¨ï¼Œè¯·å…ˆæ›´æ¢å†…æ ¸ï¼Œå¦‚æœä¸ç¡®å®šï¼Œè¯·ä½¿ç”¨ æ‰‹åŠ¨å®‰è£…ã€‚ ç¡®å®šè‡ªå·±çš„å†…æ ¸ç‰ˆæœ¬åœ¨æ”¯æŒåˆ—è¡¨é‡Œï¼Œå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿå®‰è£…äº†ã€‚ 123wget http://my.serverspeeder.com/d/ls/serverSpeederInstaller.tar.gztar xzvf serverSpeederInstaller.tar.gzbash serverSpeederInstaller.sh è¾“å…¥åœ¨å®˜ç½‘æ³¨å†Œçš„è´¦å·å¯†ç è¿›è¡Œå®‰è£…ï¼Œå‚æ•°è®¾ç½®ç›´æ¥å›è½¦é»˜è®¤å³å¯ï¼Œæœ€åä¸¤é¡¹è¾“å…¥ y å¼€æœºè‡ªåŠ¨å¯åŠ¨é”é€Ÿï¼Œy ç«‹åˆ»å¯åŠ¨é”é€Ÿã€‚ä¹‹åå¯ä»¥é€šè¿‡lsmodæŸ¥çœ‹æ˜¯å¦æœ‰appexæ¨¡å—åœ¨è¿è¡Œã€‚åˆ°è¿™é‡Œè¿˜æ²¡ç»“æŸï¼Œæˆ‘ä»¬è¿˜è¦ä¿®æ”¹é”é€Ÿçš„3 ä¸ªå‚æ•°ï¼Œ 123456vi /serverspeeder/etc/configrsc=\"1\" #RSCç½‘å¡é©±åŠ¨æ¨¡å¼ advinacc=\"1\" #æµé‡æ–¹å‘åŠ é€Ÿ maxmode=\"1\" #æœ€å¤§ä¼ è¾“æ¨¡å¼digitalocean vpsçš„ç½‘å¡æ”¯æŒrscå’Œgsoé«˜çº§ç®—æ³•ï¼Œæ‰€ä»¥å¯ä»¥å¼€å¯rsc=\"1\"ï¼Œgso=\"1\"ã€‚ é‡æ–°å¯åŠ¨é”é€Ÿ service serverSpeeder restart 3.3 net-speedernet-speeder åŸç†éå¸¸ç®€å•ç²—æš´ï¼Œå°±æ˜¯å‘åŒ…ç¿»å€ï¼Œè¿™ä¼šå ç”¨å¤§é‡çš„å›½é™…å‡ºå£å¸¦å®½ï¼Œæœ¬è´¨æ˜¯æŸäººåˆ©å·±ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ (1) Ubuntu/Debian ä¸‹å®‰è£…ä¾èµ–åŒ… 1234apt-get install libnet1apt-get install libpcap0.8apt-get install libnet1-devapt-get install libpcap0.8-dev (2) Centos ä¸‹å®‰è£…ä¾èµ–åŒ… éœ€è¦é…ç½® epel ç¬¬ä¸‰æ–¹æºã€‚ä¸‹è½½ epel ï¼šhttp://dl.fedoraproject.org/pub/epe l/ ã€‚ä¾‹å¦‚ï¼ŒCentos 7 x64ï¼š 1234wget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpmrpm -ivh epel-release-7-5.noarch.rpmyum repolist ç„¶åå®‰è£…ä¾èµ–åŒ…ï¼š yum install libnet libpcap libnet-devel libpcap-devel (3) ä¸‹è½½å®˜æ–¹çš„ tar.gz å‹ç¼©åŒ…ã€‚è§£å‹å®‰è£…è¿è¡Œï¼š 12345wget http://net-speeder.googlecode.com/files/net_speeder-v0.1.tar.gz tar zxvf net_speeder-v0.1.tar.gzcd net_speederchmod 777 *sh build.sh -DCOOKED é¦–å…ˆä½ éœ€è¦çŸ¥é“ä½ çš„ç½‘å¡è®¾å¤‡åï¼Œå¯ä»¥ä½¿ç”¨ ifconfig æŸ¥çœ‹ã€‚å‡è®¾æ˜¯eth0ï¼Œ é‚£ä¹ˆè¿è¡Œæ–¹æ³•æ˜¯: ./net_speeder eth0 &quot;ip&quot; å…³é—­ net-speeder killall net_speeder å“¦ï¼Œå¯¹äº†ï¼Œä½œè€…å·²ç»å°† net-speeder è¿ç§»åˆ° GitHub äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å…³ æ³¨ã€è´¡çŒ®ã€‚ä»¥ä¸Šå‡ ç§æ–¹æ³•æ˜¯æˆ‘ç”¨è¿‡çš„å‡ ç§æ¯”è¾ƒæœ‰æ•ˆçš„åŠ é€Ÿæ–¹æ³•ã€‚æœ‰ä»»ä½•é”™è¯¯ä¹‹å¤„è¿˜è¯·åœ¨ä¸‹é¢ç•™è¨€æŒ‡å‡ºã€‚ å¦‚æœä½ ä¸æƒ³æŠ˜è…¾æœåŠ¡ç«¯å®‰è£…å’Œä¼˜åŒ–ï¼Œä½ å¯ä»¥ä½¿ç”¨è™«æ´å’–å•¡å…æä¾›çš„å…è´¹ shadowsocks æœåŠ¡ã€‚ ä¸€é”®å®‰è£…è„šæœ¬è¿æ¥åœ°å€ https://teddysun.com/486.html 123wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.shchmod +x shadowsocks-all.sh./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"https://rovast.github.io/tags/è½¬è½½/"}]},{"title":"è½¯ä»¶åˆé›†","slug":"software-collection","date":"2018-12-07T18:38:21.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2018/12/07/software-collection/","link":"","permalink":"https://rovast.github.io/2018/12/07/software-collection/","excerpt":"","text":"command tool albert axel git gitk oh-my-zsh tig tmux zsh axel1axel -n 10 -a https://download.url proxyscript1234567891011function openproxy() &#123; export https_proxy=https://127.0.0.1:1080 export http_proxy=http://127.0.0.1:1080 export all_proxy=socks5://127.0.0.1:1080&#125;function offproxy() &#123; unset https_proxy unset http_proxy unset all_proxy&#125; killByNamescript123function killByName() &#123; sudo kill -9 $(ps -aux | grep $1 | awk '&#123;print $2&#125;')&#125; Gnomeextensions Clipboard Indicator Dash to dock Screenshot Tool Topicons plus Unite User themes themes Mojave-light Mojave-dark Linux GUI software calibre goland kchmViewer phpstorm OBS Studio ï¼ˆå½•å±è½¯ä»¶ï¼‰ Typora XMind ZEN PhpStormuseful command reset to factory settings rm -rf ~/.PhpStorm2018.3 some path app cache path ~/.PhpStorm2018.3 /Users/rovast/Library/Preferences/PhpStorm2018.3 keymap path ~/.PhpStorm2018.3/config/keymaps/ /Users/rovast/Library/Preferences/PhpStorm2018.3/keymaps keymap sublime plugins DynamicReturnTypePlugin CodeGlance Material Theme UI Atom One Dark color:#7F7CE9 WebStormé…ç½® webpack åˆ«å vue cli3 ä¸‹çš„ @ alias è§£å†³æ–¹æ¡ˆ https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000578284--alias-in-vue-cli-3-projects æ‰“å¼€ webpack é…ç½®ï¼Œå³ ctrl + shift + p è¾“å…¥ node_modules/@vue/cli-service/webpack.config.js .desktop Jetbrains å®¶æ—åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥ tools -&gt; create desktop entry å³å¯ /usr/share/applications æ–°å»º .desktop æ–‡ä»¶ 12345678910[Desktop Entry]Encoding=UTF-8Name=phpstorm IDEComment=The Smarter Way to CodeExec=/bin/sh &quot;/home/rovast/Software/PhpStorm-182.4129.45/bin/phpstorm.sh&quot;Icon=/home/rovast/Software/PhpStorm-182.4129.45/bin/phpstorm.pngCategories=Application;Development;Java;IDEVersion=1.0Type=ApplicationTerminal=0 QA æ–‡ä»¶å¯¼èˆªå¤±æ•ˆï¼ˆintellij-navigate-to-file-stopped-workingï¼‰ ç‚¹å‡»èœå• File | Invalidate Caches ï¼Œç„¶å restart å³å¯ å‚è€ƒï¼š https://stackoverflow.com/questions/10588408/intellij-navigate-to-file-stopped-working Wechatwindows å¾®ä¿¡å¤šå¼€ æ›¿æ¢è·¯å¾„å³å¯ 1234567@echo offstart /d &quot;C:\\Program Files (x86)\\Tencent\\WeChat\\&quot; wechat.exestart /d &quot;C:\\Program Files (x86)\\Tencent\\WeChat\\&quot; wechat.exeexit MacOS å¾®ä¿¡å¤šå¼€ 12#!/bin/bashopen -n /Applications/WeChat.app/Contents/MacOS/WeChat &amp;&amp; open -n /Applications/WeChat.app/Contents/MacOS/WeChat NginxNginx é…ç½®è·¨åŸŸscript1234567891011121314151617181920212223242526272829server &#123; listen 80; server_name demo.test; index index.php index.html; error_log /var/log/nginx/demo-error.log; access_log /var/log/nginx/demo-access.log; root /home/rovast/Code/demo/public; location / &#123; try_files $uri $uri/ /index.php$is_args$args; &#125; location ~ \\.php &#123; add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS, PUT'; try_files $uri =404; fastcgi_split_path_info ^(.+\\.php)(/.+)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; fastcgi_read_timeout 180; &#125;&#125;","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://rovast.github.io/categories/å·¥å…·/"}],"tags":[]},{"title":"äºŒè¿›åˆ¶è¿ç®—","slug":"binary-operation","date":"2018-12-07T18:34:26.000Z","updated":"2021-03-20T09:12:44.328Z","comments":true,"path":"2018/12/07/binary-operation/","link":"","permalink":"https://rovast.github.io/2018/12/07/binary-operation/","excerpt":"","text":"äºŒè¿›åˆ¶é€»è¾‘è¿ç®—é€»è¾‘åŠ æ³•ï¼ˆâ€œæˆ–â€è¿ç®—ï¼‰é€»è¾‘åŠ æ³•é€šå¸¸ç”¨ç¬¦å·â€œ+â€æˆ–â€œâˆ¨â€æ¥è¡¨ç¤ºã€‚é€»è¾‘åŠ æ³•è¿ç®—è§„åˆ™å¦‚ä¸‹ï¼š12340+0=0ï¼Œ 0âˆ¨0=00+1=1ï¼Œ 0âˆ¨1=11+0=1ï¼Œ 1âˆ¨0=11+1=1ï¼Œ 1âˆ¨1=1 ä»ä¸Šå¼å¯è§ï¼Œé€»è¾‘åŠ æ³•æœ‰â€œæˆ–â€çš„æ„ä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»™å®šçš„é€»è¾‘å˜é‡ä¸­ï¼ŒAæˆ–Båªè¦æœ‰ä¸€ä¸ªä¸º1ï¼Œå…¶é€»è¾‘åŠ çš„ç»“æœå°±ä¸º1ï¼›åªæœ‰å½“ä¸¤è€…éƒ½ä¸º0æ—¶é€»è¾‘åŠ çš„ç»“æœæ‰ä¸º0ã€‚ é€»è¾‘ä¹˜æ³•ï¼ˆâ€œä¸â€è¿ç®—ï¼‰é€»è¾‘ä¹˜æ³•é€šå¸¸ç”¨ç¬¦å·â€œÃ—â€æˆ–â€œâˆ§â€æˆ–â€œÂ·â€æ¥è¡¨ç¤ºã€‚é€»è¾‘ä¹˜æ³•è¿ç®—è§„åˆ™å¦‚ä¸‹ï¼š12340Ã—0=0ï¼Œ 0âˆ§0=0ï¼Œ 0Â·0=00Ã—1=0ï¼Œ 0âˆ§1=0ï¼Œ 0Â·1=01Ã—0=0ï¼Œ 1âˆ§0=0ï¼Œ 1Â·0=01Ã—1=1ï¼Œ 1âˆ§1=1ï¼Œ 1Â·1=1 ä¸éš¾çœ‹å‡ºï¼Œé€»è¾‘ä¹˜æ³•æœ‰â€œä¸â€çš„æ„ä¹‰ã€‚å®ƒè¡¨ç¤ºåªå½“å‚ä¸è¿ç®—çš„é€»è¾‘å˜é‡éƒ½åŒæ—¶å–å€¼ä¸º1æ—¶ï¼Œå…¶é€»è¾‘ä¹˜ç§¯æ‰ç­‰äº1ã€‚ å¼‚æˆ–é€»è¾‘è¿ç®—ï¼ˆâ€œåŠåŠ â€è¿ç®—ï¼‰å¼‚æˆ–è¿ç®—é€šå¸¸ç”¨ç¬¦å·â€âŠ•â€è¡¨ç¤ºï¼Œå…¶è¿ç®—è§„åˆ™ä¸ºï¼š12340âŠ•0=0 0åŒ0å¼‚æˆ–ï¼Œç»“æœä¸º00âŠ•1=1 0åŒ1å¼‚æˆ–ï¼Œç»“æœä¸º11âŠ•0=1 1åŒ0å¼‚æˆ–ï¼Œç»“æœä¸º11âŠ•1=0 1åŒ1å¼‚æˆ–ï¼Œç»“æœä¸º0 å³ä¸¤ä¸ªé€»è¾‘å˜é‡ç›¸å¼‚ï¼Œè¾“å‡ºæ‰ä¸º1 åç å°†äºŒè¿›åˆ¶æ•°åè½¬ï¼Œå¾—åˆ°çš„æ•°å³ä¸ºåŸäºŒè¿›åˆ¶çš„åç ï¼ˆonesâ€™ complementï¼‰ã€‚è‹¥æŸä¸€ä½ä¸º0ï¼Œåˆ™ä½¿å…¶å˜ä¸º1ï¼Œåä¹‹äº¦ç„¶ã€‚ ä¾‹å¦‚ï¼Œ+3æ˜¯0011ï¼Œç”¨åç è¡¨ç¤º-3ä¾¿æ˜¯1100ã€‚ ä¸‹è¡¨åˆ—å‡ºäº†4-bitäºŒè¿›æ•°æ‰€èƒ½è¡¨ç¤ºçš„æ•´æ•°ã€‚wiki åç  äºŒè¿›æ•° æ— ç¬¦å· ç¬¦å·æ¯”ç‰¹ åç  0000 0 0 0 0001 1 1 1 0010 2 2 2 0011 3 3 3 0100 4 4 4 0101 5 5 5 0110 6 6 6 0111 7 7 7 1000 8 -0 -7 1001 9 -1 -6 1010 10 -2 -5 1011 11 -3 -4 1100 12 -4 -3 1101 13 -5 -2 1110 14 -6 -1 1111 15 -7 -0 è¡¥ç wiki è¡¥ç  è¡¥ç ï¼ˆè‹±è¯­ï¼š2â€™s complementï¼‰æ˜¯ä¸€ç§ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰å·æ•°çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸€ç§å°†æ•°å­—çš„æ­£è´Ÿå·å˜å·çš„æ–¹å¼ï¼Œå¸¸åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ä½¿ç”¨ã€‚ ä¸€ä¸ªæ•°å­—çš„è¡¥ç å°±æ˜¯å°†è¯¥æ•°å­—ä½œæ¯”ç‰¹åç›¸è¿ç®—ï¼ˆå³åç ï¼‰ï¼Œå†å°†ç»“æœåŠ 1ã€‚å³ï¼šåç åŠ 1 ã€‚åœ¨è¡¥ç ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè´Ÿæ•°å°±æ˜¯ç”¨å…¶å¯¹åº”æ­£æ•°çš„è¡¥ç æ¥è¡¨ç¤ºã€‚ ä»¥ä¸‹ç”¨4ä½çš„è¡¥ç æ•°å­—æ¥è¯´æ˜è¡¥ç ç³»ç»Ÿçš„æ•°å­—è¡¨ç¤ºæ–¹å¼ åœ¨è¡¨ç¤ºæ­£æ•°å’Œé›¶æ—¶ï¼Œè¡¥ç æ•°å­—å’Œä¸€èˆ¬äºŒè¿›åˆ¶ä¸€æ ·ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯åœ¨è¡¥ç ç³»ç»Ÿä¸­ï¼Œæ­£æ•°çš„æœ€é«˜æ¯”ç‰¹æ’ä¸º0ï¼Œå› æ­¤4ä½çš„è¡¥ç æ­£æ•°ï¼Œæœ€å¤§æ•°å­—ä¸º0111 (7)ã€‚ è¡¥ç æ•°å­—çš„è´Ÿæ•°ï¼Œæœ€é«˜æ¯”ç‰¹æ’ä¸º1ï¼Œ4ä½è¡¥ç çš„æ•°å­—ä¸­ï¼Œæœ€æ¥è¿‘0çš„è´Ÿæ•°ä¸º1111 (-1)ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå› æ­¤ç»å¯¹å€¼æœ€å¤§çš„è´Ÿæ•°æ˜¯1000(-8)ã€‚ ä»¥ä¸Šçš„è¡¨ç¤ºæ–¹å¼åœ¨è®¡ç®—æœºå¤„ç†æ—¶æ ¼å¤–æ–¹ä¾¿ï¼Œç”¨ä»¥ä¸‹çš„ä¾‹å­è¯´æ˜ï¼š1234 0011 ( 3) + 1111 (-1)-------------- 10010 ( 2) ç»“æœ10010ä¼¼ä¹æ˜¯é”™çš„ï¼Œå› ä¸ºå·²ç»è¶…è¿‡å››ä¸ªæ¯”ç‰¹ï¼Œä¸è¿‡è‹¥å¿½ç•¥æ‰ï¼ˆä»å³æ•°èµ·çš„ï¼‰ç¬¬5ä¸ªæ¯”ç‰¹ï¼Œç»“æœæ˜¯0010 (2)ï¼Œå’Œæˆ‘ä»¬è®¡ç®—çš„ç»“æœä¸€æ ·ã€‚è€Œä¸”è‹¥å¯ä»¥å°†äºŒè¿›åˆ¶çš„1111 (-1)å˜å·ä¸º0001 (1)ï¼Œä»¥ä¸Šçš„å¼å­ä¹Ÿå¯ä»¥è®¡ç®—å‡æ³•ï¼š3-1 = 2ã€‚ è¿ç®—åŠ æ³• äºŒè¡¥æ•°ç³»ç»Ÿæ•°å­—çš„åŠ æ³•å’Œä¸€èˆ¬åŠ æ³•ç›¸åŒï¼Œè€Œä¸”åœ¨è¿ç®—å®Œæˆåå°±å¯ä»¥çœ‹å‡ºç»“æœçš„æ­£è´Ÿå·ï¼Œä¸éœ€ç‰¹åˆ«çš„å¤„ç†ã€‚ æ­£æ•°ä¸è´Ÿæ•°ç›¸åŠ ä¸ä¼šå‡ºç°ä¸Šæº¢é”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬çš„å’Œä¸€å®šä¼šå°äºåŠ æ•°ã€‚åªæœ‰åœ¨ä¸¤ä¸ªåŒæ­£è´Ÿå·çš„æ•°ç›¸åŠ æ—¶ï¼Œä¸Šæº¢é”™è¯¯æ‰æœ‰å¯èƒ½å‘ç”Ÿï¼Œè¿™æ—¶å€™å®ƒä»¬çš„å’Œä¸åŠ æ•°çš„æ­£è´Ÿå·ç›¸åã€‚ ä»¥15åŠ  -5ä¸ºä¾‹ï¼š12345 11111 111ï¼ˆè¿›ä½ï¼‰ 0000 1111 (15)+ 1111 1011 (-5)================== 0000 1010 (10) ç”±äºåŠ æ•°å’Œè¢«åŠ æ•°éƒ½æ˜¯8ä½ï¼Œå› æ­¤è¿ç®—ç»“æœä¹Ÿé™åˆ¶åœ¨8ä½å†…ã€‚ç¬¬8ä½ç›¸åŠ åäº§ç”Ÿçš„è¿›ä½ä¸è€ƒè™‘ï¼ˆå› ä¸ºä¸å­˜åœ¨ç¬¬9æ¯”ç‰¹ï¼‰çš„1è¢«å¿½ç•¥ï¼Œæ‰€ä»¥å…¶ç»“æœä¸º10ã€‚è€Œ15 + (-5) = 10ï¼Œè®¡ç®—ç»“æœæ­£ç¡®ã€‚ åœ¨ä»¥ä¸Šè®¡ç®—å¼ä¸­ï¼Œå¯ä»¥ç”±è¿›ä½åˆ—çš„æœ€å·¦ä¾§äºŒä¸ªæ¯”ç‰¹å¾—çŸ¥ç»“æœæ˜¯å¦å‡ºç°æº¢å‡ºã€‚æº¢å‡ºå°±æ˜¯æ•°å­—çš„ç»å¯¹å€¼å¤ªå¤§ï¼Œä»¥è‡´äºæ— æ³•åœ¨æŒ‡å®šçš„äºŒè¿›åˆ¶æ¯”ç‰¹ä¸ªæ•°æ¥è¡¨ç¤ºï¼ˆåœ¨æ­¤ä¾‹ä¸­ï¼Œæ˜¯è¶…è¿‡8ä½çš„èŒƒå›´ï¼‰ã€‚è‹¥è¿›ä½åˆ—çš„æœ€å·¦ä¾§äºŒä¸ªæ¯”ç‰¹åŒä¸º0æˆ–åŒä¸º1ï¼Œè¡¨ç¤ºç»“æœæ­£ç¡®ï¼Œè‹¥æ˜¯ä¸€ä¸ªä¸º0ï¼Œå¦ä¸€ä¸ªä¸º1ï¼Œè¡¨ç¤ºå‡ºç°æº¢å‡ºé”™è¯¯ã€‚ä¹Ÿå¯ä»¥å¯¹æ­¤äºŒä¸ªæ¯”ç‰¹è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œç»“æœä¸º1æ—¶ï¼Œè¡¨ç¤ºå‡ºç°æº¢å‡ºé”™è¯¯ã€‚ä»¥ä¸‹ä»¥7 + 3çš„4ä½åŠ æ³•è¯´æ˜æº¢å‡ºé”™è¯¯çš„æƒ…å½¢ã€‚ 12345 0111 (è¿›ä½) 0111 (7)+ 0011 (3)============= 1010 (âˆ’6) ç»“æœä¸æ­£ç¡®ï¼åœ¨æ­¤ä¾‹ä¸­ï¼Œè¿›ä½åˆ—çš„æœ€å·¦ä¾§äºŒä¸ªæ¯”ç‰¹ä¸º01ï¼Œå› æ­¤å‡ºç°æº¢å‡ºé”™è¯¯ã€‚æº¢å‡ºçš„åŸå› æ˜¯7 + 3çš„ç»“æœ(10)è¶…è¿‡è¡¥ç ç³»ç»Ÿ4ä½æ‰€å¯ä»¥è¡¨ç¤ºçš„æ•°å­—èŒƒå›´ -8~7ã€‚ æ•…ä¸ºé˜²æ­¢æº¢å‡ºé”™è¯¯ï¼ŒäºŒè¡¥æ•°åœ¨è¿›è¡ŒåŠ æ³•è¿ç®—æ—¶é€šå¸¸è®²ç¬¦å·ä½è¿›è¡Œå¤åˆ¶åè¿½åŠ åˆ°æœ€é«˜ä½ä¹‹å‰ï¼Œå³è®¾äºŒè¡¥æ•°Bçš„ä½æ•°ä¸ºWIDTHï¼Œåˆ™Bâ€²={B[WIDTH-1],B}ã€‚åº”æ³¨æ„æ­¤å¤„Bâ€²çš„ä½æ•°ä¸ºWIDTH+1ã€‚ å¦‚ä¸Šä¸¤ä¾‹ç”¨æ­¤æ–¹æ³•è¿›è¡Œè®¡ç®—ï¼š 12345 11 1111 111ï¼ˆè¿›ä½ï¼‰ 0 0000 1111 (15) +1 1111 1011 (-5) ==================(1)0 0000 1010 (10) ç”±äºWIDTH+1=8+1=9ï¼Œæ•…è€Œç¬¬åä½çš„1åŒæ ·ç”±äºæº¢å‡ºè€Œè¢«çœç•¥ï¼Œç»“æœä»ä¸º10ã€‚ä¸¤è´Ÿæ•°(ç¬¦å·ä½ä¸º1)ç›¸åŠ æ—¶åŒç†ã€‚ 12345 111 (è¿›ä½) 0 0111 (7)+0 0011 (3)============= 0 1010 (10) ç»“æœæ­£ç¡®ï¼ç”±äºWIDTH+1=4+1=5ï¼Œæ•…ç¬¬äº”ä½çš„0ä»ä¸ºç¬¦å·ä½ï¼Œå¾—ç»“æœæ­£æ•°10(åè¿›åˆ¶)ã€‚ å‡æ³• å‡æ³•é€šå¸¸è½¬åŒ–ä¸ºåŠ æ³•è¿›è¡Œè¿ç®—ï¼Œå°†å‡æ•°å–è¡¥ä¹‹åï¼Œå†ä¸è¢«å‡æ•°è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå³å¯å¾—å‡ºå·®ã€‚ ä¹˜æ³• ä¹˜æ³•åœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œå…¶å®å°±æ˜¯ä¸æ–­çš„åšåŠ æ³•ã€‚ ä¾‹å¦‚:3*5=3+3+3+3+3=15 é™¤æ³• é™¤æ³•å°±æ˜¯ç›¸å‡ã€‚ ä¾‹å¦‚:10/3=10-3-3-3=1mod3 è€Œå‡æ³•åˆå¯åšäºŒçš„è¡¥æ•°ç›¸åŠ ï¼Œæ‰€ä»¥æ‰€æœ‰å››åˆ™è¿ç®—çš„åŸºç¡€éƒ½æ˜¯ç”±åŠ æ³•è€Œæ¥ã€‚ è¡¥ç çš„å·¥ä½œåŸç†ä¸ºä»€ä¹ˆè¡¥ç èƒ½è¿™ä¹ˆå·§å¦™å®ç°äº†æ­£è´Ÿæ•°çš„åŠ å‡è¿ç®—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæŒ‡å®šnæ¯”ç‰¹å­—é•¿ï¼Œé‚£ä¹ˆå°±åªæœ‰2nä¸ªå¯èƒ½çš„å€¼ï¼ŒåŠ å‡æ³•è¿ç®—éƒ½å­˜åœ¨ä¸Šæº¢å‡ºä¸ä¸‹æº¢å‡ºçš„æƒ…å†µï¼Œå®é™…ä¸Šéƒ½ç­‰ä»·äºæ¨¡2nçš„åŠ å‡æ³•è¿ç®—ã€‚è¿™å¯¹äºnæ¯”ç‰¹æ— ç¬¦å·æ•´æ•°ç±»å‹æˆ–æ˜¯næ¯”ç‰¹æœ‰ç¬¦å·æ•´æ•°ç±»å‹éƒ½åŒæ ·é€‚ç”¨ã€‚ ä¾‹å¦‚ï¼Œ8ä½æ— ç¬¦å·æ•´æ•°çš„å€¼çš„èŒƒå›´æ˜¯0åˆ°255.å› æ­¤4+254å°†ä¸Šæº¢å‡ºï¼Œç»“æœæ˜¯2ï¼Œå³(4+254) \\equiv 258 \\equiv 2 \\pmod{256}ã€‚ ä¾‹å¦‚ï¼Œ8ä½æœ‰ç¬¦å·æ•´æ•°çš„å€¼çš„èŒƒå›´ï¼Œå¦‚æœè§„å®šä¸ºâˆ’128åˆ°127,åˆ™126+125å°†ä¸Šæº¢å‡ºï¼Œç»“æœæ˜¯âˆ’5ï¼Œå³(126+125) \\equiv 251 \\equiv -5 \\pmod{256}ã€‚ å¯¹äº8ä½å­—é•¿çš„æœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œä»¥28å³256ä¸ºæ¨¡ï¼Œåˆ™ 12345-128 &amp; \\equiv 128 \\pmod&#123;256&#125; \\\\-127 &amp; \\equiv 129 \\pmod&#123;256&#125; \\\\-2 &amp; \\equiv 254 \\pmod&#123;256&#125; \\\\-1 &amp; \\equiv 255 \\pmod&#123;256&#125; \\\\ æ‰€ä»¥æ¨¡256ä¸‹çš„åŠ å‡æ³•ï¼Œç”¨0, 1, 2,â€¦, 254,255è¡¨ç¤ºå…¶å€¼ï¼Œæˆ–è€…ç”¨âˆ’128, âˆ’127,â€¦, âˆ’1, 0, 1, 2,â€¦,127æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚âˆ’128ä¸128ï¼Œâˆ’127ä¸129ï¼Œâ€¦ï¼Œâˆ’2ä¸254ï¼Œâˆ’1ä¸255å¯ä»¥äº’æ¢è€ŒåŠ å‡æ³•çš„ç»“æœä¸å˜ã€‚ä»è€Œï¼ŒæŠŠ8ä½ï¼ˆoctetï¼‰çš„é«˜åŠéƒ¨åˆ†ï¼ˆå³äºŒè¿›åˆ¶çš„1000 0000åˆ°1111 1111ï¼‰è§£é‡Šä¸ºâˆ’128åˆ°âˆ’1ï¼ŒåŒæ ·ä¹Ÿå®ç°äº†æ¨¡256çš„åŠ å‡æ³•ï¼Œè€Œä¸”æ‰€éœ€è¦çš„CPUåŠ æ³•è¿ç®—å™¨çš„ç”µè·¯å®ç°ä¸8ä½æ— ç¬¦å·æ•´æ•°å¹¶æ— ä¸åŒã€‚ å®é™…ä¸Šå¯¹äº8æ¯”ç‰¹çš„å­˜å‚¨å•å…ƒï¼ŒæŠŠå®ƒçš„å–å€¼[00000000,â€¦, 11111111]è§£é‡Šä¸º[0, 255],æˆ–è€…[-1, 254]ï¼Œæˆ–è€…[-2, 253]ï¼Œæˆ–è€…[-128, 127]ï¼Œæˆ–è€…[-200, 55]ï¼Œç”šè‡³æˆ–è€…[500, 755]ï¼Œå¯¹äºåŠ æ³•ç¡¬ä»¶å®ç°å¹¶æ— ä¸åŒã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[]},{"title":"mac ä¸Šé…ç½® nginx ç«¯å£è½¬å‘è®¿é—® angular é¡¹ç›®","slug":"nginx-proxy-on-mac","date":"2018-12-06T21:03:01.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/06/nginx-proxy-on-mac/","link":"","permalink":"https://rovast.github.io/2018/12/06/nginx-proxy-on-mac/","excerpt":"","text":"èƒŒæ™¯åœ¨è¿›è¡Œå‰ç«¯çš„ç§»åŠ¨ç«¯å¼€å‘æ—¶ï¼Œéœ€è¦åœ¨æ‰‹æœºä¸Šé¢„è§ˆç”µè„‘ä¸Šçš„é¡¹ç›®ã€‚ä»¥ angular ä¸ºä¾‹ï¼Œé»˜è®¤å¯åŠ¨é¡¹ç›®åï¼Œåœ¨å¼€å‘æœºï¼ˆä»¥ Mac ä¸ºä¾‹ï¼‰çš„æµè§ˆå™¨åœ°å€æ è¾“å…¥ http://localhost:4200 å³å¯è®¿é—®ã€‚ æˆ‘ä»¬å‡è®¾å‰ç«¯é»˜è®¤å¼€å¯çš„ç«¯å£å·æ˜¯4200 å¦‚æœæƒ³è¦åœ¨æ‰‹æœºä¸Šè®¿é—®ï¼Œæˆ‘ä»¬å…ˆç¡®ä¿æ‰‹æœºå’Œ Mac é“¾æ¥çš„åŒä¸€ä¸ªç½‘ç»œï¼ˆé“¾æ¥åŒä¸€ä¸ª WIFI å³å¯ï¼‰ï¼ŒMac ä¸Šè¾“å…¥ 12# æŸ¥çœ‹æœ¬æœº ip åœ°å€ifconfig è¾“å‡º1234567en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500 ether f0:xxxxxxxx inet6 xxxxxxxx prefixlen 64 secured scopeid 0xa inet 192.168.1.102 netmask 0xffffff00 broadcast 192.168.1.255 nd6 options=201&lt;PERFORMNUD,DAD&gt; media: autoselect status: active æˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬ ip ä¸º 192.168.1.102ã€‚é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥åœ¨æ‰‹æœºæµè§ˆå™¨è¾“å…¥ http://192.168.1.102:4200ï¼Œå‘ç°å¹¶ä¸èƒ½è®¿é—®ã€‚ç†è®ºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ webpack æˆ–è€…å…¶ä»–çš„ä¸€äº›é…ç½®æ¥ä½¿æ‰‹æœºæ­£å¸¸è®¿é—®ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡ç”¨å¦ä¸€ç§æ–¹å¼æ¥è§£å†³ï¼Œå³ï¼šNginx ç«¯å£è½¬å‘ã€‚ ä½¿ç”¨ Nginx è¿›è¡Œç«¯å£è½¬å‘1. å®‰è£… Nginx1brew install nginx 2. æ–°å»ºé…ç½®æ–‡ä»¶12345# è¿›å…¥ nginx server é…ç½®ç›®å½•cd /usr/local/etc/nginx/servers# æ–°å»ºé…ç½®æ–‡ä»¶sudo vi fe.conf åœ¨æ‰“å¼€çš„ vi ç¼–è¾‘å™¨ä¸­è¿›è¡Œä¸‹è¿°æ“ä½œ åˆ†åˆ«è¾“å…¥ : iï¼Œçœ‹åˆ°ç¼–è¾‘å™¨å·¦ä¸‹è§’è¿›å…¥ â€˜INSERTâ€™ æ¨¡å¼ è¾“å…¥ä¸‹è¿°å†…å®¹1234567server &#123; listen 8888; server_name localhost; location / &#123; proxy_pass http://127.0.0.1:4200; &#125; &#125; å…¶ä¸­ 8888 è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›æ‰‹æœºç«¯è®¿é—®çš„ç«¯å£å·ï¼Œè€Œ 4200 è¡¨ç¤ºå¼€å‘ç¯å¢ƒä¸­ angular å®é™…çš„ç«¯å£å· 3. é‡å¯ Nginx12# é‡å¯ nginx æœåŠ¡sudo brew services restart nginx 4. éªŒè¯ç»“æœ12# æŸ¥çœ‹æœ¬æœºå·²ç»æ‰“å¼€çš„æ‰€æœ‰ç«¯å£netstat -an | grep -i listen è¾“å…¥çš„ç»“æœç±»ä¼¼äº12345678âœ servers showportstcp4 0 0 *.8888 *.* LISTENtcp4 0 0 *.8080 *.* LISTENtcp4 0 0 127.0.0.1.4200 *.* LISTENtcp6 0 0 *.50306 *.* LISTENtcp4 0 0 *.50306 *.* LISTENtcp4 0 0 127.0.0.1.4301 *.* LISTENtcp4 0 0 127.0.0.1.4300 *.* LISTEN æˆ‘ä»¬çœ‹åˆ°ç¬¬ä¸€è¡Œå°±æœ‰ *.8888ï¼Œè¡¨ç¤ºæˆåŠŸäº†ï¼ 5 æ‰‹æœºç«¯è®¿é—®ç¡®ä¿æ‰‹æœºç«¯å’Œ Mac åœ¨åŒä¸€å±€åŸŸç½‘åï¼Œæ‰‹æœºç«¯è®¿é—® http://192.168.1.102:8888/ å³å¯ DONE!","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://rovast.github.io/tags/nginx/"}]},{"title":"makefile ä¸­ ç«–çº¿ã€|ã€ç®¡é“ç¬¦çš„ä½œç”¨","slug":"pipe-symbol-in-makefile","date":"2018-12-04T18:07:53.000Z","updated":"2021-03-20T09:12:44.360Z","comments":true,"path":"2018/12/04/pipe-symbol-in-makefile/","link":"","permalink":"https://rovast.github.io/2018/12/04/pipe-symbol-in-makefile/","excerpt":"","text":"æœ€è¿‘åœ¨çœ‹ä¸€ä¸ªå¼€æºé¡¹ç›®æ—¶ï¼Œè¢« makefile é‡Œçš„ä¸€ä¸ªå°é—®é¢˜å›°æ‰°äº†å¥½ä¹…ã€‚æœç´¢è‰¯ä¹…ï¼Œç»ˆäºæ‰¾åˆ°äº†æƒå¨çš„è§£é‡Šï¼Œç‰¹æ­¤è®°å½•ä¸‹ã€‚ é‚£å°±æ˜¯ï¼Œmakefile ä¸­ç®¡é“ç¬¦å·ï¼ˆ|ï¼‰çš„ä½œç”¨ã€‚ ä»¥ä¸‹æ‘˜è‡ª https://www.gnu.org/software/make/manual/make.html ï¼Œ 4.3 Types of PrerequisitesThere are actually two different types of prerequisites understood by GNU make: normal prerequisites such as described in the previous section, and order-only prerequisites. A normal prerequisite makes two statements: first, it imposes an order in which recipes will be invoked: the recipes for all prerequisites of a target will be completed before the recipe for the target is run. Second, it imposes a dependency relationship: if any prerequisite is newer than the target, then the target is considered out-of-date and must be rebuilt. Normally, this is exactly what you want: if a targetâ€™s prerequisite is updated, then the target should also be updated. Occasionally, however, you have a situation where you want to impose a specific ordering on the rules to be invoked without forcing the target to be updated if one of those rules is executed. In that case, you want to define order-only prerequisites. Order-only prerequisites can be specified by placing a pipe symbol (|) in the prerequisites list: any prerequisites to the left of the pipe symbol are normal; any prerequisites to the right are order-only: targets : normal-prerequisites | order-only-prerequisites The normal prerequisites section may of course be empty. Also, you may still declare multiple lines of prerequisites for the same target: they are appended appropriately (normal prerequisites are appended to the list of normal prerequisites; order-only prerequisites are appended to the list of order-only prerequisites). Note that if you declare the same file to be both a normal and an order-only prerequisite, the normal prerequisite takes precedence (since they have a strict superset of the behavior of an order-only prerequisite). Consider an example where your targets are to be placed in a separate directory, and that directory might not exist before make is run. In this situation, you want the directory to be created before any targets are placed into it but, because the timestamps on directories change whenever a file is added, removed, or renamed, we certainly donâ€™t want to rebuild all the targets whenever the directoryâ€™s timestamp changes. One way to manage this is with order-only prerequisites: make the directory an order-only prerequisite on all the targets: 123456789101112OBJDIR := objdirOBJS := $(addprefix $(OBJDIR)/,foo.o bar.o baz.o)$(OBJDIR)/%.o : %.c $(COMPILE.c) $(OUTPUT_OPTION) $&lt;all: $(OBJS)$(OBJS): | $(OBJDIR)$(OBJDIR): mkdir $(OBJDIR) Now the rule to create the objdir directory will be run, if needed, before any â€˜.oâ€™ is built, but no â€˜.oâ€™ will be built because the objdir directory timestamp changed. å¯èƒ½éœ€è¦çš„å•è¯åˆ—è¡¨ prerequisites å…ˆå†³æ¡ä»¶ Occasionally å¶ç„¶çš„ impose å¼ºåˆ¶ invoked å¼•ç”¨ recipes æ–¹æ³•","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://rovast.github.io/categories/ç¼–ç¨‹/"}],"tags":[{"name":"makefile","slug":"makefile","permalink":"https://rovast.github.io/tags/makefile/"},{"name":"ç®¡é“","slug":"ç®¡é“","permalink":"https://rovast.github.io/tags/ç®¡é“/"}]},{"title":"gnomeä¸»é¢˜æ¨èmacOS Mojave","slug":"gnome-theme-macos-mojave","date":"2018-12-04T17:51:09.000Z","updated":"2021-03-20T09:12:44.336Z","comments":true,"path":"2018/12/04/gnome-theme-macos-mojave/","link":"","permalink":"https://rovast.github.io/2018/12/04/gnome-theme-macos-mojave/","excerpt":"","text":"æ•ˆæœé¢„è§ˆ å…¶å® gnome æŠ˜è…¾ä¸»é¢˜å‡ºä¹æ„æ–™çš„æ–¹ä¾¿ï¼ŒåŸºæœ¬åœ¨ gnome-look ç½‘ç«™ä¸Šçœ‹å¥½äº†ï¼Œä¸‹è½½åˆ°æŒ‡å®šç›®å½•å°±å®Œäº‹äº†ã€‚ä¸‹é¢æ¨èä¸€æ¬¾ macOS Mojave çš„ä¸»é¢˜ï¼Œä»¿çœŸåº¦è¿˜æ˜¯è›®é«˜çš„ã€‚ ç½‘å€ï¼šhttps://www.opendesktop.org/p/1275087/ ä¸‹è½½å¯¹åº”æ–‡ä»¶å³å¯ è§£å‹åï¼Œæ”¾åˆ°ä»¥ä¸‹ç›®å½• ä¸»é¢˜ç›®å½•ï¼š ~/.themes å›¾æ ‡ç›®å½•ï¼š ~/.icons ç„¶åå°± ok äº†","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"gnome","slug":"gnome","permalink":"https://rovast.github.io/tags/gnome/"}]},{"title":"linuxæ ¹æ®è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹","slug":"linuxæ ¹æ®è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹","date":"2018-12-04T17:17:21.000Z","updated":"2021-03-20T09:12:44.344Z","comments":true,"path":"2018/12/04/linuxæ ¹æ®è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹/","link":"","permalink":"https://rovast.github.io/2018/12/04/linuxæ ¹æ®è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹/","excerpt":"","text":"æˆ‘ä»¬çŸ¥é“ï¼Œé€šè¿‡ kill -9 PID å‘½ä»¤å¯ä»¥æŒ‡å®š pid çš„è¿›ç¨‹ï¼Œå¦‚æœæˆ‘ä»¬åªçŸ¥é“è¿›ç¨‹çš„åç§°æ€ä¹ˆæ€æ­»å‘¢ï¼Ÿ é€šè¿‡ pkill ä¹Ÿèƒ½æ ¹æ®åç§°æ€æ­»ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œæœç´¢ä¸‹ æ€è·¯ æ ¹æ®åç§°æ‰¾å‡ºéœ€è¦æ€æ­»çš„è¿›ç¨‹åˆ—è¡¨ ps -aux | grep åˆ—å‡º pid åˆ—è¡¨ awk è°ƒç”¨ kill æ€æ­»è¿›ç¨‹ ç¤ºä¾‹æ€æ­»åŒ…å«åç§°ä¸º phpstorm çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆå…¶å®å°±æ˜¯å¼ºåˆ¶å…³é—­ phpstormï¼Œåœ¨ phpstorm å‡æ­»æ—¶å¾ˆæœ‰ç”¨ï¼‰ å…ˆæ‰¾å‡ºåä¸º phpstorm çš„è¿›ç¨‹åˆ—è¡¨1ps -aux | grep phpstorm æ‰“å°å‡º pid åˆ—è¡¨1ps -aux | grep phpstorm | awk '&#123;print $2&#125;' æ€æ­»1sudo kill -9 $(ps -aux | grep phpstorm | awk '&#123;print $2&#125;') å…¶å®å°±æ˜¯æŠŠç»“æœçš„åˆ—è¡¨ç”¨ $ åŒ…è£¹èµ·æ¥ä½œä¸ºä¸€ä¸ªå˜é‡ï¼Œç„¶å kill -9 ä¼šæŠŠé‚£äº›ç»“æœéƒ½ç”¨èµ·æ¥ã€‚awk ä¸­çš„ $2 è¡¨ç¤ºç»“æœçš„ç¬¬äºŒåˆ—ï¼Œä¹Ÿå°±æ˜¯ id åˆ—ï¼Œè¯•ç€æ”¹æˆ $1ï¼Œå°±ä¼šæ‰“å°å‡ºç¬¬ä¸€åˆ—ï¼Œå³ rovast æ€»ç»“æˆ‘ä»¬å¯ä»¥åŠ ä¸€ä¸ªå‡½æ•°ï¼Œä¾¿äºç›´æ¥è°ƒç”¨ï¼Œåœ¨ ~/.bashrc æˆ–è€…æ˜¯ ~/.zshrc ä¸­åŠ å…¥ä¸‹è¿°å‡½æ•° 123function killByName() &#123; sudo kill -9 $(ps -aux | grep $1 | awk '&#123;print $2&#125;')&#125; è¿™æ ·ï¼Œæ€æ­» phpstorm å¯ä»¥ç®€åŒ–ä¸º killByName phpstorm å‡½æ•°ä¸­çš„ $1 è¡¨ç¤ºæ‹¿åˆ°å‘½ä»¤è¡Œ killByName åçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³ phpstormï¼Œä¹‹åä¼šæ‰§è¡Œ sudo kill -9 $(ps -aux | grep phpstorm | awk â€˜{print $2}â€™) è¿™é‡Œä¸»è¦éœ€è¦æ³¨æ„ä¸‹è¿°æŒ‡ä»¤ ps grep awk åœ¨åˆ é™¤å·²é€€å‡º docker å®¹å™¨æ—¶ï¼Œä¹Ÿç”¨åˆ°äº†æ­¤ç±»æ–¹æ³• 1docker rm $(docker ps -a | grep Exit | awk '&#123;print $1&#125;') å…¶å®å°±æ˜¯æŠŠ docker ps -a | grep Exit çš„ç¬¬ä¸€è¡Œç»“æœï¼ˆå°±æ˜¯hashidåˆ—è¡¨ï¼‰æå–å‡ºæ¥ï¼Œç”¨ docker rm åˆ æ‰è¿™äº›ç»“æœã€‚ æˆ‘ä»¬åŒæ ·å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œå°±ä¸å†™äº†ï¼Œéœ€è¦çš„ç«¥é‹è‡ªå·±æ ¹æ® killByName åº”è¯¥èƒ½å†™å‡ºæ¥ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://rovast.github.io/categories/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://rovast.github.io/tags/linux/"},{"name":"kill","slug":"kill","permalink":"https://rovast.github.io/tags/kill/"}]},{"title":"Ubuntu18.04å®‰è£…æ·±åº¦æˆªå›¾","slug":"Ubuntu18-04å®‰è£…æ·±åº¦æˆªå›¾","date":"2018-12-03T21:04:15.000Z","updated":"2021-03-20T09:12:44.324Z","comments":true,"path":"2018/12/03/Ubuntu18-04å®‰è£…æ·±åº¦æˆªå›¾/","link":"","permalink":"https://rovast.github.io/2018/12/03/Ubuntu18-04å®‰è£…æ·±åº¦æˆªå›¾/","excerpt":"","text":"Ubuntué»˜è®¤çš„æˆªå›¾å¯ä»¥ä½¿ç”¨ shift + printScreen ç»„åˆé”®æ¥æˆªå–åŒºåŸŸæˆªå›¾ï¼Œä¿å­˜åœ¨å›¾ç‰‡æ–‡ä»¶å¤¹ä¸­ã€‚ä½†æ˜¯ï¼Œ æˆ‘è§‰å¾—è¿˜æ˜¯æ·±åº¦æˆªå›¾å¥½ç”¨ã€‚ 1. ä¸‹è½½debåŒ…è®¿é—® http://packages.linuxdeepin.com/deepin/pool/main/d/deepin-scrot/ ä¸‹è½½ deepin-scrot_2.0-0deepin_all.deb æˆ–è€…ç›´æ¥ wget http://packages.linuxdeepin.com/deepin/pool/main/d/deepin-scrot/deepin-scrot_2.0-0deepin_all.deb 2019å¹´06æœˆ17æ—¥ æ›´æ–° ä¸Šé¢çš„é“¾æ¥å¤±æ•ˆäº†ï¼Œç°åœ¨ä¸Šä¼ äº†è¿™ä¸ª deb åŒ…ï¼Œç‚¹å‡»å¯ä¸‹è½½ deepin-scrot_2.0-0deepin_all.deb 2. å®‰è£…1234sudo dpkg -i deepin-scrot_2.0-0deepin_all.deb# å‡ºç°ä¾èµ–é—®é¢˜sudo apt-get -f install 3. å®‰è£…å…¶ä»–ä¸€äº›ä¾èµ–123sudo apt-get install qt5-qmake qttools5-dev qt5-default \\qtbase5-dev python-gtk2 python-gtk2-dbg python-gtk2-dev \\python-gtk2-doc libcanberra-gtk-dev 4. ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ deepin-scrot å³å¯ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¿«æ·é”® ï¼ˆæˆ‘çš„æ˜¯ Ctrl Shift Aï¼‰","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://rovast.github.io/tags/ubuntu/"},{"name":"æˆªå›¾","slug":"æˆªå›¾","permalink":"https://rovast.github.io/tags/æˆªå›¾/"}]},{"title":"è§£å†³å‘½ä»¤è¡Œä¸­æ–¹å‘é”®åŠå°é”®ç›˜ä¸å¯ç”¨çš„é—®é¢˜","slug":"è§£å†³å‘½ä»¤è¡Œä¸­æ–¹å‘é”®åŠå°é”®ç›˜ä¸å¯ç”¨çš„é—®é¢˜","date":"2018-11-27T20:37:24.000Z","updated":"2021-03-20T09:12:44.368Z","comments":true,"path":"2018/11/27/è§£å†³å‘½ä»¤è¡Œä¸­æ–¹å‘é”®åŠå°é”®ç›˜ä¸å¯ç”¨çš„é—®é¢˜/","link":"","permalink":"https://rovast.github.io/2018/11/27/è§£å†³å‘½ä»¤è¡Œä¸­æ–¹å‘é”®åŠå°é”®ç›˜ä¸å¯ç”¨çš„é—®é¢˜/","excerpt":"","text":"æœ€è¿‘åœ¨ä½¿ç”¨ Laravel çš„ tinker çš„æ—¶å€™ï¼Œå‡ºç°è¾“å…¥æ–¹å‘é”®æˆ–è€…æ˜¯å°é”®ç›˜çš„æ—¶å€™ï¼Œæ˜¾ç¤ºç±»ä¼¼ ^[[A ^[[B çš„æƒ…å†µï¼Œç‰¹æ­¤è®°å½•ã€‚ åœ¨ Google ä¸€ç•ªæœç´¢åï¼Œæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼šhttps://stackoverflow.com/questions/28733733/arrow-keys-not-working-in-shell ä½¿ç”¨ä¸‹è¿°å‘½ä»¤æ‰“å¼€å³å¯ï¼š1rlwrap php artisan tinker å¦‚æœæœ¬æœºæœªå®‰è£… rlwrapï¼Œå¯ä»¥è‡ªè¡Œå®‰è£…12345# debiansudo apt-get install rlwrap# centossudo yum install rlwrap è®°å½•ç‚¹æ»´ï¼Œé¿å…é‡å¤çˆ¬å‘","categories":[{"name":"æ‚é¡¹","slug":"æ‚é¡¹","permalink":"https://rovast.github.io/categories/æ‚é¡¹/"}],"tags":[{"name":"laravel","slug":"laravel","permalink":"https://rovast.github.io/tags/laravel/"},{"name":"å‘½ä»¤è¡Œ","slug":"å‘½ä»¤è¡Œ","permalink":"https://rovast.github.io/tags/å‘½ä»¤è¡Œ/"},{"name":"tinker","slug":"tinker","permalink":"https://rovast.github.io/tags/tinker/"}]}]}